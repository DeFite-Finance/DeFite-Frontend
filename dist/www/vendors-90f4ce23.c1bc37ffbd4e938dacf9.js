"use strict";(self.webpackChunkhugiris_nft=self.webpackChunkhugiris_nft||[]).push([[6882],{82415:function(e,t,r){r.d(t,{RQ:function(){return X},_R:function(){return p}});var n=r(53587),i=r(80711);const o="abi/5.0.7";r(25108);const s=new i.Yd(o),f={};let a={calldata:!0,memory:!0,storage:!0},u={calldata:!0,memory:!0};function d(e,t){if("bytes"===e||"string"===e){if(a[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&u[t])return!0;return(a[t]||"payable"===t)&&s.throwArgumentError("invalid modifier","name",t),!1}function c(e,t){for(let r in t)(0,n.zG)(e,r,t[r])}const h=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),l=new RegExp(/^(.*)\[([0-9]*)\]$/);class p{constructor(e,t){e!==f&&s.throwError("use fromString",i.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),c(this,t);let r=this.type.match(l);c(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:p.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=h.sighash),h[e]||s.throwArgumentError("invalid format type","format",e),e===h.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==h.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===h.full?", ":",")+")"):t+=this.type,e!==h.sighash&&(!0===this.indexed&&(t+=" indexed"),e===h.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?p.fromString(e,t):p.fromObject(e)}static fromObject(e){return p.isParamType(e)?e:new p(f,{name:e.name||null,type:g(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(p.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){s.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},f=o;for(let r=0;r<e.length;r++){let o=e[r];switch(o){case"(":f.state.allowType&&""===f.type?f.type="tuple":f.state.allowParams||n(r),f.state.allowType=!1,f.type=g(f.type),f.components=[i(f)],f=f.components[0];break;case")":delete f.state,"indexed"===f.name&&(t||n(r),f.indexed=!0,f.name=""),d(f.type,f.name)&&(f.name=""),f.type=g(f.type);let e=f;f=f.parent,f||n(r),delete e.parent,f.state.allowParams=!1,f.state.allowName=!0,f.state.allowArray=!0;break;case",":delete f.state,"indexed"===f.name&&(t||n(r),f.indexed=!0,f.name=""),d(f.type,f.name)&&(f.name=""),f.type=g(f.type);let s=i(f.parent);f.parent.components.push(s),delete f.parent,f=s;break;case" ":f.state.allowType&&""!==f.type&&(f.type=g(f.type),delete f.state.allowType,f.state.allowName=!0,f.state.allowParams=!0),f.state.allowName&&""!==f.name&&("indexed"===f.name?(t||n(r),f.indexed&&n(r),f.indexed=!0,f.name=""):d(f.type,f.name)?f.name="":f.state.allowName=!1);break;case"[":f.state.allowArray||n(r),f.type+=o,f.state.allowArray=!1,f.state.allowName=!1,f.state.readArray=!0;break;case"]":f.state.readArray||n(r),f.type+=o,f.state.readArray=!1,f.state.allowArray=!0,f.state.allowName=!0;break;default:f.state.allowType?(f.type+=o,f.state.allowParams=!0,f.state.allowArray=!0):f.state.allowName?(f.name+=o,delete f.state.allowArray):f.state.readArray?f.type+=o:n(r)}}return f.parent&&s.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===f.name?(t||n(r.length-7),f.indexed&&n(r.length-7),f.indexed=!0,f.name=""):d(f.type,f.name)&&(f.name=""),o.type=g(o.type),o}(e,!!t),p.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function g(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}var m=r(93286),v=r(15154);const y=new i.Yd(o);class b{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){y.throwArgumentError(e,this.localName,t)}}class w{constructor(e){(0,n.zG)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,m.xs)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,m.zo)(e._data))}writeBytes(e){let t=(0,m.lE)(e);const r=t.length%this.wordSize;return r&&(t=(0,m.zo)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,m.lE)(v.O$.from(e));return t.length>this.wordSize&&y.throwError("value out-of-bounds",i.Yd.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,m.zo)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class E{constructor(e,t,r,i){(0,n.zG)(this,"_data",(0,m.lE)(e)),(0,n.zG)(this,"wordSize",t||32),(0,n.zG)(this,"_coerceFunc",r),(0,n.zG)(this,"allowLoose",i),this._offset=0}get data(){return(0,m.Dv)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):E.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:y.throwError("data out-of-bounds",i.Yd.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new E(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return v.O$.from(this.readBytes(this.wordSize))}}var A=r(64594);class _ extends b{constructor(e){super("address","address",e,!1)}encode(e,t){try{(0,A.Kn)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,A.Kn)((0,m.$m)(e.readValue().toHexString(),20))}}class x extends b{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const N=new i.Yd(o);function S(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||N.throwError("cannot encode object for signature with missing names",i.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&N.throwError("cannot encode object for signature with duplicate names",i.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else N.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&N.throwArgumentError("types/value length mismatch","tuple",r);let o=new w(e.wordSize),s=new w(e.wordSize),f=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=o.writeUpdatableValue();f.push((e=>{n(e+t)}))}else e.encode(o,r)})),f.forEach((e=>{e(o.length)}));let a=e.appendWriter(o);return a+=e.appendWriter(s),a}function I(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let o=null;if(t.dynamic){let r=e.readValue(),s=n.subReader(r.toNumber());try{o=t.decode(s)}catch(e){if(e.code===i.Yd.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}}else try{o=t.decode(e)}catch(e){if(e.code===i.Yd.errors.BUFFER_OVERRUN)throw e;o=e,o.baseType=t.name,o.name=t.localName,o.type=t.type}null!=o&&r.push(o)}));const o=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==o[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const i=r[t];i instanceof Error?Object.defineProperty(r,n,{get:()=>{throw i}}):r[n]=i}));for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{get:()=>{throw t}})}return Object.freeze(r)}class R extends b{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),N.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return S(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber());let r=[];for(let e=0;e<t;e++)r.push(new x(this.coder));return e.coerce(this.name,I(e,r))}}class P extends b{constructor(e){super("bool","bool",e,!1)}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class O extends b{constructor(e,t){super(e,e,t,!0)}encode(e,t){t=(0,m.lE)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class T extends O{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,m.Dv)(super.decode(e)))}}class M extends b{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}encode(e,t){let r=(0,m.lE)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,m.Dv)(e.readBytes(this.size)))}}class U extends b{constructor(e){super("null","",e,!1)}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var z=r(21046);class F extends b{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}encode(e,t){let r=v.O$.from(t),n=z.Bz.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(z.fh).mul(z.tL)))&&this._throwError("value out-of-bounds",t)}else(r.lt(z._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}const L=new i.Yd("strings/5.5.0");var k,D;function C(e,t,r,n,i){if(e===D.BAD_PREFIX||e===D.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===D.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(k||(k={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(D||(D={}));const q=Object.freeze({error:function(e,t,r,n,i){return L.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:C,replace:function(e,t,r,n,i){return e===D.OVERLONG?(n.push(i),0):(n.push(65533),C(e,t,r))}});function G(e,t){null==t&&(t=q.error),e=(0,m.lE)(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?D.UNEXPECTED_CONTINUE:D.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length){n+=t(D.OVERRUN,n-1,e,r);continue}let f=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=e[n];if(128!=(192&i)){n+=t(D.MISSING_CONTINUE,n,e,r),f=null;break}f=f<<6|63&i,n++}null!==f&&(f>1114111?n+=t(D.OUT_OF_RANGE,n-1-o,e,r,f):f>=55296&&f<=57343?n+=t(D.UTF16_SURROGATE,n-1-o,e,r,f):f<=s?n+=t(D.OVERLONG,n-1-o,e,r,f):r.push(f))}return r}function j(e,t=k.current){t!=k.current&&(L.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return(0,m.lE)(r)}function B(e,t){return G(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class V extends O{constructor(e){super("string",e)}encode(e,t){return super.encode(e,j(t))}decode(e){return B(super.decode(e))}}class K extends b{constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}encode(e,t){return S(e,this.coders,t)}decode(e){return e.coerce(this.name,I(e,this.coders))}}const $=new i.Yd(o),Y=new RegExp(/^bytes([0-9]*)$/),W=new RegExp(/^(u?int)([0-9]*)$/);class X{constructor(e){$.checkNew(new.target,X),(0,n.zG)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new _(e.name);case"bool":return new P(e.name);case"string":return new V(e.name);case"bytes":return new T(e.name);case"array":return new R(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new K((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new U(e.name)}let t=e.type.match(W);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&$.throwArgumentError("invalid "+t[1]+" bit length","param",e),new F(r/8,"int"===t[1],e.name)}if(t=e.type.match(Y),t){let r=parseInt(t[1]);return(0===r||r>32)&&$.throwArgumentError("invalid bytes length","param",e),new M(r,e.name)}return $.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new E(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new w(this._getWordSize())}encode(e,t){e.length!==t.length&&$.throwError("types/values length mismatch",i.Yd.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(p.from(e)))),n=new K(r,"_"),o=this._getWriter();return n.encode(o,t),o.data}decode(e,t,r){const n=e.map((e=>this._getCoder(p.from(e))));return new K(n,"_").decode(this._getReader((0,m.lE)(t),r))}}new X,new i.Yd(o)},64594:function(e,t,r){r.d(t,{Kn:function(){return h}});var n=r(93286),i=r(15154),o=r(38197);const s=new(r(80711).Yd)("address/5.5.0");function f(e){(0,n.A7)(e,20)||s.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const i=(0,n.lE)((0,o.w)(r));for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&i[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const a={};for(let e=0;e<10;e++)a[String(e)]=String(e);for(let e=0;e<26;e++)a[String.fromCharCode(65+e)]=String(10+e);const u=Math.floor((d=9007199254740991,Math.log10?Math.log10(d):Math.log(d)/Math.LN10));var d;function c(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>a[e])).join("");for(;t.length>=u;){let e=t.substring(0,u);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function h(e){let t=null;if("string"!=typeof e&&s.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=f(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&s.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==c(e)&&s.throwArgumentError("bad icap checksum","address",e),t=(0,i.g$)(e.substring(4));t.length<40;)t="0"+t;t=f("0x"+t)}else s.throwArgumentError("invalid address","address",e);return t}},15154:function(e,t,r){r.d(t,{O$:function(){return h},g$:function(){return v}});var n=r(13550),i=r.n(n),o=r(93286),s=r(80711);var f=i().BN;const a=new s.Yd("bignumber/5.5.0"),u={},d=9007199254740991;let c=!1;class h{constructor(e,t){a.checkNew(new.target,h),e!==u&&a.throwError("cannot call constructor directly; use BigNumber.from",s.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return p(g(this).fromTwos(e))}toTwos(e){return p(g(this).toTwos(e))}abs(){return"-"===this._hex[0]?h.from(this._hex.substring(1)):this}add(e){return p(g(this).add(g(e)))}sub(e){return p(g(this).sub(g(e)))}div(e){return h.from(e).isZero()&&m("division by zero","div"),p(g(this).div(g(e)))}mul(e){return p(g(this).mul(g(e)))}mod(e){const t=g(e);return t.isNeg()&&m("cannot modulo negative values","mod"),p(g(this).umod(t))}pow(e){const t=g(e);return t.isNeg()&&m("cannot raise to negative values","pow"),p(g(this).pow(t))}and(e){const t=g(e);return(this.isNegative()||t.isNeg())&&m("cannot 'and' negative values","and"),p(g(this).and(t))}or(e){const t=g(e);return(this.isNegative()||t.isNeg())&&m("cannot 'or' negative values","or"),p(g(this).or(t))}xor(e){const t=g(e);return(this.isNegative()||t.isNeg())&&m("cannot 'xor' negative values","xor"),p(g(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&m("cannot mask negative values","mask"),p(g(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&m("cannot shift negative values","shl"),p(g(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&m("cannot shift negative values","shr"),p(g(this).shrn(e))}eq(e){return g(this).eq(g(e))}lt(e){return g(this).lt(g(e))}lte(e){return g(this).lte(g(e))}gt(e){return g(this).gt(g(e))}gte(e){return g(this).gte(g(e))}isNegative(){return"-"===this._hex[0]}isZero(){return g(this).isZero()}toNumber(){try{return g(this).toNumber()}catch(e){m("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return a.throwError("this platform does not support BigInt",s.Yd.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?c||(c=!0,a.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?a.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",s.Yd.errors.UNEXPECTED_ARGUMENT,{}):a.throwError("BigNumber.toString does not accept parameters",s.Yd.errors.UNEXPECTED_ARGUMENT,{})),g(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof h)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new h(u,l(e)):e.match(/^-?[0-9]+$/)?new h(u,l(new f(e))):a.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&m("underflow","BigNumber.from",e),(e>=d||e<=-d)&&m("overflow","BigNumber.from",e),h.from(String(e));const t=e;if("bigint"==typeof t)return h.from(t.toString());if((0,o._t)(t))return h.from((0,o.Dv)(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return h.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&((0,o.A7)(e)||"-"===e[0]&&(0,o.A7)(e.substring(1))))return h.from(e)}return a.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function l(e){if("string"!=typeof e)return l(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&a.throwArgumentError("invalid hex","value",e),"0x00"===(e=l(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function p(e){return h.from(l(e))}function g(e){const t=h.from(e).toHexString();return"-"===t[0]?new f("-"+t.substring(3),16):new f(t.substring(2),16)}function m(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),a.throwError(e,s.Yd.errors.NUMERIC_FAULT,n)}function v(e){return new f(e,36).toString(16)}},93286:function(e,t,r){r.d(t,{lE:function(){return u},zo:function(){return d},xs:function(){return v},E1:function(){return g},p3:function(){return m},$m:function(){return y},Dv:function(){return p},_t:function(){return a},Zq:function(){return s},A7:function(){return h},N:function(){return b},G1:function(){return c}});const n=new(r(80711).Yd)("bytes/5.5.0");function i(e){return!!e.toHexString}function o(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return o(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function s(e){return h(e)&&!(e.length%2)||a(e)}function f(e){return"number"==typeof e&&e==e&&e%1==0}function a(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!f(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!f(r)||r<0||r>=256)return!1}return!0}function u(e,t){if(t||(t={}),"number"==typeof e){n.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),o(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e)&&(e=e.toHexString()),h(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":n.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let e=0;e<r.length;e+=2)i.push(parseInt(r.substring(e,e+2),16));return o(new Uint8Array(i))}return a(e)?o(new Uint8Array(e)):n.throwArgumentError("invalid arrayify value","value",e)}function d(e){const t=e.map((e=>u(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),o(n)}function c(e){let t=u(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function h(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const l="0123456789abcdef";function p(e,t){if(t||(t={}),"number"==typeof e){n.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=l[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e))return e.toHexString();if(h(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":n.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(a(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=l[(240&n)>>4]+l[15&n]}return t}return n.throwArgumentError("invalid hexlify value","value",e)}function g(e){if("string"!=typeof e)e=p(e);else if(!h(e)||e.length%2)return null;return(e.length-2)/2}function m(e,t,r){return"string"!=typeof e?e=p(e):(!h(e)||e.length%2)&&n.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function v(e){let t="0x";return e.forEach((e=>{t+=p(e).substring(2)})),t}function y(e,t){for("string"!=typeof e?e=p(e):h(e)||n.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&n.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function b(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(s(e)){const r=u(e);65!==r.length&&n.throwArgumentError("invalid signature string; must be 65 bytes","signature",e),t.r=p(r.slice(0,32)),t.s=p(r.slice(32,64)),t.v=r[64],t.v<27&&(0===t.v||1===t.v?t.v+=27:n.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=p(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=u(e)).length>t&&n.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),o(r)}(u(t._vs),32);t._vs=p(r);const i=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&n.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const s=p(r);null==t.s?t.s=s:t.s!==s&&n.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?n.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&n.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&h(t.r)?t.r=y(t.r,32):n.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&h(t.s)?t.s=y(t.s,32):n.throwArgumentError("signature missing or invalid s","signature",e);const r=u(t.s);r[0]>=128&&n.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=p(r);t._vs&&(h(t._vs)||n.throwArgumentError("signature invalid _vs","signature",e),t._vs=y(t._vs,32)),null==t._vs?t._vs=i:t._vs!==i&&n.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t}},21046:function(e,t,r){r.d(t,{tL:function(){return i},_Y:function(){return o},fh:function(){return s},Bz:function(){return f}});var n=r(15154);const i=n.O$.from(-1),o=n.O$.from(0),s=n.O$.from(1),f=n.O$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},38197:function(e,t,r){r.d(t,{w:function(){return s}});var n=r(91094),i=r.n(n),o=r(93286);function s(e){return"0x"+i().keccak_256((0,o.lE)(e))}},80711:function(e,t,r){r.d(t,{Yd:function(){return l}});var n=r(25108);let i=!1,o=!1;const s={debug:1,default:2,info:2,warning:3,error:4,off:5};let f=s.default,a=null;const u=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var d,c;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(d||(d={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(c||(c={}));const h="0123456789abcdef";class l{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==s[r]&&this.throwArgumentError("invalid log level name","logLevel",e),f>s[r]||n.log.apply(n,t)}debug(...e){this._log(l.levels.DEBUG,e)}info(...e){this._log(l.levels.INFO,e)}warn(...e){this._log(l.levels.WARNING,e)}makeError(e,t,r){if(o)return this.makeError("censored error",t,{});t||(t=l.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=h[t[e]>>4],r+=h[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,l.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),u&&this.throwError("platform missing String.prototype.normalize",l.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,l.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,l.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,l.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,l.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",l.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",l.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",l.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return a||(a=new l("logger/5.5.0")),a}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",l.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),i){if(!e)return;this.globalLogger().throwError("error censorship permanent",l.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o=!!e,i=!!t}static setLogLevel(e){const t=s[e.toLowerCase()];null!=t?f=t:l.globalLogger().warn("invalid log level - "+e)}static from(e){return new l(e)}}l.errors=c,l.levels=d},53587:function(e,t,r){r.d(t,{uj:function(){return s},zG:function(){return o}});var n=r(80711);const i=new n.Yd("properties/5.5.0");function o(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function s(e,t){e&&"object"==typeof e||i.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((r=>{t[r]||i.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)}))}},75504:function(e,t,r){r.r(t),r.d(t,{TransactionTypes:function(){return ce},accessListify:function(){return we},computeAddress:function(){return me},parse:function(){return Se},recoverAddress:function(){return ve},serialize:function(){return xe}});var n=r(64594),i=r(15154),o=r(93286),s=r(21046),f=r(38197),a=r(53587),u=r(80711);const d=new u.Yd("rlp/5.5.0");function c(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function h(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function l(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(l(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=c(t.length);return r.unshift(247+r.length),r.concat(t)}(0,o.Zq)(e)||d.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call((0,o.lE)(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=c(t.length);return r.unshift(183+r.length),r.concat(t)}function p(e){return(0,o.Dv)(l(e))}function g(e,t,r,n){const i=[];for(;r<t+1+n;){const o=m(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&d.throwError("child data too short",u.Yd.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function m(e,t){if(0===e.length&&d.throwError("data too short",u.Yd.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&d.throwError("data short segment too short",u.Yd.errors.BUFFER_OVERRUN,{});const n=h(e,t+1,r);return t+1+r+n>e.length&&d.throwError("data long segment too short",u.Yd.errors.BUFFER_OVERRUN,{}),g(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&d.throwError("data array too short",u.Yd.errors.BUFFER_OVERRUN,{}),g(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&d.throwError("data array too short",u.Yd.errors.BUFFER_OVERRUN,{});const n=h(e,t+1,r);t+1+r+n>e.length&&d.throwError("data array too short",u.Yd.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:(0,o.Dv)(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&d.throwError("data too short",u.Yd.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:(0,o.Dv)(e.slice(t+1,t+1+r))}}return{consumed:1,result:(0,o.Dv)(e[t])}}function v(e){const t=(0,o.lE)(e),r=m(t,0);return r.consumed!==t.length&&d.throwArgumentError("invalid rlp data","data",e),r.result}var y=r(13550),b=r.n(y),w=r(33715),E=r.n(w);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;function A(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},e(r,r.exports),r.exports}var _=x;function x(e,t){if(!e)throw new Error(t||"Assertion failed")}x.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var N=A((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),S=A((function(e,t){var r=t;r.assert=_,r.toArray=N.toArray,r.zero2=N.zero2,r.toHex=N.toHex,r.encode=N.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var f,a=o.andln(i-1);o.isOdd()?(f=a>(i>>1)-1?(i>>1)-a:a,o.isubn(f)):f=0,n[s]=f,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,f,a=e.andln(3)+i&3,u=t.andln(3)+o&3;3===a&&(a=-1),3===u&&(u=-1),s=0==(1&a)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?a:-a,r[0].push(s),f=0==(1&u)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==a?u:-u,r[1].push(f),2*i===s+1&&(i=1-i),2*o===f+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(b())(e,"hex","le")}})),I=S.getNAF,R=S.getJSF,P=S.assert;function O(e,t){this.type=e,this.p=new(b())(t.p,16),this.red=t.prime?b().red(t.prime):b().mont(this.p),this.zero=new(b())(0).toRed(this.red),this.one=new(b())(1).toRed(this.red),this.two=new(b())(2).toRed(this.red),this.n=t.n&&new(b())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var T=O;function M(e,t){this.curve=e,this.type=t,this.precomputed=null}O.prototype.point=function(){throw new Error("Not implemented")},O.prototype.validate=function(){throw new Error("Not implemented")},O.prototype._fixedNafMul=function(e,t){P(e.precomputed);var r=e._getDoubles(),n=I(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,f=[];for(o=0;o<n.length;o+=r.step){s=0;for(var a=o+r.step-1;a>=o;a--)s=(s<<1)+n[a];f.push(s)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<f.length;o++)(s=f[o])===c?d=d.mixedAdd(r.points[o]):s===-c&&(d=d.mixedAdd(r.points[o].neg()));u=u.add(d)}return u.toP()},O.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=I(t,r,this._bitLength),s=this.jpoint(null,null,null),f=o.length-1;f>=0;f--){for(var a=0;f>=0&&0===o[f];f--)a++;if(f>=0&&a++,s=s.dblp(a),f<0)break;var u=o[f];P(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},O.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,f,a=this._wnafT1,u=this._wnafT2,d=this._wnafT3,c=0;for(o=0;o<n;o++){var h=(f=t[o])._getNAFPoints(e);a[o]=h.wnd,u[o]=h.points}for(o=n-1;o>=1;o-=2){var l=o-1,p=o;if(1===a[l]&&1===a[p]){var g=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(g[1]=t[l].add(t[p]),g[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(g[1]=t[l].toJ().mixedAdd(t[p]),g[2]=t[l].add(t[p].neg())):(g[1]=t[l].toJ().mixedAdd(t[p]),g[2]=t[l].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=R(r[l],r[p]);for(c=Math.max(v[0].length,c),d[l]=new Array(c),d[p]=new Array(c),s=0;s<c;s++){var y=0|v[0][s],b=0|v[1][s];d[l][s]=m[3*(y+1)+(b+1)],d[p][s]=0,u[l]=g}}else d[l]=I(r[l],a[l],this._bitLength),d[p]=I(r[p],a[p],this._bitLength),c=Math.max(d[l].length,c),c=Math.max(d[p].length,c)}var w=this.jpoint(null,null,null),E=this._wnafT4;for(o=c;o>=0;o--){for(var A=0;o>=0;){var _=!0;for(s=0;s<n;s++)E[s]=0|d[s][o],0!==E[s]&&(_=!1);if(!_)break;A++,o--}if(o>=0&&A++,w=w.dblp(A),o<0)break;for(s=0;s<n;s++){var x=E[s];0!==x&&(x>0?f=u[s][x-1>>1]:x<0&&(f=u[s][-x-1>>1].neg()),w="affine"===f.type?w.mixedAdd(f):w.add(f))}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},O.BasePoint=M,M.prototype.eq=function(){throw new Error("Not implemented")},M.prototype.validate=function(){return this.curve.validate(this)},O.prototype.decodePoint=function(e,t){e=S.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?P(e[e.length-1]%2==0):7===e[0]&&P(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},M.prototype.encodeCompressed=function(e){return this.encode(e,!0)},M.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},M.prototype.encode=function(e,t){return S.encode(this._encode(t),e)},M.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},M.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},M.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},M.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},M.prototype._getBeta=function(){return null},M.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var U=A((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),z=S.assert;function F(e){T.call(this,"short",e),this.a=new(b())(e.a,16).toRed(this.red),this.b=new(b())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}U(F,T);var L=F;function k(e,t,r,n){T.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(b())(t,16),this.y=new(b())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function D(e,t,r,n){T.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(b())(0)):(this.x=new(b())(t,16),this.y=new(b())(r,16),this.z=new(b())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}F.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(b())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(b())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],z(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(b())(e.a,16),b:new(b())(e.b,16)}})):this._getEndoBasis(r)}}},F.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:b().mont(e),r=new(b())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(b())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},F.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,f,a,u,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=e,h=this.n.clone(),l=new(b())(1),p=new(b())(0),g=new(b())(0),m=new(b())(1),v=0;0!==c.cmpn(0);){var y=h.div(c);a=h.sub(y.mul(c)),u=g.sub(y.mul(l));var w=m.sub(y.mul(p));if(!n&&a.cmp(d)<0)t=f.neg(),r=l,n=a.neg(),i=u;else if(n&&2==++v)break;f=a,h=c,c=a,g=l,l=u,m=p,p=w}o=a.neg(),s=u;var E=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(E)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},F.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),f=o.mul(n.a),a=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(f),k2:a.add(u).neg()}},F.prototype.pointFromX=function(e,t){(e=new(b())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},F.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},F.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),f=e[o],a=f._getBeta();s.k1.negative&&(s.k1.ineg(),f=f.neg(!0)),s.k2.negative&&(s.k2.ineg(),a=a.neg(!0)),n[2*o]=f,n[2*o+1]=a,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),d=0;d<2*o;d++)n[d]=null,i[d]=null;return u},U(k,T.BasePoint),F.prototype.point=function(e,t,r){return new k(this,e,t,r)},F.prototype.pointFromJSON=function(e,t){return k.fromJSON(this,e,t)},k.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},k.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},k.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},k.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},k.prototype.isInfinity=function(){return this.inf},k.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},k.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},k.prototype.getX=function(){return this.x.fromRed()},k.prototype.getY=function(){return this.y.fromRed()},k.prototype.mul=function(e){return e=new(b())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},k.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},k.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},k.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},k.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},k.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},U(D,T.BasePoint),F.prototype.jpoint=function(e,t,r){return new D(this,e,t,r)},D.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},D.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},D.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),f=n.redSub(i),a=o.redSub(s);if(0===f.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=f.redSqr(),d=u.redMul(f),c=n.redMul(u),h=a.redSqr().redIAdd(d).redISub(c).redISub(c),l=a.redMul(c.redISub(h)).redISub(o.redMul(d)),p=this.z.redMul(e.z).redMul(f);return this.curve.jpoint(h,l,p)},D.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),f=i.redSub(o);if(0===s.cmpn(0))return 0!==f.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var a=s.redSqr(),u=a.redMul(s),d=r.redMul(a),c=f.redSqr().redIAdd(u).redISub(d).redISub(d),h=f.redMul(d.redISub(c)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(c,h,l)},D.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,f=this.z,a=f.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var d=o.redSqr(),c=u.redSqr(),h=c.redSqr(),l=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(a)),p=o.redMul(c),g=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),v=l.redMul(m);v=v.redIAdd(v).redISub(h);var y=u.redMul(f);t+1<e&&(a=a.redMul(h)),o=g,f=y,u=v}return this.curve.jpoint(o,u.redMul(i),f)},D.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},D.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var f=n.redAdd(n).redIAdd(n),a=f.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a,t=f.redMul(s.redISub(a)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),c=this.y.redSqr(),h=c.redSqr(),l=this.x.redAdd(c).redSqr().redISub(d).redISub(h);l=l.redIAdd(l);var p=d.redAdd(d).redIAdd(d),g=p.redSqr(),m=h.redIAdd(h);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},D.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var f=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),a=f.redSqr().redISub(s).redISub(s);e=a;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=f.redMul(s.redISub(a)).redISub(u),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),c=this.y.redSqr(),h=this.x.redMul(c),l=this.x.redSub(d).redMul(this.x.redAdd(d));l=l.redAdd(l).redIAdd(l);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(d);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=l.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},D.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),f=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),a=t.redAdd(t),u=(a=a.redIAdd(a)).redMul(s),d=f.redSqr().redISub(u.redAdd(u)),c=u.redISub(d),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=f.redMul(c).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(d,l,p)},D.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),f=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),a=n.redIAdd(n);a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a);var u=i.redIAdd(s).redSqr().redISub(o).redISub(f).redISub(a),d=t.redMul(u);d=(d=d.redIAdd(d)).redIAdd(d);var c=this.x.redMul(f).redISub(d);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.y.redMul(u.redMul(a.redISub(u)).redISub(s.redMul(f)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(f);return this.curve.jpoint(c,h,l)},D.prototype.mul=function(e,t){return e=new(b())(e,t),this.curve._wnafMul(this,e)},D.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},D.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},D.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},D.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var C=A((function(e,t){var r=t;r.base=T,r.short=L,r.mont=null,r.edwards=null})),q=A((function(e,t){var r,n=t,i=S.assert;function o(e){"short"===e.type?this.curve=new C.short(e):"edwards"===e.type?this.curve=new C.edwards(e):this.curve=new C.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:E().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:E().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:E().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:E().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:E().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:E().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:E().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function G(e){if(!(this instanceof G))return new G(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=N.toArray(e.entropy,e.entropyEnc||"hex"),r=N.toArray(e.nonce,e.nonceEnc||"hex"),n=N.toArray(e.pers,e.persEnc||"hex");_(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var j=G;G.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},G.prototype._hmac=function(){return new(E().hmac)(this.hash,this.K)},G.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},G.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=N.toArray(e,t),r=N.toArray(r,n),_(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},G.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=N.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,N.encode(o,t)};var B=S.assert;function V(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var K=V;V.fromPublic=function(e,t,r){return t instanceof V?t:new V(e,{pub:t,pubEnc:r})},V.fromPrivate=function(e,t,r){return t instanceof V?t:new V(e,{priv:t,privEnc:r})},V.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},V.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},V.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},V.prototype._importPrivate=function(e,t){this.priv=new(b())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},V.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?B(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||B(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},V.prototype.derive=function(e){return e.validate()||B(e.validate(),"public point not validated"),e.mul(this.priv).getX()},V.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},V.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},V.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var $=S.assert;function Y(e,t){if(e instanceof Y)return e;this._importDER(e,t)||($(e.r&&e.s,"Signature without r or s"),this.r=new(b())(e.r,16),this.s=new(b())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var W=Y;function X(){this.place=0}function J(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function H(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Z(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Y.prototype._importDER=function(e,t){e=S.toArray(e,t);var r=new X;if(48!==e[r.place++])return!1;var n=J(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=J(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=J(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var f=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new(b())(o),this.s=new(b())(f),this.recoveryParam=null,!0},Y.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=H(t),r=H(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Z(n,t.length),(n=n.concat(t)).push(2),Z(n,r.length);var i=n.concat(r),o=[48];return Z(o,i.length),o=o.concat(i),S.encode(o,e)};var Q=function(){throw new Error("unsupported")},ee=S.assert;function te(e){if(!(this instanceof te))return new te(e);"string"==typeof e&&(ee(Object.prototype.hasOwnProperty.call(q,e),"Unknown curve "+e),e=q[e]),e instanceof q.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var re=te;te.prototype.keyPair=function(e){return new K(this,e)},te.prototype.keyFromPrivate=function(e,t){return K.fromPrivate(this,e,t)},te.prototype.keyFromPublic=function(e,t){return K.fromPublic(this,e,t)},te.prototype.genKeyPair=function(e){e||(e={});for(var t=new j({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Q(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(b())(2));;){var i=new(b())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},te.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},te.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(b())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),f=new j({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),a=this.n.sub(new(b())(1)),u=0;;u++){var d=n.k?n.k(u):new(b())(f.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(a)>=0)){var c=this.g.mul(d);if(!c.isInfinity()){var h=c.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){var p=d.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(c.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new W({r:l,s:p,recoveryParam:g})}}}}}},te.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(b())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new W(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,f=o.invm(this.n),a=f.mul(e).umod(this.n),u=f.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(a,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(a,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},te.prototype.recoverPubKey=function(e,t,r,n){ee((3&r)===r,"The recovery param is more than two bits"),t=new W(t,n);var i=this.n,o=new(b())(e),s=t.r,f=t.s,a=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),a):this.curve.pointFromX(s,a);var d=t.r.invm(i),c=i.sub(o).mul(d).umod(i),h=f.mul(d).umod(i);return this.g.mulAdd(c,s,h)},te.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new W(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ne=A((function(e,t){var r=t;r.version="6.5.4",r.utils=S,r.rand=function(){throw new Error("unsupported")},r.curve=C,r.curves=q,r.ec=re,r.eddsa=null})).ec;const ie=new u.Yd("signing-key/5.5.0");let oe=null;function se(){return oe||(oe=new ne("secp256k1")),oe}class fe{constructor(e){(0,a.zG)(this,"curve","secp256k1"),(0,a.zG)(this,"privateKey",(0,o.Dv)(e));const t=se().keyFromPrivate((0,o.lE)(this.privateKey));(0,a.zG)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,a.zG)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,a.zG)(this,"_isSigningKey",!0)}_addPoint(e){const t=se().keyFromPublic((0,o.lE)(this.publicKey)),r=se().keyFromPublic((0,o.lE)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=se().keyFromPrivate((0,o.lE)(this.privateKey)),r=(0,o.lE)(e);32!==r.length&&ie.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return(0,o.N)({recoveryParam:n.recoveryParam,r:(0,o.$m)("0x"+n.r.toString(16),32),s:(0,o.$m)("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=se().keyFromPrivate((0,o.lE)(this.privateKey)),r=se().keyFromPublic((0,o.lE)(ae(e)));return(0,o.$m)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function ae(e,t){const r=(0,o.lE)(e);if(32===r.length){const e=new fe(r);return t?"0x"+se().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?(0,o.Dv)(r):"0x"+se().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+se().keyFromPublic(r).getPublic(!0,"hex"):(0,o.Dv)(r):ie.throwArgumentError("invalid public or private key","key","[REDACTED]")}var ue=r(25108);const de=new u.Yd("transactions/5.5.0");var ce;function he(e){return"0x"===e?null:(0,n.Kn)(e)}function le(e){return"0x"===e?s._Y:i.O$.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(ce||(ce={}));const pe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],ge={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function me(e){const t=ae(e);return(0,n.Kn)((0,o.p3)((0,f.w)((0,o.p3)(t,1)),12))}function ve(e,t){return me(function(e,t){const r=(0,o.N)(t),n={r:(0,o.lE)(r.r),s:(0,o.lE)(r.s)};return"0x"+se().recoverPubKey((0,o.lE)(e),n,r.recoveryParam).encode("hex",!1)}((0,o.lE)(e),t))}function ye(e,t){const r=(0,o.G1)(i.O$.from(e).toHexString());return r.length>32&&de.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function be(e,t){return{address:(0,n.Kn)(e),storageKeys:(t||[]).map(((t,r)=>(32!==(0,o.E1)(t)&&de.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase())))}}function we(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&de.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),be(e[0],e[1])):be(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return be(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function Ee(e){return we(e).map((e=>[e.address,e.storageKeys]))}function Ae(e,t){if(null!=e.gasPrice){const t=i.O$.from(e.gasPrice),r=i.O$.from(e.maxFeePerGas||0);t.eq(r)||de.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[ye(e.chainId||0,"chainId"),ye(e.nonce||0,"nonce"),ye(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ye(e.maxFeePerGas||0,"maxFeePerGas"),ye(e.gasLimit||0,"gasLimit"),null!=e.to?(0,n.Kn)(e.to):"0x",ye(e.value||0,"value"),e.data||"0x",Ee(e.accessList||[])];if(t){const e=(0,o.N)(t);r.push(ye(e.recoveryParam,"recoveryParam")),r.push((0,o.G1)(e.r)),r.push((0,o.G1)(e.s))}return(0,o.xs)(["0x02",p(r)])}function _e(e,t){const r=[ye(e.chainId||0,"chainId"),ye(e.nonce||0,"nonce"),ye(e.gasPrice||0,"gasPrice"),ye(e.gasLimit||0,"gasLimit"),null!=e.to?(0,n.Kn)(e.to):"0x",ye(e.value||0,"value"),e.data||"0x",Ee(e.accessList||[])];if(t){const e=(0,o.N)(t);r.push(ye(e.recoveryParam,"recoveryParam")),r.push((0,o.G1)(e.r)),r.push((0,o.G1)(e.s))}return(0,o.xs)(["0x01",p(r)])}function xe(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&de.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){(0,a.uj)(e,ge);const r=[];pe.forEach((function(t){let n=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),n=(0,o.lE)((0,o.Dv)(n,i)),t.length&&n.length!==t.length&&n.length>0&&de.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=(0,o.G1)(n),n.length>t.maxLength&&de.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push((0,o.Dv)(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!=typeof n&&de.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!(0,o.Zq)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push((0,o.Dv)(n)),r.push("0x"),r.push("0x")),!t)return p(r);const i=(0,o.N)(t);let s=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),s+=2*n+8,i.v>28&&i.v!==s&&de.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==s&&de.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,o.Dv)(s)),r.push((0,o.G1)((0,o.lE)(i.r))),r.push((0,o.G1)((0,o.lE)(i.s))),p(r)}(e,t);switch(e.type){case 1:return _e(e,t);case 2:return Ae(e,t)}return de.throwError(`unsupported transaction type: ${e.type}`,u.Yd.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function Ne(e,t,r){try{const r=le(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(e){de.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,o.$m)(t[1],32),e.s=(0,o.$m)(t[2],32);try{const t=(0,f.w)(r(e));e.from=ve(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){ue.log(e)}}function Se(e){const t=(0,o.lE)(e);if(t[0]>127)return function(e){const t=v(e);9!==t.length&&6!==t.length&&de.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:le(t[0]).toNumber(),gasPrice:le(t[1]),gasLimit:le(t[2]),to:he(t[3]),value:le(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=i.O$.from(t[6]).toNumber()}catch(e){return ue.log(e),r}if(r.r=(0,o.$m)(t[7],32),r.s=(0,o.$m)(t[8],32),i.O$.from(r.r).isZero()&&i.O$.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=t.slice(0,6);0!==r.chainId&&(i.push((0,o.Dv)(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const s=(0,f.w)(p(i));try{r.from=ve(s,{r:(0,o.Dv)(r.r),s:(0,o.Dv)(r.s),recoveryParam:n})}catch(e){ue.log(e)}r.hash=(0,f.w)(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=v(e.slice(1));8!==t.length&&11!==t.length&&de.throwArgumentError("invalid component count for transaction type: 1","payload",(0,o.Dv)(e));const r={type:1,chainId:le(t[0]).toNumber(),nonce:le(t[1]).toNumber(),gasPrice:le(t[2]),gasLimit:le(t[3]),to:he(t[4]),value:le(t[5]),data:t[6],accessList:we(t[7])};return 8===t.length||(r.hash=(0,f.w)(e),Ne(r,t.slice(8),_e)),r}(t);case 2:return function(e){const t=v(e.slice(1));9!==t.length&&12!==t.length&&de.throwArgumentError("invalid component count for transaction type: 2","payload",(0,o.Dv)(e));const r=le(t[2]),n=le(t[3]),i={type:2,chainId:le(t[0]).toNumber(),nonce:le(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:le(t[4]),to:he(t[5]),value:le(t[6]),data:t[7],accessList:we(t[8])};return 9===t.length||(i.hash=(0,f.w)(e),Ne(i,t.slice(9),Ae)),i}(t)}return de.throwError(`unsupported transaction type: ${t[0]}`,u.Yd.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy05MGY0Y2UyMy5jMWJjMzdmZmJkNGU5MzhkYWNmOS5qcyIsIm1hcHBpbmdzIjoib01BQU8sTUFBTUEsRUFBVSxZLFNDS3ZCLE1BQU1DLEVBQVMsSUFBSSxLQUFPRCxHQUVwQkUsRUFBb0IsR0FDMUIsSUFBSUMsRUFBaUIsQ0FBRUMsVUFBVSxFQUFNQyxRQUFRLEVBQU1DLFNBQVMsR0FDMURDLEVBQWdCLENBQUVILFVBQVUsRUFBTUMsUUFBUSxHQUM5QyxTQUFTRyxFQUFjQyxFQUFNQyxHQUN6QixHQUFhLFVBQVRELEdBQTZCLFdBQVRBLEdBQ3BCLEdBQUlOLEVBQWVPLEdBQ2YsT0FBTyxPQUdWLEdBQWEsWUFBVEQsR0FDTCxHQUFhLFlBQVRDLEVBQ0EsT0FBTyxPQUdWLElBQUlELEVBQUtFLFFBQVEsTUFBUSxHQUFjLFVBQVRGLElBQzNCRixFQUFjRyxHQUNkLE9BQU8sRUFNZixPQUhJUCxFQUFlTyxJQUFrQixZQUFUQSxJQUN4QlQsRUFBT1csbUJBQW1CLG1CQUFvQixPQUFRRixJQUVuRCxFQW9LWCxTQUFTRyxFQUFTQyxFQUFRQyxHQUN0QixJQUFLLElBQUlDLEtBQU9ELEdBQ1osUUFBZUQsRUFBUUUsRUFBS0QsRUFBT0MsSUFHcEMsTUFBTSxFQUFjQyxPQUFPQyxPQUFPLENBRXJDQyxRQUFTLFVBRVRDLFFBQVMsVUFFVEMsS0FBTSxPQUVOQyxLQUFNLFNBRUpDLEVBQWlCLElBQUlDLE9BQU8sc0JBQzNCLE1BQU0sRUFDVEMsWUFBWUMsRUFBa0JYLEdBQ3RCVyxJQUFxQnhCLEdBQ3JCRCxFQUFPMEIsV0FBVyxpQkFBa0Isa0NBQXFDLENBQ3JFQyxVQUFXLG9CQUduQmYsRUFBU2dCLEtBQU1kLEdBQ2YsSUFBSWUsRUFBUUQsS0FBS3BCLEtBQUtxQixNQUFNUCxHQUV4QlYsRUFBU2dCLEtBRFRDLEVBQ2UsQ0FDWEMsWUFBYUMsU0FBU0YsRUFBTSxJQUFNLE1BQ2xDRyxjQUFlLEVBQVVDLFdBQVcsQ0FDaEN6QixLQUFNcUIsRUFBTSxHQUNaSyxXQUFZ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LEdBQ2xCSSxXQUFZVCxHQUFjSyxFQUFZLEtBRzFDLE9BQTJCLElBQXZCQSxFQUFZMXVCLFNBR2hCdXZCLEVBQUd4SixNQUFPLE9BQVVyUyxHQUNwQjRiLEdBQW1CQyxFQUFJYixFQUFZN3NCLE1BQU0sR0FBSTRzQixLQUhsQ2MsRUFvR0lLLENBQWNsYyxHQUk3QixPQUFPLEdBQU8vVixXQUFXLGlDQUFpQytWLEVBQVEsS0FBTSxrQ0FBcUMsQ0FDekc5VixVQUFXLG1CQUNYeXhCLGdCQUFpQjNiLEVBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9hYmkvbGliLmVzbS9fdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9hYmkvbGliLmVzbS9mcmFnbWVudHMuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvYWJpL2xpYi5lc20vY29kZXJzL2Fic3RyYWN0LWNvZGVyLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2FiaS9saWIuZXNtL2NvZGVycy9hZGRyZXNzLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2FiaS9saWIuZXNtL2NvZGVycy9hbm9ueW1vdXMuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvYWJpL2xpYi5lc20vY29kZXJzL2FycmF5LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2FiaS9saWIuZXNtL2NvZGVycy9ib29sZWFuLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2FiaS9saWIuZXNtL2NvZGVycy9ieXRlcy5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9hYmkvbGliLmVzbS9jb2RlcnMvZml4ZWQtYnl0ZXMuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvYWJpL2xpYi5lc20vY29kZXJzL251bGwuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvYWJpL2xpYi5lc20vY29kZXJzL251bWJlci5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9zdHJpbmdzL2xpYi5lc20vX3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3Qvc3RyaW5ncy9saWIuZXNtL3V0ZjguanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvYWJpL2xpYi5lc20vY29kZXJzL3N0cmluZy5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9hYmkvbGliLmVzbS9jb2RlcnMvdHVwbGUuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvYWJpL2xpYi5lc20vYWJpLWNvZGVyLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2FiaS9saWIuZXNtL2ludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9hZGRyZXNzL2xpYi5lc20vX3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvYWRkcmVzcy9saWIuZXNtL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2JpZ251bWJlci9saWIuZXNtL2JpZ251bWJlci5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9iaWdudW1iZXIvbGliLmVzbS9fdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9ieXRlcy9saWIuZXNtL192ZXJzaW9uLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L2J5dGVzL2xpYi5lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvY29uc3RhbnRzL2xpYi5lc20vYmlnbnVtYmVycy5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9rZWNjYWsyNTYvbGliLmVzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9sb2dnZXIvbGliLmVzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9sb2dnZXIvbGliLmVzbS9fdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9wcm9wZXJ0aWVzL2xpYi5lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3QvcHJvcGVydGllcy9saWIuZXNtL192ZXJzaW9uLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L3JscC9saWIuZXNtL192ZXJzaW9uLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L3JscC9saWIuZXNtL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L3NpZ25pbmcta2V5L2xpYi5lc20vZWxsaXB0aWMuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvQGV0aGVyc3Byb2plY3Qvc2lnbmluZy1rZXkvbGliLmVzbS9fdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy9AZXRoZXJzcHJvamVjdC9zaWduaW5nLWtleS9saWIuZXNtL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L3RyYW5zYWN0aW9ucy9saWIuZXNtL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL0BldGhlcnNwcm9qZWN0L3RyYW5zYWN0aW9ucy9saWIuZXNtL192ZXJzaW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCJhYmkvNS4wLjdcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPV92ZXJzaW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2JpZ251bWJlclwiO1xuaW1wb3J0IHsgZGVmaW5lUmVhZE9ubHkgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvcHJvcGVydGllc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuO1xuY29uc3QgX2NvbnN0cnVjdG9yR3VhcmQgPSB7fTtcbmxldCBNb2RpZmllcnNCeXRlcyA9IHsgY2FsbGRhdGE6IHRydWUsIG1lbW9yeTogdHJ1ZSwgc3RvcmFnZTogdHJ1ZSB9O1xubGV0IE1vZGlmaWVyc05lc3QgPSB7IGNhbGxkYXRhOiB0cnVlLCBtZW1vcnk6IHRydWUgfTtcbmZ1bmN0aW9uIGNoZWNrTW9kaWZpZXIodHlwZSwgbmFtZSkge1xuICAgIGlmICh0eXBlID09PSBcImJ5dGVzXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoTW9kaWZpZXJzQnl0ZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiYWRkcmVzc1wiKSB7XG4gICAgICAgIGlmIChuYW1lID09PSBcInBheWFibGVcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZS5pbmRleE9mKFwiW1wiKSA+PSAwIHx8IHR5cGUgPT09IFwidHVwbGVcIikge1xuICAgICAgICBpZiAoTW9kaWZpZXJzTmVzdFtuYW1lXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKE1vZGlmaWVyc0J5dGVzW25hbWVdIHx8IG5hbWUgPT09IFwicGF5YWJsZVwiKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIG1vZGlmaWVyXCIsIFwibmFtZVwiLCBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gQFRPRE86IE1ha2Ugc3VyZSB0aGF0IGNoaWxkcmVuIG9mIGFuIGluZGV4ZWQgdHVwbGUgYXJlIG1hcmtlZCB3aXRoIGEgbnVsbCBpbmRleGVkXG5mdW5jdGlvbiBwYXJzZVBhcmFtVHlwZShwYXJhbSwgYWxsb3dJbmRleGVkKSB7XG4gICAgbGV0IG9yaWdpbmFsUGFyYW0gPSBwYXJhbTtcbiAgICBmdW5jdGlvbiB0aHJvd0Vycm9yKGkpIHtcbiAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihgdW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgcG9zaXRpb24gJHtpfWAsIFwicGFyYW1cIiwgcGFyYW0pO1xuICAgIH1cbiAgICBwYXJhbSA9IHBhcmFtLnJlcGxhY2UoL1xccy9nLCBcIiBcIik7XG4gICAgZnVuY3Rpb24gbmV3Tm9kZShwYXJlbnQpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB7IHR5cGU6IFwiXCIsIG5hbWU6IFwiXCIsIHBhcmVudDogcGFyZW50LCBzdGF0ZTogeyBhbGxvd1R5cGU6IHRydWUgfSB9O1xuICAgICAgICBpZiAoYWxsb3dJbmRleGVkKSB7XG4gICAgICAgICAgICBub2RlLmluZGV4ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgbGV0IHBhcmVudCA9IHsgdHlwZTogXCJcIiwgbmFtZTogXCJcIiwgc3RhdGU6IHsgYWxsb3dUeXBlOiB0cnVlIH0gfTtcbiAgICBsZXQgbm9kZSA9IHBhcmVudDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjID0gcGFyYW1baV07XG4gICAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICAgICAgY2FzZSBcIihcIjpcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5zdGF0ZS5hbGxvd1R5cGUgJiYgbm9kZS50eXBlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSA9IFwidHVwbGVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIW5vZGUuc3RhdGUuYWxsb3dQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS5zdGF0ZS5hbGxvd1R5cGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBub2RlLnR5cGUgPSB2ZXJpZnlUeXBlKG5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5jb21wb25lbnRzID0gW25ld05vZGUobm9kZSldO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmNvbXBvbmVudHNbMF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiKVwiOlxuICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLnN0YXRlO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5hbWUgPT09IFwiaW5kZXhlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYWxsb3dJbmRleGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvd0Vycm9yKGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaW5kZXhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja01vZGlmaWVyKG5vZGUudHlwZSwgbm9kZS5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlLnR5cGUgPSB2ZXJpZnlUeXBlKG5vZGUudHlwZSk7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gbm9kZTtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3IoaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjaGlsZC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgbm9kZS5zdGF0ZS5hbGxvd1BhcmFtcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG5vZGUuc3RhdGUuYWxsb3dOYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBub2RlLnN0YXRlLmFsbG93QXJyYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIixcIjpcbiAgICAgICAgICAgICAgICBkZWxldGUgbm9kZS5zdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5uYW1lID09PSBcImluZGV4ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbG93SW5kZXhlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlLmluZGV4ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tNb2RpZmllcihub2RlLnR5cGUsIG5vZGUubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS50eXBlID0gdmVyaWZ5VHlwZShub2RlLnR5cGUpO1xuICAgICAgICAgICAgICAgIGxldCBzaWJsaW5nID0gbmV3Tm9kZShub2RlLnBhcmVudCk7XG4gICAgICAgICAgICAgICAgLy97IHR5cGU6IFwiXCIsIG5hbWU6IFwiXCIsIHBhcmVudDogbm9kZS5wYXJlbnQsIHN0YXRlOiB7IGFsbG93VHlwZTogdHJ1ZSB9IH07XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQuY29tcG9uZW50cy5wdXNoKHNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLnBhcmVudDtcbiAgICAgICAgICAgICAgICBub2RlID0gc2libGluZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIC8vIEhpdCBhIHNwYWNlLi4uXG4gICAgICAgICAgICBjYXNlIFwiIFwiOlxuICAgICAgICAgICAgICAgIC8vIElmIHJlYWRpbmcgdHlwZSwgdGhlIHR5cGUgaXMgZG9uZSBhbmQgbWF5IHJlYWQgYSBwYXJhbSBvciBuYW1lXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuc3RhdGUuYWxsb3dUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnR5cGUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSA9IHZlcmlmeVR5cGUobm9kZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLnN0YXRlLmFsbG93VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3RhdGUuYWxsb3dOYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3RhdGUuYWxsb3dQYXJhbXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIHJlYWRpbmcgbmFtZSwgdGhlIG5hbWUgaXMgZG9uZVxuICAgICAgICAgICAgICAgIGlmIChub2RlLnN0YXRlLmFsbG93TmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5uYW1lID09PSBcImluZGV4ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWxsb3dJbmRleGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93RXJyb3IoaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmluZGV4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbmRleGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2tNb2RpZmllcihub2RlLnR5cGUsIG5vZGUubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdGF0ZS5hbGxvd05hbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJbXCI6XG4gICAgICAgICAgICAgICAgaWYgKCFub2RlLnN0YXRlLmFsbG93QXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS50eXBlICs9IGM7XG4gICAgICAgICAgICAgICAgbm9kZS5zdGF0ZS5hbGxvd0FycmF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbm9kZS5zdGF0ZS5hbGxvd05hbWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBub2RlLnN0YXRlLnJlYWRBcnJheSA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiXVwiOlxuICAgICAgICAgICAgICAgIGlmICghbm9kZS5zdGF0ZS5yZWFkQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS50eXBlICs9IGM7XG4gICAgICAgICAgICAgICAgbm9kZS5zdGF0ZS5yZWFkQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBub2RlLnN0YXRlLmFsbG93QXJyYXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG5vZGUuc3RhdGUuYWxsb3dOYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuc3RhdGUuYWxsb3dUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSArPSBjO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnN0YXRlLmFsbG93UGFyYW1zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdGF0ZS5hbGxvd0FycmF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5zdGF0ZS5hbGxvd05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5uYW1lICs9IGM7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBub2RlLnN0YXRlLmFsbG93QXJyYXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUuc3RhdGUucmVhZEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSArPSBjO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dFcnJvcihpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUucGFyZW50KSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJ1bmV4cGVjdGVkIGVvZlwiLCBcInBhcmFtXCIsIHBhcmFtKTtcbiAgICB9XG4gICAgZGVsZXRlIHBhcmVudC5zdGF0ZTtcbiAgICBpZiAobm9kZS5uYW1lID09PSBcImluZGV4ZWRcIikge1xuICAgICAgICBpZiAoIWFsbG93SW5kZXhlZCkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihvcmlnaW5hbFBhcmFtLmxlbmd0aCAtIDcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLmluZGV4ZWQpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3Iob3JpZ2luYWxQYXJhbS5sZW5ndGggLSA3KTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLmluZGV4ZWQgPSB0cnVlO1xuICAgICAgICBub2RlLm5hbWUgPSBcIlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGVja01vZGlmaWVyKG5vZGUudHlwZSwgbm9kZS5uYW1lKSkge1xuICAgICAgICBub2RlLm5hbWUgPSBcIlwiO1xuICAgIH1cbiAgICBwYXJlbnQudHlwZSA9IHZlcmlmeVR5cGUocGFyZW50LnR5cGUpO1xuICAgIHJldHVybiBwYXJlbnQ7XG59XG5mdW5jdGlvbiBwb3B1bGF0ZShvYmplY3QsIHBhcmFtcykge1xuICAgIGZvciAobGV0IGtleSBpbiBwYXJhbXMpIHtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkob2JqZWN0LCBrZXksIHBhcmFtc1trZXldKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgRm9ybWF0VHlwZXMgPSBPYmplY3QuZnJlZXplKHtcbiAgICAvLyBCYXJlIGZvcm1hdHRpbmcsIGFzIGlzIG5lZWRlZCBmb3IgY29tcHV0aW5nIGEgc2lnaGFzaCBvZiBhbiBldmVudCBvciBmdW5jdGlvblxuICAgIHNpZ2hhc2g6IFwic2lnaGFzaFwiLFxuICAgIC8vIEh1bWFuLVJlYWRhYmxlIHdpdGggTWluaW1hbCBzcGFjaW5nIGFuZCB3aXRob3V0IG5hbWVzIChjb21wYWN0IGh1bWFuLXJlYWRhYmxlKVxuICAgIG1pbmltYWw6IFwibWluaW1hbFwiLFxuICAgIC8vIEh1bWFuLVJlYWRibGUgd2l0aCBuaWNlIHNwYWNpbmcsIGluY2x1ZGluZyBhbGwgbmFtZXNcbiAgICBmdWxsOiBcImZ1bGxcIixcbiAgICAvLyBKU09OLWZvcm1hdCBhIGxhIFNvbGlkaXR5XG4gICAganNvbjogXCJqc29uXCJcbn0pO1xuY29uc3QgcGFyYW1UeXBlQXJyYXkgPSBuZXcgUmVnRXhwKC9eKC4qKVxcWyhbMC05XSopXFxdJC8pO1xuZXhwb3J0IGNsYXNzIFBhcmFtVHlwZSB7XG4gICAgY29uc3RydWN0b3IoY29uc3RydWN0b3JHdWFyZCwgcGFyYW1zKSB7XG4gICAgICAgIGlmIChjb25zdHJ1Y3Rvckd1YXJkICE9PSBfY29uc3RydWN0b3JHdWFyZCkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJ1c2UgZnJvbVN0cmluZ1wiLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJuZXcgUGFyYW1UeXBlKClcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9wdWxhdGUodGhpcywgcGFyYW1zKTtcbiAgICAgICAgbGV0IG1hdGNoID0gdGhpcy50eXBlLm1hdGNoKHBhcmFtVHlwZUFycmF5KTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBwb3B1bGF0ZSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgYXJyYXlMZW5ndGg6IHBhcnNlSW50KG1hdGNoWzJdIHx8IFwiLTFcIiksXG4gICAgICAgICAgICAgICAgYXJyYXlDaGlsZHJlbjogUGFyYW1UeXBlLmZyb21PYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBtYXRjaFsxXSxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogdGhpcy5jb21wb25lbnRzXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYmFzZVR5cGU6IFwiYXJyYXlcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb3B1bGF0ZSh0aGlzLCB7XG4gICAgICAgICAgICAgICAgYXJyYXlMZW5ndGg6IG51bGwsXG4gICAgICAgICAgICAgICAgYXJyYXlDaGlsZHJlbjogbnVsbCxcbiAgICAgICAgICAgICAgICBiYXNlVHlwZTogKCh0aGlzLmNvbXBvbmVudHMgIT0gbnVsbCkgPyBcInR1cGxlXCIgOiB0aGlzLnR5cGUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1BhcmFtVHlwZSA9IHRydWU7XG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gICAgfVxuICAgIC8vIEZvcm1hdCB0aGUgcGFyYW1ldGVyIGZyYWdtZW50XG4gICAgLy8gICAtIHNpZ2hhc2g6IFwiKHVpbnQyNTYsYWRkcmVzcylcIlxuICAgIC8vICAgLSBtaW5pbWFsOiBcInR1cGxlKHVpbnQyNTYsYWRkcmVzcykgaW5kZXhlZFwiXG4gICAgLy8gICAtIGZ1bGw6ICAgIFwidHVwbGUodWludDI1NiBmb28sIGFkZHJlcyBiYXIpIGluZGV4ZWQgYmF6XCJcbiAgICBmb3JtYXQoZm9ybWF0KSB7XG4gICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBGb3JtYXRUeXBlcy5zaWdoYXNoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRm9ybWF0VHlwZXNbZm9ybWF0XSkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgZm9ybWF0IHR5cGVcIiwgXCJmb3JtYXRcIiwgZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5qc29uKSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICgodGhpcy5iYXNlVHlwZSA9PT0gXCJ0dXBsZVwiKSA/IFwidHVwbGVcIiA6IHRoaXMudHlwZSksXG4gICAgICAgICAgICAgICAgbmFtZTogKHRoaXMubmFtZSB8fCB1bmRlZmluZWQpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpcy5pbmRleGVkKSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuaW5kZXhlZCA9IHRoaXMuaW5kZXhlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cy5tYXAoKGNvbXApID0+IEpTT04ucGFyc2UoY29tcC5mb3JtYXQoZm9ybWF0KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIC8vIEFycmF5XG4gICAgICAgIGlmICh0aGlzLmJhc2VUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0aGlzLmFycmF5Q2hpbGRyZW4uZm9ybWF0KGZvcm1hdCk7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJbXCIgKyAodGhpcy5hcnJheUxlbmd0aCA8IDAgPyBcIlwiIDogU3RyaW5nKHRoaXMuYXJyYXlMZW5ndGgpKSArIFwiXVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFzZVR5cGUgPT09IFwidHVwbGVcIikge1xuICAgICAgICAgICAgICAgIGlmIChmb3JtYXQgIT09IEZvcm1hdFR5cGVzLnNpZ2hhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMudHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiKFwiICsgdGhpcy5jb21wb25lbnRzLm1hcCgoY29tcCkgPT4gY29tcC5mb3JtYXQoZm9ybWF0KSkuam9pbigoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5mdWxsKSA/IFwiLCBcIiA6IFwiLFwiKSArIFwiKVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ICE9PSBGb3JtYXRUeXBlcy5zaWdoYXNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbmRleGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiIGluZGV4ZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09IEZvcm1hdFR5cGVzLmZ1bGwgJiYgdGhpcy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwiIFwiICsgdGhpcy5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHZhbHVlLCBhbGxvd0luZGV4ZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAodmFsdWUpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyYW1UeXBlLmZyb21TdHJpbmcodmFsdWUsIGFsbG93SW5kZXhlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcmFtVHlwZS5mcm9tT2JqZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21PYmplY3QodmFsdWUpIHtcbiAgICAgICAgaWYgKFBhcmFtVHlwZS5pc1BhcmFtVHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBhcmFtVHlwZShfY29uc3RydWN0b3JHdWFyZCwge1xuICAgICAgICAgICAgbmFtZTogKHZhbHVlLm5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICB0eXBlOiB2ZXJpZnlUeXBlKHZhbHVlLnR5cGUpLFxuICAgICAgICAgICAgaW5kZXhlZDogKCh2YWx1ZS5pbmRleGVkID09IG51bGwpID8gbnVsbCA6ICEhdmFsdWUuaW5kZXhlZCksXG4gICAgICAgICAgICBjb21wb25lbnRzOiAodmFsdWUuY29tcG9uZW50cyA/IHZhbHVlLmNvbXBvbmVudHMubWFwKFBhcmFtVHlwZS5mcm9tT2JqZWN0KSA6IG51bGwpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVN0cmluZyh2YWx1ZSwgYWxsb3dJbmRleGVkKSB7XG4gICAgICAgIGZ1bmN0aW9uIFBhcmFtVHlwaWZ5KG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJhbVR5cGUuZnJvbU9iamVjdCh7XG4gICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgICAgIHR5cGU6IG5vZGUudHlwZSxcbiAgICAgICAgICAgICAgICBpbmRleGVkOiBub2RlLmluZGV4ZWQsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50czogbm9kZS5jb21wb25lbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyYW1UeXBpZnkocGFyc2VQYXJhbVR5cGUodmFsdWUsICEhYWxsb3dJbmRleGVkKSk7XG4gICAgfVxuICAgIHN0YXRpYyBpc1BhcmFtVHlwZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISEodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZS5faXNQYXJhbVR5cGUpO1xuICAgIH1cbn1cbjtcbmZ1bmN0aW9uIHBhcnNlUGFyYW1zKHZhbHVlLCBhbGxvd0luZGV4KSB7XG4gICAgcmV0dXJuIHNwbGl0TmVzdGluZyh2YWx1ZSkubWFwKChwYXJhbSkgPT4gUGFyYW1UeXBlLmZyb21TdHJpbmcocGFyYW0sIGFsbG93SW5kZXgpKTtcbn1cbmV4cG9ydCBjbGFzcyBGcmFnbWVudCB7XG4gICAgY29uc3RydWN0b3IoY29uc3RydWN0b3JHdWFyZCwgcGFyYW1zKSB7XG4gICAgICAgIGlmIChjb25zdHJ1Y3Rvckd1YXJkICE9PSBfY29uc3RydWN0b3JHdWFyZCkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJ1c2UgYSBzdGF0aWMgZnJvbSBtZXRob2RcIiwgTG9nZ2VyLmVycm9ycy5VTlNVUFBPUlRFRF9PUEVSQVRJT04sIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwibmV3IEZyYWdtZW50KClcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcG9wdWxhdGUodGhpcywgcGFyYW1zKTtcbiAgICAgICAgdGhpcy5faXNGcmFnbWVudCA9IHRydWU7XG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHZhbHVlKSB7XG4gICAgICAgIGlmIChGcmFnbWVudC5pc0ZyYWdtZW50KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIEZyYWdtZW50LmZyb21TdHJpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBGcmFnbWVudC5mcm9tT2JqZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21PYmplY3QodmFsdWUpIHtcbiAgICAgICAgaWYgKEZyYWdtZW50LmlzRnJhZ21lbnQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh2YWx1ZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gRnVuY3Rpb25GcmFnbWVudC5mcm9tT2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgXCJldmVudFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBFdmVudEZyYWdtZW50LmZyb21PYmplY3QodmFsdWUpO1xuICAgICAgICAgICAgY2FzZSBcImNvbnN0cnVjdG9yXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yRnJhZ21lbnQuZnJvbU9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIFwiZmFsbGJhY2tcIjpcbiAgICAgICAgICAgIGNhc2UgXCJyZWNlaXZlXCI6XG4gICAgICAgICAgICAgICAgLy8gQFRPRE86IFNvbWV0aGluZz8gTWF5YmUgcmV0dXJuIGEgRnVuY3Rpb25GcmFnbWVudD8gQSBjdXN0b20gRGVmYXVsdEZ1bmN0aW9uRnJhZ21lbnQ/XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGZyYWdtZW50IG9iamVjdFwiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21TdHJpbmcodmFsdWUpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBcInJldHVybnNcIiBpcyBzdXJyb3VuZGVkIGJ5IGEgc3BhY2UgYW5kIGFsbCB3aGl0ZXNwYWNlIGlzIGV4YWN0bHkgb25lIHNwYWNlXG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxzL2csIFwiIFwiKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXCgvZywgXCIgKFwiKS5yZXBsYWNlKC9cXCkvZywgXCIpIFwiKS5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKTtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgIGlmICh2YWx1ZS5zcGxpdChcIiBcIilbMF0gPT09IFwiZXZlbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIEV2ZW50RnJhZ21lbnQuZnJvbVN0cmluZyh2YWx1ZS5zdWJzdHJpbmcoNSkudHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5zcGxpdChcIiBcIilbMF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uRnJhZ21lbnQuZnJvbVN0cmluZyh2YWx1ZS5zdWJzdHJpbmcoOCkudHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5zcGxpdChcIihcIilbMF0udHJpbSgpID09PSBcImNvbnN0cnVjdG9yXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBDb25zdHJ1Y3RvckZyYWdtZW50LmZyb21TdHJpbmcodmFsdWUudHJpbSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcInVuc3VwcG9ydGVkIGZyYWdtZW50XCIsIFwidmFsdWVcIiwgdmFsdWUpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNGcmFnbWVudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX2lzRnJhZ21lbnQpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBFdmVudEZyYWdtZW50IGV4dGVuZHMgRnJhZ21lbnQge1xuICAgIGZvcm1hdChmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IEZvcm1hdFR5cGVzLnNpZ2hhc2g7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFGb3JtYXRUeXBlc1tmb3JtYXRdKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBmb3JtYXQgdHlwZVwiLCBcImZvcm1hdFwiLCBmb3JtYXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IEZvcm1hdFR5cGVzLmpzb24pIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJldmVudFwiLFxuICAgICAgICAgICAgICAgIGFub255bW91czogdGhpcy5hbm9ueW1vdXMsXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgIGlucHV0czogdGhpcy5pbnB1dHMubWFwKChpbnB1dCkgPT4gSlNPTi5wYXJzZShpbnB1dC5mb3JtYXQoZm9ybWF0KSkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgaWYgKGZvcm1hdCAhPT0gRm9ybWF0VHlwZXMuc2lnaGFzaCkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IFwiZXZlbnQgXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IHRoaXMubmFtZSArIFwiKFwiICsgdGhpcy5pbnB1dHMubWFwKChpbnB1dCkgPT4gaW5wdXQuZm9ybWF0KGZvcm1hdCkpLmpvaW4oKGZvcm1hdCA9PT0gRm9ybWF0VHlwZXMuZnVsbCkgPyBcIiwgXCIgOiBcIixcIikgKyBcIikgXCI7XG4gICAgICAgIGlmIChmb3JtYXQgIT09IEZvcm1hdFR5cGVzLnNpZ2hhc2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFub255bW91cykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcImFub255bW91cyBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnRyaW0oKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb20odmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAodmFsdWUpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gRXZlbnRGcmFnbWVudC5mcm9tU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRXZlbnRGcmFnbWVudC5mcm9tT2JqZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21PYmplY3QodmFsdWUpIHtcbiAgICAgICAgaWYgKEV2ZW50RnJhZ21lbnQuaXNFdmVudEZyYWdtZW50KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS50eXBlICE9PSBcImV2ZW50XCIpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGV2ZW50IG9iamVjdFwiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICBuYW1lOiB2ZXJpZnlJZGVudGlmaWVyKHZhbHVlLm5hbWUpLFxuICAgICAgICAgICAgYW5vbnltb3VzOiB2YWx1ZS5hbm9ueW1vdXMsXG4gICAgICAgICAgICBpbnB1dHM6ICh2YWx1ZS5pbnB1dHMgPyB2YWx1ZS5pbnB1dHMubWFwKFBhcmFtVHlwZS5mcm9tT2JqZWN0KSA6IFtdKSxcbiAgICAgICAgICAgIHR5cGU6IFwiZXZlbnRcIlxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IEV2ZW50RnJhZ21lbnQoX2NvbnN0cnVjdG9yR3VhcmQsIHBhcmFtcyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIGxldCBtYXRjaCA9IHZhbHVlLm1hdGNoKHJlZ2V4UGFyZW4pO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBldmVudCBzdHJpbmdcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFub255bW91cyA9IGZhbHNlO1xuICAgICAgICBtYXRjaFszXS5zcGxpdChcIiBcIikuZm9yRWFjaCgobW9kaWZpZXIpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAobW9kaWZpZXIudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFub255bW91c1wiOlxuICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiXCI6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKFwidW5rbm93biBtb2RpZmllcjogXCIgKyBtb2RpZmllcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gRXZlbnRGcmFnbWVudC5mcm9tT2JqZWN0KHtcbiAgICAgICAgICAgIG5hbWU6IG1hdGNoWzFdLnRyaW0oKSxcbiAgICAgICAgICAgIGFub255bW91czogYW5vbnltb3VzLFxuICAgICAgICAgICAgaW5wdXRzOiBwYXJzZVBhcmFtcyhtYXRjaFsyXSwgdHJ1ZSksXG4gICAgICAgICAgICB0eXBlOiBcImV2ZW50XCJcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBpc0V2ZW50RnJhZ21lbnQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZS5faXNGcmFnbWVudCAmJiB2YWx1ZS50eXBlID09PSBcImV2ZW50XCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlR2FzKHZhbHVlLCBwYXJhbXMpIHtcbiAgICBwYXJhbXMuZ2FzID0gbnVsbDtcbiAgICBsZXQgY29tcHMgPSB2YWx1ZS5zcGxpdChcIkBcIik7XG4gICAgaWYgKGNvbXBzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICBpZiAoY29tcHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgaHVtYW4tcmVhZGFibGUgQUJJIHNpZ25hdHVyZVwiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbXBzWzFdLm1hdGNoKC9eWzAtOV0rJC8pKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBodW1hbi1yZWFkYWJsZSBBQkkgc2lnbmF0dXJlIGdhc1wiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuZ2FzID0gQmlnTnVtYmVyLmZyb20oY29tcHNbMV0pO1xuICAgICAgICByZXR1cm4gY29tcHNbMF07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHBhcnNlTW9kaWZpZXJzKHZhbHVlLCBwYXJhbXMpIHtcbiAgICBwYXJhbXMuY29uc3RhbnQgPSBmYWxzZTtcbiAgICBwYXJhbXMucGF5YWJsZSA9IGZhbHNlO1xuICAgIHBhcmFtcy5zdGF0ZU11dGFiaWxpdHkgPSBcIm5vbnBheWFibGVcIjtcbiAgICB2YWx1ZS5zcGxpdChcIiBcIikuZm9yRWFjaCgobW9kaWZpZXIpID0+IHtcbiAgICAgICAgc3dpdGNoIChtb2RpZmllci50cmltKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJjb25zdGFudFwiOlxuICAgICAgICAgICAgICAgIHBhcmFtcy5jb25zdGFudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGF5YWJsZVwiOlxuICAgICAgICAgICAgICAgIHBhcmFtcy5wYXlhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuc3RhdGVNdXRhYmlsaXR5ID0gXCJwYXlhYmxlXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9ucGF5YWJsZVwiOlxuICAgICAgICAgICAgICAgIHBhcmFtcy5wYXlhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnN0YXRlTXV0YWJpbGl0eSA9IFwibm9ucGF5YWJsZVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInB1cmVcIjpcbiAgICAgICAgICAgICAgICBwYXJhbXMuY29uc3RhbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBhcmFtcy5zdGF0ZU11dGFiaWxpdHkgPSBcInB1cmVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2aWV3XCI6XG4gICAgICAgICAgICAgICAgcGFyYW1zLmNvbnN0YW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuc3RhdGVNdXRhYmlsaXR5ID0gXCJ2aWV3XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZXh0ZXJuYWxcIjpcbiAgICAgICAgICAgIGNhc2UgXCJwdWJsaWNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1bmtub3duIG1vZGlmaWVyOiBcIiArIG1vZGlmaWVyKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gdmVyaWZ5U3RhdGUodmFsdWUpIHtcbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBjb25zdGFudDogZmFsc2UsXG4gICAgICAgIHBheWFibGU6IHRydWUsXG4gICAgICAgIHN0YXRlTXV0YWJpbGl0eTogXCJwYXlhYmxlXCJcbiAgICB9O1xuICAgIGlmICh2YWx1ZS5zdGF0ZU11dGFiaWxpdHkgIT0gbnVsbCkge1xuICAgICAgICByZXN1bHQuc3RhdGVNdXRhYmlsaXR5ID0gdmFsdWUuc3RhdGVNdXRhYmlsaXR5O1xuICAgICAgICAvLyBTZXQgKGFuZCBjaGVjayB0aGluZ3MgYXJlIGNvbnNpc3RlbnQpIHRoZSBjb25zdGFudCBwcm9wZXJ0eVxuICAgICAgICByZXN1bHQuY29uc3RhbnQgPSAocmVzdWx0LnN0YXRlTXV0YWJpbGl0eSA9PT0gXCJ2aWV3XCIgfHwgcmVzdWx0LnN0YXRlTXV0YWJpbGl0eSA9PT0gXCJwdXJlXCIpO1xuICAgICAgICBpZiAodmFsdWUuY29uc3RhbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCghIXZhbHVlLmNvbnN0YW50KSAhPT0gcmVzdWx0LmNvbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImNhbm5vdCBoYXZlIGNvbnN0YW50IGZ1bmN0aW9uIHdpdGggbXV0YWJpbGl0eSBcIiArIHJlc3VsdC5zdGF0ZU11dGFiaWxpdHksIFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldCAoYW5kIGNoZWNrIHRoaW5ncyBhcmUgY29uc2lzdGVudCkgdGhlIHBheWFibGUgcHJvcGVydHlcbiAgICAgICAgcmVzdWx0LnBheWFibGUgPSAocmVzdWx0LnN0YXRlTXV0YWJpbGl0eSA9PT0gXCJwYXlhYmxlXCIpO1xuICAgICAgICBpZiAodmFsdWUucGF5YWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoKCEhdmFsdWUucGF5YWJsZSkgIT09IHJlc3VsdC5wYXlhYmxlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImNhbm5vdCBoYXZlIHBheWFibGUgZnVuY3Rpb24gd2l0aCBtdXRhYmlsaXR5IFwiICsgcmVzdWx0LnN0YXRlTXV0YWJpbGl0eSwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUucGF5YWJsZSAhPSBudWxsKSB7XG4gICAgICAgIHJlc3VsdC5wYXlhYmxlID0gISF2YWx1ZS5wYXlhYmxlO1xuICAgICAgICAvLyBJZiBwYXlhYmxlIHdlIGNhbiBhc3N1bWUgbm9uLWNvbnN0YW50OyBvdGhlcndpc2Ugd2UgY2FuJ3QgYXNzdW1lXG4gICAgICAgIGlmICh2YWx1ZS5jb25zdGFudCA9PSBudWxsICYmICFyZXN1bHQucGF5YWJsZSAmJiB2YWx1ZS50eXBlICE9PSBcImNvbnN0cnVjdG9yXCIpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJ1bmFibGUgdG8gZGV0ZXJtaW5lIHN0YXRlTXV0YWJpbGl0eVwiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQuY29uc3RhbnQgPSAhIXZhbHVlLmNvbnN0YW50O1xuICAgICAgICBpZiAocmVzdWx0LmNvbnN0YW50KSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdGVNdXRhYmlsaXR5ID0gXCJ2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQuc3RhdGVNdXRhYmlsaXR5ID0gKHJlc3VsdC5wYXlhYmxlID8gXCJwYXlhYmxlXCIgOiBcIm5vbnBheWFibGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5wYXlhYmxlICYmIHJlc3VsdC5jb25zdGFudCkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImNhbm5vdCBoYXZlIGNvbnN0YW50IHBheWFibGUgZnVuY3Rpb25cIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUuY29uc3RhbnQgIT0gbnVsbCkge1xuICAgICAgICByZXN1bHQuY29uc3RhbnQgPSAhIXZhbHVlLmNvbnN0YW50O1xuICAgICAgICByZXN1bHQucGF5YWJsZSA9ICFyZXN1bHQuY29uc3RhbnQ7XG4gICAgICAgIHJlc3VsdC5zdGF0ZU11dGFiaWxpdHkgPSAocmVzdWx0LmNvbnN0YW50ID8gXCJ2aWV3XCIgOiBcInBheWFibGVcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlLnR5cGUgIT09IFwiY29uc3RydWN0b3JcIikge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwidW5hYmxlIHRvIGRldGVybWluZSBzdGF0ZU11dGFiaWxpdHlcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY2xhc3MgQ29uc3RydWN0b3JGcmFnbWVudCBleHRlbmRzIEZyYWdtZW50IHtcbiAgICBmb3JtYXQoZm9ybWF0KSB7XG4gICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBGb3JtYXRUeXBlcy5zaWdoYXNoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRm9ybWF0VHlwZXNbZm9ybWF0XSkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgZm9ybWF0IHR5cGVcIiwgXCJmb3JtYXRcIiwgZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5qc29uKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiY29uc3RydWN0b3JcIixcbiAgICAgICAgICAgICAgICBzdGF0ZU11dGFiaWxpdHk6ICgodGhpcy5zdGF0ZU11dGFiaWxpdHkgIT09IFwibm9ucGF5YWJsZVwiKSA/IHRoaXMuc3RhdGVNdXRhYmlsaXR5IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBwYXlibGU6IHRoaXMucGF5YWJsZSxcbiAgICAgICAgICAgICAgICBnYXM6ICh0aGlzLmdhcyA/IHRoaXMuZ2FzLnRvTnVtYmVyKCkgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIGlucHV0czogdGhpcy5pbnB1dHMubWFwKChpbnB1dCkgPT4gSlNPTi5wYXJzZShpbnB1dC5mb3JtYXQoZm9ybWF0KSkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5zaWdoYXNoKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dFcnJvcihcImNhbm5vdCBmb3JtYXQgYSBjb25zdHJ1Y3RvciBmb3Igc2lnaGFzaFwiLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJmb3JtYXQoc2lnaGFzaClcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IFwiY29uc3RydWN0b3IoXCIgKyB0aGlzLmlucHV0cy5tYXAoKGlucHV0KSA9PiBpbnB1dC5mb3JtYXQoZm9ybWF0KSkuam9pbigoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5mdWxsKSA/IFwiLCBcIiA6IFwiLFwiKSArIFwiKSBcIjtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGVNdXRhYmlsaXR5ICYmIHRoaXMuc3RhdGVNdXRhYmlsaXR5ICE9PSBcIm5vbnBheWFibGVcIikge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRoaXMuc3RhdGVNdXRhYmlsaXR5ICsgXCIgXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC50cmltKCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yRnJhZ21lbnQuZnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yRnJhZ21lbnQuZnJvbU9iamVjdCh2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KHZhbHVlKSB7XG4gICAgICAgIGlmIChDb25zdHJ1Y3RvckZyYWdtZW50LmlzQ29uc3RydWN0b3JGcmFnbWVudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUudHlwZSAhPT0gXCJjb25zdHJ1Y3RvclwiKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBjb25zdHJ1Y3RvciBvYmplY3RcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXRlID0gdmVyaWZ5U3RhdGUodmFsdWUpO1xuICAgICAgICBpZiAoc3RhdGUuY29uc3RhbnQpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY29uc3RhbnRcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHR5cGU6IHZhbHVlLnR5cGUsXG4gICAgICAgICAgICBpbnB1dHM6ICh2YWx1ZS5pbnB1dHMgPyB2YWx1ZS5pbnB1dHMubWFwKFBhcmFtVHlwZS5mcm9tT2JqZWN0KSA6IFtdKSxcbiAgICAgICAgICAgIHBheWFibGU6IHN0YXRlLnBheWFibGUsXG4gICAgICAgICAgICBzdGF0ZU11dGFiaWxpdHk6IHN0YXRlLnN0YXRlTXV0YWJpbGl0eSxcbiAgICAgICAgICAgIGdhczogKHZhbHVlLmdhcyA/IEJpZ051bWJlci5mcm9tKHZhbHVlLmdhcykgOiBudWxsKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yRnJhZ21lbnQoX2NvbnN0cnVjdG9yR3VhcmQsIHBhcmFtcyk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIGxldCBwYXJhbXMgPSB7IHR5cGU6IFwiY29uc3RydWN0b3JcIiB9O1xuICAgICAgICB2YWx1ZSA9IHBhcnNlR2FzKHZhbHVlLCBwYXJhbXMpO1xuICAgICAgICBsZXQgcGFyZW5zID0gdmFsdWUubWF0Y2gocmVnZXhQYXJlbik7XG4gICAgICAgIGlmICghcGFyZW5zIHx8IHBhcmVuc1sxXS50cmltKCkgIT09IFwiY29uc3RydWN0b3JcIikge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgY29uc3RydWN0b3Igc3RyaW5nXCIsIFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcy5pbnB1dHMgPSBwYXJzZVBhcmFtcyhwYXJlbnNbMl0udHJpbSgpLCBmYWxzZSk7XG4gICAgICAgIHBhcnNlTW9kaWZpZXJzKHBhcmVuc1szXS50cmltKCksIHBhcmFtcyk7XG4gICAgICAgIHJldHVybiBDb25zdHJ1Y3RvckZyYWdtZW50LmZyb21PYmplY3QocGFyYW1zKTtcbiAgICB9XG4gICAgc3RhdGljIGlzQ29uc3RydWN0b3JGcmFnbWVudCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKHZhbHVlICYmIHZhbHVlLl9pc0ZyYWdtZW50ICYmIHZhbHVlLnR5cGUgPT09IFwiY29uc3RydWN0b3JcIik7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uRnJhZ21lbnQgZXh0ZW5kcyBDb25zdHJ1Y3RvckZyYWdtZW50IHtcbiAgICBmb3JtYXQoZm9ybWF0KSB7XG4gICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBGb3JtYXRUeXBlcy5zaWdoYXNoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghRm9ybWF0VHlwZXNbZm9ybWF0XSkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgZm9ybWF0IHR5cGVcIiwgXCJmb3JtYXRcIiwgZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5qc29uKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgY29uc3RhbnQ6IHRoaXMuY29uc3RhbnQsXG4gICAgICAgICAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiAoKHRoaXMuc3RhdGVNdXRhYmlsaXR5ICE9PSBcIm5vbnBheWFibGVcIikgPyB0aGlzLnN0YXRlTXV0YWJpbGl0eSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgcGF5YmxlOiB0aGlzLnBheWFibGUsXG4gICAgICAgICAgICAgICAgZ2FzOiAodGhpcy5nYXMgPyB0aGlzLmdhcy50b051bWJlcigpIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBpbnB1dHM6IHRoaXMuaW5wdXRzLm1hcCgoaW5wdXQpID0+IEpTT04ucGFyc2UoaW5wdXQuZm9ybWF0KGZvcm1hdCkpKSxcbiAgICAgICAgICAgICAgICBvdXB1dHM6IHRoaXMub3V0cHV0cy5tYXAoKG91dHB1dCkgPT4gSlNPTi5wYXJzZShvdXRwdXQuZm9ybWF0KGZvcm1hdCkpKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgICAgICBpZiAoZm9ybWF0ICE9PSBGb3JtYXRUeXBlcy5zaWdoYXNoKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJmdW5jdGlvbiBcIjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gdGhpcy5uYW1lICsgXCIoXCIgKyB0aGlzLmlucHV0cy5tYXAoKGlucHV0KSA9PiBpbnB1dC5mb3JtYXQoZm9ybWF0KSkuam9pbigoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5mdWxsKSA/IFwiLCBcIiA6IFwiLFwiKSArIFwiKSBcIjtcbiAgICAgICAgaWYgKGZvcm1hdCAhPT0gRm9ybWF0VHlwZXMuc2lnaGFzaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGVNdXRhYmlsaXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGVNdXRhYmlsaXR5ICE9PSBcIm5vbnBheWFibGVcIikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gKHRoaXMuc3RhdGVNdXRhYmlsaXR5ICsgXCIgXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY29uc3RhbnQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCJ2aWV3IFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0cyAmJiB0aGlzLm91dHB1dHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFwicmV0dXJucyAoXCIgKyB0aGlzLm91dHB1dHMubWFwKChvdXRwdXQpID0+IG91dHB1dC5mb3JtYXQoZm9ybWF0KSkuam9pbihcIiwgXCIpICsgXCIpIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCJAXCIgKyB0aGlzLmdhcy50b1N0cmluZygpICsgXCIgXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdC50cmltKCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uRnJhZ21lbnQuZnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uRnJhZ21lbnQuZnJvbU9iamVjdCh2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tT2JqZWN0KHZhbHVlKSB7XG4gICAgICAgIGlmIChGdW5jdGlvbkZyYWdtZW50LmlzRnVuY3Rpb25GcmFnbWVudCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUudHlwZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBmdW5jdGlvbiBvYmplY3RcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXRlID0gdmVyaWZ5U3RhdGUodmFsdWUpO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICB0eXBlOiB2YWx1ZS50eXBlLFxuICAgICAgICAgICAgbmFtZTogdmVyaWZ5SWRlbnRpZmllcih2YWx1ZS5uYW1lKSxcbiAgICAgICAgICAgIGNvbnN0YW50OiBzdGF0ZS5jb25zdGFudCxcbiAgICAgICAgICAgIGlucHV0czogKHZhbHVlLmlucHV0cyA/IHZhbHVlLmlucHV0cy5tYXAoUGFyYW1UeXBlLmZyb21PYmplY3QpIDogW10pLFxuICAgICAgICAgICAgb3V0cHV0czogKHZhbHVlLm91dHB1dHMgPyB2YWx1ZS5vdXRwdXRzLm1hcChQYXJhbVR5cGUuZnJvbU9iamVjdCkgOiBbXSksXG4gICAgICAgICAgICBwYXlhYmxlOiBzdGF0ZS5wYXlhYmxlLFxuICAgICAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiBzdGF0ZS5zdGF0ZU11dGFiaWxpdHksXG4gICAgICAgICAgICBnYXM6ICh2YWx1ZS5nYXMgPyBCaWdOdW1iZXIuZnJvbSh2YWx1ZS5nYXMpIDogbnVsbClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBGdW5jdGlvbkZyYWdtZW50KF9jb25zdHJ1Y3Rvckd1YXJkLCBwYXJhbXMpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVN0cmluZyh2YWx1ZSkge1xuICAgICAgICBsZXQgcGFyYW1zID0geyB0eXBlOiBcImZ1bmN0aW9uXCIgfTtcbiAgICAgICAgdmFsdWUgPSBwYXJzZUdhcyh2YWx1ZSwgcGFyYW1zKTtcbiAgICAgICAgbGV0IGNvbXBzID0gdmFsdWUuc3BsaXQoXCIgcmV0dXJucyBcIik7XG4gICAgICAgIGlmIChjb21wcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBmdW5jdGlvbiBzdHJpbmdcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhcmVucyA9IGNvbXBzWzBdLm1hdGNoKHJlZ2V4UGFyZW4pO1xuICAgICAgICBpZiAoIXBhcmVucykge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgZnVuY3Rpb24gc2lnbmF0dXJlXCIsIFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtcy5uYW1lID0gcGFyZW5zWzFdLnRyaW0oKTtcbiAgICAgICAgaWYgKHBhcmFtcy5uYW1lKSB7XG4gICAgICAgICAgICB2ZXJpZnlJZGVudGlmaWVyKHBhcmFtcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuaW5wdXRzID0gcGFyc2VQYXJhbXMocGFyZW5zWzJdLCBmYWxzZSk7XG4gICAgICAgIHBhcnNlTW9kaWZpZXJzKHBhcmVuc1szXS50cmltKCksIHBhcmFtcyk7XG4gICAgICAgIC8vIFdlIGhhdmUgb3V0cHV0c1xuICAgICAgICBpZiAoY29tcHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbGV0IHJldHVybnMgPSBjb21wc1sxXS5tYXRjaChyZWdleFBhcmVuKTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5zWzFdLnRyaW0oKSAhPSBcIlwiIHx8IHJldHVybnNbM10udHJpbSgpICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwidW5leHBlY3RlZCB0b2tlbnNcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMub3V0cHV0cyA9IHBhcnNlUGFyYW1zKHJldHVybnNbMl0sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtcy5vdXRwdXRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uRnJhZ21lbnQuZnJvbU9iamVjdChwYXJhbXMpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNGdW5jdGlvbkZyYWdtZW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgJiYgdmFsdWUuX2lzRnJhZ21lbnQgJiYgdmFsdWUudHlwZSA9PT0gXCJmdW5jdGlvblwiKTtcbiAgICB9XG59XG4vL2V4cG9ydCBjbGFzcyBFcnJvckZyYWdtZW50IGV4dGVuZHMgRnJhZ21lbnQge1xuLy99XG4vL2V4cG9ydCBjbGFzcyBTdHJ1Y3RGcmFnbWVudCBleHRlbmRzIEZyYWdtZW50IHtcbi8vfVxuZnVuY3Rpb24gdmVyaWZ5VHlwZSh0eXBlKSB7XG4gICAgLy8gVGhlc2UgbmVlZCB0byBiZSB0cmFuc2Zvcm1lZCB0byB0aGVpciBmdWxsIGRlc2NyaXB0aW9uXG4gICAgaWYgKHR5cGUubWF0Y2goL151aW50KCR8W14xLTldKS8pKSB7XG4gICAgICAgIHR5cGUgPSBcInVpbnQyNTZcIiArIHR5cGUuc3Vic3RyaW5nKDQpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlLm1hdGNoKC9eaW50KCR8W14xLTldKS8pKSB7XG4gICAgICAgIHR5cGUgPSBcImludDI1NlwiICsgdHlwZS5zdWJzdHJpbmcoMyk7XG4gICAgfVxuICAgIC8vIEBUT0RPOiBtb3JlIHZlcmlmaWNhdGlvblxuICAgIHJldHVybiB0eXBlO1xufVxuY29uc3QgcmVnZXhJZGVudGlmaWVyID0gbmV3IFJlZ0V4cChcIl5bQS1aYS16X11bQS1aYS16MC05X10qJFwiKTtcbmZ1bmN0aW9uIHZlcmlmeUlkZW50aWZpZXIodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlIHx8ICF2YWx1ZS5tYXRjaChyZWdleElkZW50aWZpZXIpKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoYGludmFsaWQgaWRlbnRpZmllciBcIiR7dmFsdWV9XCJgLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgcmVnZXhQYXJlbiA9IG5ldyBSZWdFeHAoXCJeKFteKShdKilcXFxcKCguKilcXFxcKShbXikoXSopJFwiKTtcbmZ1bmN0aW9uIHNwbGl0TmVzdGluZyh2YWx1ZSkge1xuICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBsZXQgYWNjdW0gPSBcIlwiO1xuICAgIGxldCBkZXB0aCA9IDA7XG4gICAgZm9yIChsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgdmFsdWUubGVuZ3RoOyBvZmZzZXQrKykge1xuICAgICAgICBsZXQgYyA9IHZhbHVlW29mZnNldF07XG4gICAgICAgIGlmIChjID09PSBcIixcIiAmJiBkZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYWNjdW0pO1xuICAgICAgICAgICAgYWNjdW0gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWNjdW0gKz0gYztcbiAgICAgICAgICAgIGlmIChjID09PSBcIihcIikge1xuICAgICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjID09PSBcIilcIikge1xuICAgICAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwidW5iYWxhbmNlZCBwYXJlbnRoZXNpc1wiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFjY3VtKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGFjY3VtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyYWdtZW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGFycmF5aWZ5LCBjb25jYXQsIGhleENvbmNhdCwgaGV4bGlmeSB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9ieXRlc1wiO1xuaW1wb3J0IHsgQmlnTnVtYmVyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2JpZ251bWJlclwiO1xuaW1wb3J0IHsgZGVmaW5lUmVhZE9ubHkgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvcHJvcGVydGllc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi9fdmVyc2lvblwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcih2ZXJzaW9uKTtcbmV4cG9ydCBmdW5jdGlvbiBjaGVja1Jlc3VsdEVycm9ycyhyZXN1bHQpIHtcbiAgICAvLyBGaW5kIHRoZSBmaXJzdCBlcnJvciAoaWYgYW55KVxuICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgIGNvbnN0IGNoZWNrRXJyb3JzID0gZnVuY3Rpb24gKHBhdGgsIG9iamVjdCkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkUGF0aCA9IHBhdGguc2xpY2UoKTtcbiAgICAgICAgICAgIGNoaWxkUGF0aC5wdXNoKGtleSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNoZWNrRXJyb3JzKGNoaWxkUGF0aCwgb2JqZWN0W2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goeyBwYXRoOiBjaGlsZFBhdGgsIGVycm9yOiBlcnJvciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY2hlY2tFcnJvcnMoW10sIHJlc3VsdCk7XG4gICAgcmV0dXJuIGVycm9ycztcbn1cbmV4cG9ydCBjbGFzcyBDb2RlciB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdHlwZSwgbG9jYWxOYW1lLCBkeW5hbWljKSB7XG4gICAgICAgIC8vIEBUT0RPOiBkZWZpbmVSZWFkT25seSB0aGVzZVxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmxvY2FsTmFtZSA9IGxvY2FsTmFtZTtcbiAgICAgICAgdGhpcy5keW5hbWljID0gZHluYW1pYztcbiAgICB9XG4gICAgX3Rocm93RXJyb3IobWVzc2FnZSwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihtZXNzYWdlLCB0aGlzLmxvY2FsTmFtZSwgdmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHdvcmRTaXplKSB7XG4gICAgICAgIGRlZmluZVJlYWRPbmx5KHRoaXMsIFwid29yZFNpemVcIiwgd29yZFNpemUgfHwgMzIpO1xuICAgICAgICB0aGlzLl9kYXRhID0gW107XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gbmV3IFVpbnQ4QXJyYXkod29yZFNpemUpO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIGhleENvbmNhdCh0aGlzLl9kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHsgcmV0dXJuIHRoaXMuX2RhdGFMZW5ndGg7IH1cbiAgICBfd3JpdGVEYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZGF0YS5wdXNoKGRhdGEpO1xuICAgICAgICB0aGlzLl9kYXRhTGVuZ3RoICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICByZXR1cm4gZGF0YS5sZW5ndGg7XG4gICAgfVxuICAgIGFwcGVuZFdyaXRlcih3cml0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlRGF0YShjb25jYXQod3JpdGVyLl9kYXRhKSk7XG4gICAgfVxuICAgIC8vIEFycmF5aXNoIGl0ZW1zOyBwYWRkZWQgb24gdGhlIHJpZ2h0IHRvIHdvcmRTaXplXG4gICAgd3JpdGVCeXRlcyh2YWx1ZSkge1xuICAgICAgICBsZXQgYnl0ZXMgPSBhcnJheWlmeSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdPZmZzZXQgPSBieXRlcy5sZW5ndGggJSB0aGlzLndvcmRTaXplO1xuICAgICAgICBpZiAocGFkZGluZ09mZnNldCkge1xuICAgICAgICAgICAgYnl0ZXMgPSBjb25jYXQoW2J5dGVzLCB0aGlzLl9wYWRkaW5nLnNsaWNlKHBhZGRpbmdPZmZzZXQpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlRGF0YShieXRlcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBsZXQgYnl0ZXMgPSBhcnJheWlmeShCaWdOdW1iZXIuZnJvbSh2YWx1ZSkpO1xuICAgICAgICBpZiAoYnl0ZXMubGVuZ3RoID4gdGhpcy53b3JkU2l6ZSkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJ2YWx1ZSBvdXQtb2YtYm91bmRzXCIsIExvZ2dlci5lcnJvcnMuQlVGRkVSX09WRVJSVU4sIHtcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHRoaXMud29yZFNpemUsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBieXRlcy5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChieXRlcy5sZW5ndGggJSB0aGlzLndvcmRTaXplKSB7XG4gICAgICAgICAgICBieXRlcyA9IGNvbmNhdChbdGhpcy5fcGFkZGluZy5zbGljZShieXRlcy5sZW5ndGggJSB0aGlzLndvcmRTaXplKSwgYnl0ZXNdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnl0ZXM7XG4gICAgfVxuICAgIC8vIEJpZ051bWJlcmlzaCBpdGVtczsgcGFkZGVkIG9uIHRoZSBsZWZ0IHRvIHdvcmRTaXplXG4gICAgd3JpdGVWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd3JpdGVEYXRhKHRoaXMuX2dldFZhbHVlKHZhbHVlKSk7XG4gICAgfVxuICAgIHdyaXRlVXBkYXRhYmxlVmFsdWUoKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuX2RhdGEubGVuZ3RoO1xuICAgICAgICB0aGlzLl9kYXRhLnB1c2godGhpcy5fcGFkZGluZyk7XG4gICAgICAgIHRoaXMuX2RhdGFMZW5ndGggKz0gdGhpcy53b3JkU2l6ZTtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZGF0YVtvZmZzZXRdID0gdGhpcy5fZ2V0VmFsdWUodmFsdWUpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHdvcmRTaXplLCBjb2VyY2VGdW5jLCBhbGxvd0xvb3NlKSB7XG4gICAgICAgIGRlZmluZVJlYWRPbmx5KHRoaXMsIFwiX2RhdGFcIiwgYXJyYXlpZnkoZGF0YSkpO1xuICAgICAgICBkZWZpbmVSZWFkT25seSh0aGlzLCBcIndvcmRTaXplXCIsIHdvcmRTaXplIHx8IDMyKTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJfY29lcmNlRnVuY1wiLCBjb2VyY2VGdW5jKTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJhbGxvd0xvb3NlXCIsIGFsbG93TG9vc2UpO1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSAwO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHsgcmV0dXJuIGhleGxpZnkodGhpcy5fZGF0YSk7IH1cbiAgICBnZXQgY29uc3VtZWQoKSB7IHJldHVybiB0aGlzLl9vZmZzZXQ7IH1cbiAgICAvLyBUaGUgZGVmYXVsdCBDb2VyY2UgZnVuY3Rpb25cbiAgICBzdGF0aWMgY29lcmNlKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxldCBtYXRjaCA9IG5hbWUubWF0Y2goXCJedT9pbnQoWzAtOV0rKSRcIik7XG4gICAgICAgIGlmIChtYXRjaCAmJiBwYXJzZUludChtYXRjaFsxXSkgPD0gNDgpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9OdW1iZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGNvZXJjZShuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fY29lcmNlRnVuYykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvZXJjZUZ1bmMobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSZWFkZXIuY29lcmNlKG5hbWUsIHZhbHVlKTtcbiAgICB9XG4gICAgX3BlZWtCeXRlcyhvZmZzZXQsIGxlbmd0aCwgbG9vc2UpIHtcbiAgICAgICAgbGV0IGFsaWduZWRMZW5ndGggPSBNYXRoLmNlaWwobGVuZ3RoIC8gdGhpcy53b3JkU2l6ZSkgKiB0aGlzLndvcmRTaXplO1xuICAgICAgICBpZiAodGhpcy5fb2Zmc2V0ICsgYWxpZ25lZExlbmd0aCA+IHRoaXMuX2RhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hbGxvd0xvb3NlICYmIGxvb3NlICYmIHRoaXMuX29mZnNldCArIGxlbmd0aCA8PSB0aGlzLl9kYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGFsaWduZWRMZW5ndGggPSBsZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dFcnJvcihcImRhdGEgb3V0LW9mLWJvdW5kc1wiLCBMb2dnZXIuZXJyb3JzLkJVRkZFUl9PVkVSUlVOLCB7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aDogdGhpcy5fZGF0YS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDogdGhpcy5fb2Zmc2V0ICsgYWxpZ25lZExlbmd0aFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhLnNsaWNlKHRoaXMuX29mZnNldCwgdGhpcy5fb2Zmc2V0ICsgYWxpZ25lZExlbmd0aCk7XG4gICAgfVxuICAgIHN1YlJlYWRlcihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIodGhpcy5fZGF0YS5zbGljZSh0aGlzLl9vZmZzZXQgKyBvZmZzZXQpLCB0aGlzLndvcmRTaXplLCB0aGlzLl9jb2VyY2VGdW5jLCB0aGlzLmFsbG93TG9vc2UpO1xuICAgIH1cbiAgICByZWFkQnl0ZXMobGVuZ3RoLCBsb29zZSkge1xuICAgICAgICBsZXQgYnl0ZXMgPSB0aGlzLl9wZWVrQnl0ZXMoMCwgbGVuZ3RoLCAhIWxvb3NlKTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ICs9IGJ5dGVzLmxlbmd0aDtcbiAgICAgICAgLy8gQFRPRE86IE1ha2Ugc3VyZSB0aGUgbGVuZ3RoLi5lbmQgYnl0ZXMgYXJlIGFsbCAwP1xuICAgICAgICByZXR1cm4gYnl0ZXMuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgcmVhZFZhbHVlKCkge1xuICAgICAgICByZXR1cm4gQmlnTnVtYmVyLmZyb20odGhpcy5yZWFkQnl0ZXModGhpcy53b3JkU2l6ZSkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFic3RyYWN0LWNvZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgZ2V0QWRkcmVzcyB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9hZGRyZXNzXCI7XG5pbXBvcnQgeyBoZXhaZXJvUGFkIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2J5dGVzXCI7XG5pbXBvcnQgeyBDb2RlciB9IGZyb20gXCIuL2Fic3RyYWN0LWNvZGVyXCI7XG5leHBvcnQgY2xhc3MgQWRkcmVzc0NvZGVyIGV4dGVuZHMgQ29kZXIge1xuICAgIGNvbnN0cnVjdG9yKGxvY2FsTmFtZSkge1xuICAgICAgICBzdXBlcihcImFkZHJlc3NcIiwgXCJhZGRyZXNzXCIsIGxvY2FsTmFtZSwgZmFsc2UpO1xuICAgIH1cbiAgICBlbmNvZGUod3JpdGVyLCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ2V0QWRkcmVzcyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl90aHJvd0Vycm9yKGVycm9yLm1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyLndyaXRlVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgICBkZWNvZGUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBnZXRBZGRyZXNzKGhleFplcm9QYWQocmVhZGVyLnJlYWRWYWx1ZSgpLnRvSGV4U3RyaW5nKCksIDIwKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkcmVzcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IENvZGVyIH0gZnJvbSBcIi4vYWJzdHJhY3QtY29kZXJcIjtcbi8vIENsb25lcyB0aGUgZnVuY3Rpb25hbGl0eSBvZiBhbiBleGlzdGluZyBDb2RlciwgYnV0IHdpdGhvdXQgYSBsb2NhbE5hbWVcbmV4cG9ydCBjbGFzcyBBbm9ueW1vdXNDb2RlciBleHRlbmRzIENvZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2Rlcikge1xuICAgICAgICBzdXBlcihjb2Rlci5uYW1lLCBjb2Rlci50eXBlLCB1bmRlZmluZWQsIGNvZGVyLmR5bmFtaWMpO1xuICAgICAgICB0aGlzLmNvZGVyID0gY29kZXI7XG4gICAgfVxuICAgIGVuY29kZSh3cml0ZXIsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvZGVyLmVuY29kZSh3cml0ZXIsIHZhbHVlKTtcbiAgICB9XG4gICAgZGVjb2RlKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2Rlci5kZWNvZGUocmVhZGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbm9ueW1vdXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvbG9nZ2VyXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuaW1wb3J0IHsgQ29kZXIsIFdyaXRlciB9IGZyb20gXCIuL2Fic3RyYWN0LWNvZGVyXCI7XG5pbXBvcnQgeyBBbm9ueW1vdXNDb2RlciB9IGZyb20gXCIuL2Fub255bW91c1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhY2sod3JpdGVyLCBjb2RlcnMsIHZhbHVlcykge1xuICAgIGxldCBhcnJheVZhbHVlcyA9IG51bGw7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICBhcnJheVZhbHVlcyA9IHZhbHVlcztcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWVzICYmIHR5cGVvZiAodmFsdWVzKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBsZXQgdW5pcXVlID0ge307XG4gICAgICAgIGFycmF5VmFsdWVzID0gY29kZXJzLm1hcCgoY29kZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBjb2Rlci5sb2NhbE5hbWU7XG4gICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dFcnJvcihcImNhbm5vdCBlbmNvZGUgb2JqZWN0IGZvciBzaWduYXR1cmUgd2l0aCBtaXNzaW5nIG5hbWVzXCIsIExvZ2dlci5lcnJvcnMuSU5WQUxJRF9BUkdVTUVOVCwge1xuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudDogXCJ2YWx1ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgY29kZXI6IGNvZGVyLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5pcXVlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJjYW5ub3QgZW5jb2RlIG9iamVjdCBmb3Igc2lnbmF0dXJlIHdpdGggZHVwbGljYXRlIG5hbWVzXCIsIExvZ2dlci5lcnJvcnMuSU5WQUxJRF9BUkdVTUVOVCwge1xuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudDogXCJ2YWx1ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgY29kZXI6IGNvZGVyLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bmlxdWVbbmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1tuYW1lXTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCB0dXBsZSB2YWx1ZVwiLCBcInR1cGxlXCIsIHZhbHVlcyk7XG4gICAgfVxuICAgIGlmIChjb2RlcnMubGVuZ3RoICE9PSBhcnJheVZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcInR5cGVzL3ZhbHVlIGxlbmd0aCBtaXNtYXRjaFwiLCBcInR1cGxlXCIsIHZhbHVlcyk7XG4gICAgfVxuICAgIGxldCBzdGF0aWNXcml0ZXIgPSBuZXcgV3JpdGVyKHdyaXRlci53b3JkU2l6ZSk7XG4gICAgbGV0IGR5bmFtaWNXcml0ZXIgPSBuZXcgV3JpdGVyKHdyaXRlci53b3JkU2l6ZSk7XG4gICAgbGV0IHVwZGF0ZUZ1bmNzID0gW107XG4gICAgY29kZXJzLmZvckVhY2goKGNvZGVyLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSBhcnJheVZhbHVlc1tpbmRleF07XG4gICAgICAgIGlmIChjb2Rlci5keW5hbWljKSB7XG4gICAgICAgICAgICAvLyBHZXQgY3VycmVudCBkeW5hbWljIG9mZnNldCAoZm9yIHRoZSBmdXR1cmUgcG9pbnRlcilcbiAgICAgICAgICAgIGxldCBkeW5hbWljT2Zmc2V0ID0gZHluYW1pY1dyaXRlci5sZW5ndGg7XG4gICAgICAgICAgICAvLyBFbmNvZGUgdGhlIGR5bmFtaWMgdmFsdWUgaW50byB0aGUgZHluYW1pY1dyaXRlclxuICAgICAgICAgICAgY29kZXIuZW5jb2RlKGR5bmFtaWNXcml0ZXIsIHZhbHVlKTtcbiAgICAgICAgICAgIC8vIFByZXBhcmUgdG8gcG9wdWxhdGUgdGhlIGNvcnJlY3Qgb2Zmc2V0IG9uY2Ugd2UgYXJlIGRvbmVcbiAgICAgICAgICAgIGxldCB1cGRhdGVGdW5jID0gc3RhdGljV3JpdGVyLndyaXRlVXBkYXRhYmxlVmFsdWUoKTtcbiAgICAgICAgICAgIHVwZGF0ZUZ1bmNzLnB1c2goKGJhc2VPZmZzZXQpID0+IHtcbiAgICAgICAgICAgICAgICB1cGRhdGVGdW5jKGJhc2VPZmZzZXQgKyBkeW5hbWljT2Zmc2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29kZXIuZW5jb2RlKHN0YXRpY1dyaXRlciwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gQmFja2ZpbGwgYWxsIHRoZSBkeW5hbWljIG9mZnNldHMsIG5vdyB0aGF0IHdlIGtub3cgdGhlIHN0YXRpYyBsZW5ndGhcbiAgICB1cGRhdGVGdW5jcy5mb3JFYWNoKChmdW5jKSA9PiB7IGZ1bmMoc3RhdGljV3JpdGVyLmxlbmd0aCk7IH0pO1xuICAgIGxldCBsZW5ndGggPSB3cml0ZXIuYXBwZW5kV3JpdGVyKHN0YXRpY1dyaXRlcik7XG4gICAgbGVuZ3RoICs9IHdyaXRlci5hcHBlbmRXcml0ZXIoZHluYW1pY1dyaXRlcik7XG4gICAgcmV0dXJuIGxlbmd0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bnBhY2socmVhZGVyLCBjb2RlcnMpIHtcbiAgICBsZXQgdmFsdWVzID0gW107XG4gICAgLy8gQSByZWFkZXIgYW5jaG9yZWQgdG8gdGhpcyBiYXNlXG4gICAgbGV0IGJhc2VSZWFkZXIgPSByZWFkZXIuc3ViUmVhZGVyKDApO1xuICAgIGNvZGVycy5mb3JFYWNoKChjb2RlcikgPT4ge1xuICAgICAgICBsZXQgdmFsdWUgPSBudWxsO1xuICAgICAgICBpZiAoY29kZXIuZHluYW1pYykge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHJlYWRlci5yZWFkVmFsdWUoKTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRSZWFkZXIgPSBiYXNlUmVhZGVyLnN1YlJlYWRlcihvZmZzZXQudG9OdW1iZXIoKSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gY29kZXIuZGVjb2RlKG9mZnNldFJlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBDYW5ub3QgcmVjb3ZlciBmcm9tIHRoaXNcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gTG9nZ2VyLmVycm9ycy5CVUZGRVJfT1ZFUlJVTikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBlcnJvcjtcbiAgICAgICAgICAgICAgICB2YWx1ZS5iYXNlVHlwZSA9IGNvZGVyLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFsdWUubmFtZSA9IGNvZGVyLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgICB2YWx1ZS50eXBlID0gY29kZXIudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjb2Rlci5kZWNvZGUocmVhZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIENhbm5vdCByZWNvdmVyIGZyb20gdGhpc1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSBMb2dnZXIuZXJyb3JzLkJVRkZFUl9PVkVSUlVOKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHZhbHVlLmJhc2VUeXBlID0gY29kZXIubmFtZTtcbiAgICAgICAgICAgICAgICB2YWx1ZS5uYW1lID0gY29kZXIubG9jYWxOYW1lO1xuICAgICAgICAgICAgICAgIHZhbHVlLnR5cGUgPSBjb2Rlci50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFdlIG9ubHkgb3V0cHV0IG5hbWVkIHByb3BlcnRpZXMgZm9yIHVuaXF1ZWx5IG5hbWVkIGNvZGVyc1xuICAgIGNvbnN0IHVuaXF1ZU5hbWVzID0gY29kZXJzLnJlZHVjZSgoYWNjdW0sIGNvZGVyKSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb2Rlci5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWFjY3VtW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgYWNjdW1bbmFtZV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjdW1bbmFtZV0rKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjdW07XG4gICAgfSwge30pO1xuICAgIC8vIEFkZCBhbnkgbmFtZWQgcGFyYW1ldGVycyAoaS5lLiB0dXBsZXMpXG4gICAgY29kZXJzLmZvckVhY2goKGNvZGVyLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgbmFtZSA9IGNvZGVyLmxvY2FsTmFtZTtcbiAgICAgICAgaWYgKCFuYW1lIHx8IHVuaXF1ZU5hbWVzW25hbWVdICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgIG5hbWUgPSBcIl9sZW5ndGhcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsdWVzLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7IHRocm93IHZhbHVlOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodmFsdWVzLCBpLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7IHRocm93IHZhbHVlOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh2YWx1ZXMpO1xufVxuZXhwb3J0IGNsYXNzIEFycmF5Q29kZXIgZXh0ZW5kcyBDb2RlciB7XG4gICAgY29uc3RydWN0b3IoY29kZXIsIGxlbmd0aCwgbG9jYWxOYW1lKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSAoY29kZXIudHlwZSArIFwiW1wiICsgKGxlbmd0aCA+PSAwID8gbGVuZ3RoIDogXCJcIikgKyBcIl1cIik7XG4gICAgICAgIGNvbnN0IGR5bmFtaWMgPSAobGVuZ3RoID09PSAtMSB8fCBjb2Rlci5keW5hbWljKTtcbiAgICAgICAgc3VwZXIoXCJhcnJheVwiLCB0eXBlLCBsb2NhbE5hbWUsIGR5bmFtaWMpO1xuICAgICAgICB0aGlzLmNvZGVyID0gY29kZXI7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgIH1cbiAgICBlbmNvZGUod3JpdGVyLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLl90aHJvd0Vycm9yKFwiZXhwZWN0ZWQgYXJyYXkgdmFsdWVcIiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjb3VudCA9IHRoaXMubGVuZ3RoO1xuICAgICAgICBpZiAoY291bnQgPT09IC0xKSB7XG4gICAgICAgICAgICBjb3VudCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIHdyaXRlci53cml0ZVZhbHVlKHZhbHVlLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmNoZWNrQXJndW1lbnRDb3VudCh2YWx1ZS5sZW5ndGgsIGNvdW50LCBcImNvZGVyIGFycmF5XCIgKyAodGhpcy5sb2NhbE5hbWUgPyAoXCIgXCIgKyB0aGlzLmxvY2FsTmFtZSkgOiBcIlwiKSk7XG4gICAgICAgIGxldCBjb2RlcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29kZXJzLnB1c2godGhpcy5jb2Rlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhY2sod3JpdGVyLCBjb2RlcnMsIHZhbHVlKTtcbiAgICB9XG4gICAgZGVjb2RlKHJlYWRlcikge1xuICAgICAgICBsZXQgY291bnQgPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgaWYgKGNvdW50ID09PSAtMSkge1xuICAgICAgICAgICAgY291bnQgPSByZWFkZXIucmVhZFZhbHVlKCkudG9OdW1iZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29kZXJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29kZXJzLnB1c2gobmV3IEFub255bW91c0NvZGVyKHRoaXMuY29kZXIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVhZGVyLmNvZXJjZSh0aGlzLm5hbWUsIHVucGFjayhyZWFkZXIsIGNvZGVycykpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFycmF5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgQ29kZXIgfSBmcm9tIFwiLi9hYnN0cmFjdC1jb2RlclwiO1xuZXhwb3J0IGNsYXNzIEJvb2xlYW5Db2RlciBleHRlbmRzIENvZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihsb2NhbE5hbWUpIHtcbiAgICAgICAgc3VwZXIoXCJib29sXCIsIFwiYm9vbFwiLCBsb2NhbE5hbWUsIGZhbHNlKTtcbiAgICB9XG4gICAgZW5jb2RlKHdyaXRlciwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHdyaXRlci53cml0ZVZhbHVlKHZhbHVlID8gMSA6IDApO1xuICAgIH1cbiAgICBkZWNvZGUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIuY29lcmNlKHRoaXMudHlwZSwgIXJlYWRlci5yZWFkVmFsdWUoKS5pc1plcm8oKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vbGVhbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGFycmF5aWZ5LCBoZXhsaWZ5IH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2J5dGVzXCI7XG5pbXBvcnQgeyBDb2RlciB9IGZyb20gXCIuL2Fic3RyYWN0LWNvZGVyXCI7XG5leHBvcnQgY2xhc3MgRHluYW1pY0J5dGVzQ29kZXIgZXh0ZW5kcyBDb2RlciB7XG4gICAgY29uc3RydWN0b3IodHlwZSwgbG9jYWxOYW1lKSB7XG4gICAgICAgIHN1cGVyKHR5cGUsIHR5cGUsIGxvY2FsTmFtZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGVuY29kZSh3cml0ZXIsIHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gYXJyYXlpZnkodmFsdWUpO1xuICAgICAgICBsZXQgbGVuZ3RoID0gd3JpdGVyLndyaXRlVmFsdWUodmFsdWUubGVuZ3RoKTtcbiAgICAgICAgbGVuZ3RoICs9IHdyaXRlci53cml0ZUJ5dGVzKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gICAgZGVjb2RlKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRCeXRlcyhyZWFkZXIucmVhZFZhbHVlKCkudG9OdW1iZXIoKSwgdHJ1ZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJ5dGVzQ29kZXIgZXh0ZW5kcyBEeW5hbWljQnl0ZXNDb2RlciB7XG4gICAgY29uc3RydWN0b3IobG9jYWxOYW1lKSB7XG4gICAgICAgIHN1cGVyKFwiYnl0ZXNcIiwgbG9jYWxOYW1lKTtcbiAgICB9XG4gICAgZGVjb2RlKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLmNvZXJjZSh0aGlzLm5hbWUsIGhleGxpZnkoc3VwZXIuZGVjb2RlKHJlYWRlcikpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ieXRlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGFycmF5aWZ5LCBoZXhsaWZ5IH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2J5dGVzXCI7XG5pbXBvcnQgeyBDb2RlciB9IGZyb20gXCIuL2Fic3RyYWN0LWNvZGVyXCI7XG4vLyBAVE9ETzogTWVyZ2UgdGhpcyB3aXRoIGJ5dGVzXG5leHBvcnQgY2xhc3MgRml4ZWRCeXRlc0NvZGVyIGV4dGVuZHMgQ29kZXIge1xuICAgIGNvbnN0cnVjdG9yKHNpemUsIGxvY2FsTmFtZSkge1xuICAgICAgICBsZXQgbmFtZSA9IFwiYnl0ZXNcIiArIFN0cmluZyhzaXplKTtcbiAgICAgICAgc3VwZXIobmFtZSwgbmFtZSwgbG9jYWxOYW1lLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIGVuY29kZSh3cml0ZXIsIHZhbHVlKSB7XG4gICAgICAgIGxldCBkYXRhID0gYXJyYXlpZnkodmFsdWUpO1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggIT09IHRoaXMuc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGhyb3dFcnJvcihcImluY29ycmVjdCBkYXRhIGxlbmd0aFwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlci53cml0ZUJ5dGVzKGRhdGEpO1xuICAgIH1cbiAgICBkZWNvZGUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIuY29lcmNlKHRoaXMubmFtZSwgaGV4bGlmeShyZWFkZXIucmVhZEJ5dGVzKHRoaXMuc2l6ZSkpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXhlZC1ieXRlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IENvZGVyIH0gZnJvbSBcIi4vYWJzdHJhY3QtY29kZXJcIjtcbmV4cG9ydCBjbGFzcyBOdWxsQ29kZXIgZXh0ZW5kcyBDb2RlciB7XG4gICAgY29uc3RydWN0b3IobG9jYWxOYW1lKSB7XG4gICAgICAgIHN1cGVyKFwibnVsbFwiLCBcIlwiLCBsb2NhbE5hbWUsIGZhbHNlKTtcbiAgICB9XG4gICAgZW5jb2RlKHdyaXRlciwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3Rocm93RXJyb3IoXCJub3QgbnVsbFwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlci53cml0ZUJ5dGVzKFtdKTtcbiAgICB9XG4gICAgZGVjb2RlKHJlYWRlcikge1xuICAgICAgICByZWFkZXIucmVhZEJ5dGVzKDApO1xuICAgICAgICByZXR1cm4gcmVhZGVyLmNvZXJjZSh0aGlzLm5hbWUsIG51bGwpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW51bGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYmlnbnVtYmVyXCI7XG5pbXBvcnQgeyBNYXhVaW50MjU2LCBOZWdhdGl2ZU9uZSwgT25lLCBaZXJvIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQ29kZXIgfSBmcm9tIFwiLi9hYnN0cmFjdC1jb2RlclwiO1xuZXhwb3J0IGNsYXNzIE51bWJlckNvZGVyIGV4dGVuZHMgQ29kZXIge1xuICAgIGNvbnN0cnVjdG9yKHNpemUsIHNpZ25lZCwgbG9jYWxOYW1lKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSAoKHNpZ25lZCA/IFwiaW50XCIgOiBcInVpbnRcIikgKyAoc2l6ZSAqIDgpKTtcbiAgICAgICAgc3VwZXIobmFtZSwgbmFtZSwgbG9jYWxOYW1lLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuc2lnbmVkID0gc2lnbmVkO1xuICAgIH1cbiAgICBlbmNvZGUod3JpdGVyLCB2YWx1ZSkge1xuICAgICAgICBsZXQgdiA9IEJpZ051bWJlci5mcm9tKHZhbHVlKTtcbiAgICAgICAgLy8gQ2hlY2sgYm91bmRzIGFyZSBzYWZlIGZvciBlbmNvZGluZ1xuICAgICAgICBsZXQgbWF4VWludFZhbHVlID0gTWF4VWludDI1Ni5tYXNrKHdyaXRlci53b3JkU2l6ZSAqIDgpO1xuICAgICAgICBpZiAodGhpcy5zaWduZWQpIHtcbiAgICAgICAgICAgIGxldCBib3VuZHMgPSBtYXhVaW50VmFsdWUubWFzayh0aGlzLnNpemUgKiA4IC0gMSk7XG4gICAgICAgICAgICBpZiAodi5ndChib3VuZHMpIHx8IHYubHQoYm91bmRzLmFkZChPbmUpLm11bChOZWdhdGl2ZU9uZSkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhyb3dFcnJvcihcInZhbHVlIG91dC1vZi1ib3VuZHNcIiwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHYubHQoWmVybykgfHwgdi5ndChtYXhVaW50VmFsdWUubWFzayh0aGlzLnNpemUgKiA4KSkpIHtcbiAgICAgICAgICAgIHRoaXMuX3Rocm93RXJyb3IoXCJ2YWx1ZSBvdXQtb2YtYm91bmRzXCIsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2ID0gdi50b1R3b3ModGhpcy5zaXplICogOCkubWFzayh0aGlzLnNpemUgKiA4KTtcbiAgICAgICAgaWYgKHRoaXMuc2lnbmVkKSB7XG4gICAgICAgICAgICB2ID0gdi5mcm9tVHdvcyh0aGlzLnNpemUgKiA4KS50b1R3b3MoOCAqIHdyaXRlci53b3JkU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlci53cml0ZVZhbHVlKHYpO1xuICAgIH1cbiAgICBkZWNvZGUocmVhZGVyKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHJlYWRlci5yZWFkVmFsdWUoKS5tYXNrKHRoaXMuc2l6ZSAqIDgpO1xuICAgICAgICBpZiAodGhpcy5zaWduZWQpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuZnJvbVR3b3ModGhpcy5zaXplICogOCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlYWRlci5jb2VyY2UodGhpcy5uYW1lLCB2YWx1ZSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtYmVyLmpzLm1hcCIsImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCJzdHJpbmdzLzUuNS4wXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1fdmVyc2lvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGFycmF5aWZ5IH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2J5dGVzXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvbG9nZ2VyXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vX3ZlcnNpb25cIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIodmVyc2lvbik7XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgdmFyIFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybTtcbihmdW5jdGlvbiAoVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtKSB7XG4gICAgVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtW1wiY3VycmVudFwiXSA9IFwiXCI7XG4gICAgVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtW1wiTkZDXCJdID0gXCJORkNcIjtcbiAgICBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm1bXCJORkRcIl0gPSBcIk5GRFwiO1xuICAgIFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybVtcIk5GS0NcIl0gPSBcIk5GS0NcIjtcbiAgICBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm1bXCJORktEXCJdID0gXCJORktEXCI7XG59KShVbmljb2RlTm9ybWFsaXphdGlvbkZvcm0gfHwgKFVuaWNvZGVOb3JtYWxpemF0aW9uRm9ybSA9IHt9KSk7XG47XG5leHBvcnQgdmFyIFV0ZjhFcnJvclJlYXNvbjtcbihmdW5jdGlvbiAoVXRmOEVycm9yUmVhc29uKSB7XG4gICAgLy8gQSBjb250aW51YXRpb24gYnl0ZSB3YXMgcHJlc2VudCB3aGVyZSB0aGVyZSB3YXMgbm90aGluZyB0byBjb250aW51ZVxuICAgIC8vIC0gb2Zmc2V0ID0gdGhlIGluZGV4IHRoZSBjb2RlcG9pbnQgYmVnYW4gaW5cbiAgICBVdGY4RXJyb3JSZWFzb25bXCJVTkVYUEVDVEVEX0NPTlRJTlVFXCJdID0gXCJ1bmV4cGVjdGVkIGNvbnRpbnVhdGlvbiBieXRlXCI7XG4gICAgLy8gQW4gaW52YWxpZCAobm9uLWNvbnRpbnVhdGlvbikgYnl0ZSB0byBzdGFydCBhIFVURi04IGNvZGVwb2ludCB3YXMgZm91bmRcbiAgICAvLyAtIG9mZnNldCA9IHRoZSBpbmRleCB0aGUgY29kZXBvaW50IGJlZ2FuIGluXG4gICAgVXRmOEVycm9yUmVhc29uW1wiQkFEX1BSRUZJWFwiXSA9IFwiYmFkIGNvZGVwb2ludCBwcmVmaXhcIjtcbiAgICAvLyBUaGUgc3RyaW5nIGlzIHRvbyBzaG9ydCB0byBwcm9jZXNzIHRoZSBleHBlY3RlZCBjb2RlcG9pbnRcbiAgICAvLyAtIG9mZnNldCA9IHRoZSBpbmRleCB0aGUgY29kZXBvaW50IGJlZ2FuIGluXG4gICAgVXRmOEVycm9yUmVhc29uW1wiT1ZFUlJVTlwiXSA9IFwic3RyaW5nIG92ZXJydW5cIjtcbiAgICAvLyBBIG1pc3NpbmcgY29udGludWF0aW9uIGJ5dGUgd2FzIGV4cGVjdGVkIGJ1dCBub3QgZm91bmRcbiAgICAvLyAtIG9mZnNldCA9IHRoZSBpbmRleCB0aGUgY29udGludWF0aW9uIGJ5dGUgd2FzIGV4cGVjdGVkIGF0XG4gICAgVXRmOEVycm9yUmVhc29uW1wiTUlTU0lOR19DT05USU5VRVwiXSA9IFwibWlzc2luZyBjb250aW51YXRpb24gYnl0ZVwiO1xuICAgIC8vIFRoZSBjb21wdXRlZCBjb2RlIHBvaW50IGlzIG91dHNpZGUgdGhlIHJhbmdlIGZvciBVVEYtOFxuICAgIC8vIC0gb2Zmc2V0ICAgICAgID0gc3RhcnQgb2YgdGhpcyBjb2RlcG9pbnRcbiAgICAvLyAtIGJhZENvZGVwb2ludCA9IHRoZSBjb21wdXRlZCBjb2RlcG9pbnQ7IG91dHNpZGUgdGhlIFVURi04IHJhbmdlXG4gICAgVXRmOEVycm9yUmVhc29uW1wiT1VUX09GX1JBTkdFXCJdID0gXCJvdXQgb2YgVVRGLTggcmFuZ2VcIjtcbiAgICAvLyBVVEYtOCBzdHJpbmdzIG1heSBub3QgY29udGFpbiBVVEYtMTYgc3Vycm9nYXRlIHBhaXJzXG4gICAgLy8gLSBvZmZzZXQgICAgICAgPSBzdGFydCBvZiB0aGlzIGNvZGVwb2ludFxuICAgIC8vIC0gYmFkQ29kZXBvaW50ID0gdGhlIGNvbXB1dGVkIGNvZGVwb2ludDsgaW5zaWRlIHRoZSBVVEYtMTYgc3Vycm9nYXRlIHJhbmdlXG4gICAgVXRmOEVycm9yUmVhc29uW1wiVVRGMTZfU1VSUk9HQVRFXCJdID0gXCJVVEYtMTYgc3Vycm9nYXRlXCI7XG4gICAgLy8gVGhlIHN0cmluZyBpcyBhbiBvdmVybG9uZyByZXByZXNlbnRhdGlvblxuICAgIC8vIC0gb2Zmc2V0ICAgICAgID0gc3RhcnQgb2YgdGhpcyBjb2RlcG9pbnRcbiAgICAvLyAtIGJhZENvZGVwb2ludCA9IHRoZSBjb21wdXRlZCBjb2RlcG9pbnQ7IGFscmVhZHkgYm91bmRzIGNoZWNrZWRcbiAgICBVdGY4RXJyb3JSZWFzb25bXCJPVkVSTE9OR1wiXSA9IFwib3ZlcmxvbmcgcmVwcmVzZW50YXRpb25cIjtcbn0pKFV0ZjhFcnJvclJlYXNvbiB8fCAoVXRmOEVycm9yUmVhc29uID0ge30pKTtcbjtcbmZ1bmN0aW9uIGVycm9yRnVuYyhyZWFzb24sIG9mZnNldCwgYnl0ZXMsIG91dHB1dCwgYmFkQ29kZXBvaW50KSB7XG4gICAgcmV0dXJuIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoYGludmFsaWQgY29kZXBvaW50IGF0IG9mZnNldCAke29mZnNldH07ICR7cmVhc29ufWAsIFwiYnl0ZXNcIiwgYnl0ZXMpO1xufVxuZnVuY3Rpb24gaWdub3JlRnVuYyhyZWFzb24sIG9mZnNldCwgYnl0ZXMsIG91dHB1dCwgYmFkQ29kZXBvaW50KSB7XG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gaW52YWxpZCBwcmVmaXggKGluY2x1ZGluZyBzdHJheSBjb250aW51YXRpb24pLCBza2lwIGFueSBhZGRpdGlvbmFsIGNvbnRpbnVhdGlvbiBieXRlc1xuICAgIGlmIChyZWFzb24gPT09IFV0ZjhFcnJvclJlYXNvbi5CQURfUFJFRklYIHx8IHJlYXNvbiA9PT0gVXRmOEVycm9yUmVhc29uLlVORVhQRUNURURfQ09OVElOVUUpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGxldCBvID0gb2Zmc2V0ICsgMTsgbyA8IGJ5dGVzLmxlbmd0aDsgbysrKSB7XG4gICAgICAgICAgICBpZiAoYnl0ZXNbb10gPj4gNiAhPT0gMHgwMikge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICAvLyBUaGlzIGJ5dGUgcnVucyB1cyBwYXN0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc28ganVzdCBqdW1wIHRvIHRoZSBlbmRcbiAgICAvLyAoYnV0IHRoZSBmaXJzdCBieXRlIHdhcyByZWFkIGFscmVhZHkgcmVhZCBhbmQgdGhlcmVmb3JlIHNraXBwZWQpXG4gICAgaWYgKHJlYXNvbiA9PT0gVXRmOEVycm9yUmVhc29uLk9WRVJSVU4pIHtcbiAgICAgICAgcmV0dXJuIGJ5dGVzLmxlbmd0aCAtIG9mZnNldCAtIDE7XG4gICAgfVxuICAgIC8vIE5vdGhpbmcgdG8gc2tpcFxuICAgIHJldHVybiAwO1xufVxuZnVuY3Rpb24gcmVwbGFjZUZ1bmMocmVhc29uLCBvZmZzZXQsIGJ5dGVzLCBvdXRwdXQsIGJhZENvZGVwb2ludCkge1xuICAgIC8vIE92ZXJsb25nIHJlcHJlc2VudGF0aW9ucyBhcmUgb3RoZXJ3aXNlIFwidmFsaWRcIiBjb2RlIHBvaW50czsganVzdCBub24tZGVpc3Rpbmd0aXNoZWRcbiAgICBpZiAocmVhc29uID09PSBVdGY4RXJyb3JSZWFzb24uT1ZFUkxPTkcpIHtcbiAgICAgICAgb3V0cHV0LnB1c2goYmFkQ29kZXBvaW50KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIC8vIFB1dCB0aGUgcmVwbGFjZW1lbnQgY2hhcmFjdGVyIGludG8gdGhlIG91dHB1dFxuICAgIG91dHB1dC5wdXNoKDB4ZmZmZCk7XG4gICAgLy8gT3RoZXJ3aXNlLCBwcm9jZXNzIGFzIGlmIGlnbm9yaW5nIGVycm9yc1xuICAgIHJldHVybiBpZ25vcmVGdW5jKHJlYXNvbiwgb2Zmc2V0LCBieXRlcywgb3V0cHV0LCBiYWRDb2RlcG9pbnQpO1xufVxuLy8gQ29tbW9uIGVycm9yIGhhbmRpbmcgc3RyYXRlZ2llc1xuZXhwb3J0IGNvbnN0IFV0ZjhFcnJvckZ1bmNzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgZXJyb3I6IGVycm9yRnVuYyxcbiAgICBpZ25vcmU6IGlnbm9yZUZ1bmMsXG4gICAgcmVwbGFjZTogcmVwbGFjZUZ1bmNcbn0pO1xuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMzM1NjQ5My9kZWNvZGUtdXRmLTgtd2l0aC1qYXZhc2NyaXB0IzEzNjkxNDk5XG5mdW5jdGlvbiBnZXRVdGY4Q29kZVBvaW50cyhieXRlcywgb25FcnJvcikge1xuICAgIGlmIChvbkVycm9yID09IG51bGwpIHtcbiAgICAgICAgb25FcnJvciA9IFV0ZjhFcnJvckZ1bmNzLmVycm9yO1xuICAgIH1cbiAgICBieXRlcyA9IGFycmF5aWZ5KGJ5dGVzKTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgLy8gSW52YWxpZCBieXRlcyBhcmUgaWdub3JlZFxuICAgIHdoaWxlIChpIDwgYnl0ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGMgPSBieXRlc1tpKytdO1xuICAgICAgICAvLyAweHh4IHh4eHhcbiAgICAgICAgaWYgKGMgPj4gNyA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goYyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNdWx0aWJ5dGU7IGhvdyBtYW55IGJ5dGVzIGxlZnQgZm9yIHRoaXMgY2hhcmFjdGVyP1xuICAgICAgICBsZXQgZXh0cmFMZW5ndGggPSBudWxsO1xuICAgICAgICBsZXQgb3ZlcmxvbmdNYXNrID0gbnVsbDtcbiAgICAgICAgLy8gMTEweCB4eHh4IDEweHggeHh4eFxuICAgICAgICBpZiAoKGMgJiAweGUwKSA9PT0gMHhjMCkge1xuICAgICAgICAgICAgZXh0cmFMZW5ndGggPSAxO1xuICAgICAgICAgICAgb3ZlcmxvbmdNYXNrID0gMHg3ZjtcbiAgICAgICAgICAgIC8vIDExMTAgeHh4eCAxMHh4IHh4eHggMTB4eCB4eHh4XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweGYwKSA9PT0gMHhlMCkge1xuICAgICAgICAgICAgZXh0cmFMZW5ndGggPSAyO1xuICAgICAgICAgICAgb3ZlcmxvbmdNYXNrID0gMHg3ZmY7XG4gICAgICAgICAgICAvLyAxMTExIDB4eHggMTB4eCB4eHh4IDEweHggeHh4eCAxMHh4IHh4eHhcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4ZjgpID09PSAweGYwKSB7XG4gICAgICAgICAgICBleHRyYUxlbmd0aCA9IDM7XG4gICAgICAgICAgICBvdmVybG9uZ01hc2sgPSAweGZmZmY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoKGMgJiAweGMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uVU5FWFBFQ1RFRF9DT05USU5VRSwgaSAtIDEsIGJ5dGVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaSArPSBvbkVycm9yKFV0ZjhFcnJvclJlYXNvbi5CQURfUFJFRklYLCBpIC0gMSwgYnl0ZXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBEbyB3ZSBoYXZlIGVub3VnaCBieXRlcyBpbiBvdXIgZGF0YT9cbiAgICAgICAgaWYgKGkgLSAxICsgZXh0cmFMZW5ndGggPj0gYnl0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpICs9IG9uRXJyb3IoVXRmOEVycm9yUmVhc29uLk9WRVJSVU4sIGkgLSAxLCBieXRlcywgcmVzdWx0KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGVuZ3RoIHByZWZpeCBmcm9tIHRoZSBjaGFyXG4gICAgICAgIGxldCByZXMgPSBjICYgKCgxIDw8ICg4IC0gZXh0cmFMZW5ndGggLSAxKSkgLSAxKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBleHRyYUxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBsZXQgbmV4dENoYXIgPSBieXRlc1tpXTtcbiAgICAgICAgICAgIC8vIEludmFsaWQgY29udGludWF0aW9uIGJ5dGVcbiAgICAgICAgICAgIGlmICgobmV4dENoYXIgJiAweGMwKSAhPSAweDgwKSB7XG4gICAgICAgICAgICAgICAgaSArPSBvbkVycm9yKFV0ZjhFcnJvclJlYXNvbi5NSVNTSU5HX0NPTlRJTlVFLCBpLCBieXRlcywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICByZXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgcmVzID0gKHJlcyA8PCA2KSB8IChuZXh0Q2hhciAmIDB4M2YpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlZSBhYm92ZSBsb29wIGZvciBpbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlXG4gICAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1heGltdW0gY29kZSBwb2ludFxuICAgICAgICBpZiAocmVzID4gMHgxMGZmZmYpIHtcbiAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uT1VUX09GX1JBTkdFLCBpIC0gMSAtIGV4dHJhTGVuZ3RoLCBieXRlcywgcmVzdWx0LCByZXMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXJ2ZWQgZm9yIFVURi0xNiBzdXJyb2dhdGUgaGFsdmVzXG4gICAgICAgIGlmIChyZXMgPj0gMHhkODAwICYmIHJlcyA8PSAweGRmZmYpIHtcbiAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uVVRGMTZfU1VSUk9HQVRFLCBpIC0gMSAtIGV4dHJhTGVuZ3RoLCBieXRlcywgcmVzdWx0LCByZXMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIG92ZXJsb25nIHNlcXVlbmNlcyAobW9yZSBieXRlcyB0aGFuIG5lZWRlZClcbiAgICAgICAgaWYgKHJlcyA8PSBvdmVybG9uZ01hc2spIHtcbiAgICAgICAgICAgIGkgKz0gb25FcnJvcihVdGY4RXJyb3JSZWFzb24uT1ZFUkxPTkcsIGkgLSAxIC0gZXh0cmFMZW5ndGgsIGJ5dGVzLCByZXN1bHQsIHJlcyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaChyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODcyOTQwNS9ob3ctdG8tY29udmVydC11dGY4LXN0cmluZy10by1ieXRlLWFycmF5XG5leHBvcnQgZnVuY3Rpb24gdG9VdGY4Qnl0ZXMoc3RyLCBmb3JtID0gVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtLmN1cnJlbnQpIHtcbiAgICBpZiAoZm9ybSAhPSBVbmljb2RlTm9ybWFsaXphdGlvbkZvcm0uY3VycmVudCkge1xuICAgICAgICBsb2dnZXIuY2hlY2tOb3JtYWxpemUoKTtcbiAgICAgICAgc3RyID0gc3RyLm5vcm1hbGl6ZShmb3JtKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChjID4+IDYpIHwgMHhjMCk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgoYyAmIDB4M2YpIHwgMHg4MCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweGZjMDApID09IDB4ZDgwMCkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29uc3QgYzIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChpID49IHN0ci5sZW5ndGggfHwgKGMyICYgMHhmYzAwKSAhPT0gMHhkYzAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB1dGYtOCBzdHJpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxuICAgICAgICAgICAgY29uc3QgcGFpciA9IDB4MTAwMDAgKyAoKGMgJiAweDAzZmYpIDw8IDEwKSArIChjMiAmIDB4MDNmZik7XG4gICAgICAgICAgICByZXN1bHQucHVzaCgocGFpciA+PiAxOCkgfCAweGYwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKCgocGFpciA+PiAxMikgJiAweDNmKSB8IDB4ODApO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goKChwYWlyID4+IDYpICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChwYWlyICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChjID4+IDEyKSB8IDB4ZTApO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goKChjID4+IDYpICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKChjICYgMHgzZikgfCAweDgwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXlpZnkocmVzdWx0KTtcbn1cbjtcbmZ1bmN0aW9uIGVzY2FwZUNoYXIodmFsdWUpIHtcbiAgICBjb25zdCBoZXggPSAoXCIwMDAwXCIgKyB2YWx1ZS50b1N0cmluZygxNikpO1xuICAgIHJldHVybiBcIlxcXFx1XCIgKyBoZXguc3Vic3RyaW5nKGhleC5sZW5ndGggLSA0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdG9Fc2NhcGVkVXRmOFN0cmluZyhieXRlcywgb25FcnJvcikge1xuICAgIHJldHVybiAnXCInICsgZ2V0VXRmOENvZGVQb2ludHMoYnl0ZXMsIG9uRXJyb3IpLm1hcCgoY29kZVBvaW50KSA9PiB7XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPCAyNTYpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZVBvaW50KSB7XG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gXCJcXFxcYlwiO1xuICAgICAgICAgICAgICAgIGNhc2UgOTogcmV0dXJuIFwiXFxcXHRcIjtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOiByZXR1cm4gXCJcXFxcblwiO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6IHJldHVybiBcIlxcXFxyXCI7XG4gICAgICAgICAgICAgICAgY2FzZSAzNDogcmV0dXJuIFwiXFxcXFxcXCJcIjtcbiAgICAgICAgICAgICAgICBjYXNlIDkyOiByZXR1cm4gXCJcXFxcXFxcXFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA+PSAzMiAmJiBjb2RlUG9pbnQgPCAxMjcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlUG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPD0gMHhmZmZmKSB7XG4gICAgICAgICAgICByZXR1cm4gZXNjYXBlQ2hhcihjb2RlUG9pbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xuICAgICAgICByZXR1cm4gZXNjYXBlQ2hhcigoKGNvZGVQb2ludCA+PiAxMCkgJiAweDNmZikgKyAweGQ4MDApICsgZXNjYXBlQ2hhcigoY29kZVBvaW50ICYgMHgzZmYpICsgMHhkYzAwKTtcbiAgICB9KS5qb2luKFwiXCIpICsgJ1wiJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBfdG9VdGY4U3RyaW5nKGNvZGVQb2ludHMpIHtcbiAgICByZXR1cm4gY29kZVBvaW50cy5tYXAoKGNvZGVQb2ludCkgPT4ge1xuICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZVBvaW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb2RlUG9pbnQgLT0gMHgxMDAwMDtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKCgoY29kZVBvaW50ID4+IDEwKSAmIDB4M2ZmKSArIDB4ZDgwMCksICgoY29kZVBvaW50ICYgMHgzZmYpICsgMHhkYzAwKSk7XG4gICAgfSkuam9pbihcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjhTdHJpbmcoYnl0ZXMsIG9uRXJyb3IpIHtcbiAgICByZXR1cm4gX3RvVXRmOFN0cmluZyhnZXRVdGY4Q29kZVBvaW50cyhieXRlcywgb25FcnJvcikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVXRmOENvZGVQb2ludHMoc3RyLCBmb3JtID0gVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtLmN1cnJlbnQpIHtcbiAgICByZXR1cm4gZ2V0VXRmOENvZGVQb2ludHModG9VdGY4Qnl0ZXMoc3RyLCBmb3JtKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGY4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgdG9VdGY4Qnl0ZXMsIHRvVXRmOFN0cmluZyB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9zdHJpbmdzXCI7XG5pbXBvcnQgeyBEeW5hbWljQnl0ZXNDb2RlciB9IGZyb20gXCIuL2J5dGVzXCI7XG5leHBvcnQgY2xhc3MgU3RyaW5nQ29kZXIgZXh0ZW5kcyBEeW5hbWljQnl0ZXNDb2RlciB7XG4gICAgY29uc3RydWN0b3IobG9jYWxOYW1lKSB7XG4gICAgICAgIHN1cGVyKFwic3RyaW5nXCIsIGxvY2FsTmFtZSk7XG4gICAgfVxuICAgIGVuY29kZSh3cml0ZXIsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5lbmNvZGUod3JpdGVyLCB0b1V0ZjhCeXRlcyh2YWx1ZSkpO1xuICAgIH1cbiAgICBkZWNvZGUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiB0b1V0ZjhTdHJpbmcoc3VwZXIuZGVjb2RlKHJlYWRlcikpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IENvZGVyIH0gZnJvbSBcIi4vYWJzdHJhY3QtY29kZXJcIjtcbmltcG9ydCB7IHBhY2ssIHVucGFjayB9IGZyb20gXCIuL2FycmF5XCI7XG5leHBvcnQgY2xhc3MgVHVwbGVDb2RlciBleHRlbmRzIENvZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2RlcnMsIGxvY2FsTmFtZSkge1xuICAgICAgICBsZXQgZHluYW1pYyA9IGZhbHNlO1xuICAgICAgICBjb25zdCB0eXBlcyA9IFtdO1xuICAgICAgICBjb2RlcnMuZm9yRWFjaCgoY29kZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChjb2Rlci5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgZHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0eXBlcy5wdXNoKGNvZGVyLnR5cGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdHlwZSA9IChcInR1cGxlKFwiICsgdHlwZXMuam9pbihcIixcIikgKyBcIilcIik7XG4gICAgICAgIHN1cGVyKFwidHVwbGVcIiwgdHlwZSwgbG9jYWxOYW1lLCBkeW5hbWljKTtcbiAgICAgICAgdGhpcy5jb2RlcnMgPSBjb2RlcnM7XG4gICAgfVxuICAgIGVuY29kZSh3cml0ZXIsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYWNrKHdyaXRlciwgdGhpcy5jb2RlcnMsIHZhbHVlKTtcbiAgICB9XG4gICAgZGVjb2RlKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLmNvZXJjZSh0aGlzLm5hbWUsIHVucGFjayhyZWFkZXIsIHRoaXMuY29kZXJzKSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHVwbGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS93aWtpL3dpa2kvRXRoZXJldW0tQ29udHJhY3QtQUJJXG5pbXBvcnQgeyBhcnJheWlmeSB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9ieXRlc1wiO1xuaW1wb3J0IHsgZGVmaW5lUmVhZE9ubHkgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvcHJvcGVydGllc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuaW1wb3J0IHsgUmVhZGVyLCBXcml0ZXIgfSBmcm9tIFwiLi9jb2RlcnMvYWJzdHJhY3QtY29kZXJcIjtcbmltcG9ydCB7IEFkZHJlc3NDb2RlciB9IGZyb20gXCIuL2NvZGVycy9hZGRyZXNzXCI7XG5pbXBvcnQgeyBBcnJheUNvZGVyIH0gZnJvbSBcIi4vY29kZXJzL2FycmF5XCI7XG5pbXBvcnQgeyBCb29sZWFuQ29kZXIgfSBmcm9tIFwiLi9jb2RlcnMvYm9vbGVhblwiO1xuaW1wb3J0IHsgQnl0ZXNDb2RlciB9IGZyb20gXCIuL2NvZGVycy9ieXRlc1wiO1xuaW1wb3J0IHsgRml4ZWRCeXRlc0NvZGVyIH0gZnJvbSBcIi4vY29kZXJzL2ZpeGVkLWJ5dGVzXCI7XG5pbXBvcnQgeyBOdWxsQ29kZXIgfSBmcm9tIFwiLi9jb2RlcnMvbnVsbFwiO1xuaW1wb3J0IHsgTnVtYmVyQ29kZXIgfSBmcm9tIFwiLi9jb2RlcnMvbnVtYmVyXCI7XG5pbXBvcnQgeyBTdHJpbmdDb2RlciB9IGZyb20gXCIuL2NvZGVycy9zdHJpbmdcIjtcbmltcG9ydCB7IFR1cGxlQ29kZXIgfSBmcm9tIFwiLi9jb2RlcnMvdHVwbGVcIjtcbmltcG9ydCB7IFBhcmFtVHlwZSB9IGZyb20gXCIuL2ZyYWdtZW50c1wiO1xuY29uc3QgcGFyYW1UeXBlQnl0ZXMgPSBuZXcgUmVnRXhwKC9eYnl0ZXMoWzAtOV0qKSQvKTtcbmNvbnN0IHBhcmFtVHlwZU51bWJlciA9IG5ldyBSZWdFeHAoL14odT9pbnQpKFswLTldKikkLyk7XG5leHBvcnQgY2xhc3MgQWJpQ29kZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvZXJjZUZ1bmMpIHtcbiAgICAgICAgbG9nZ2VyLmNoZWNrTmV3KG5ldy50YXJnZXQsIEFiaUNvZGVyKTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJjb2VyY2VGdW5jXCIsIGNvZXJjZUZ1bmMgfHwgbnVsbCk7XG4gICAgfVxuICAgIF9nZXRDb2RlcihwYXJhbSkge1xuICAgICAgICBzd2l0Y2ggKHBhcmFtLmJhc2VUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiYWRkcmVzc1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQWRkcmVzc0NvZGVyKHBhcmFtLm5hbWUpO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJvb2xlYW5Db2RlcihwYXJhbS5uYW1lKTtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFN0cmluZ0NvZGVyKHBhcmFtLm5hbWUpO1xuICAgICAgICAgICAgY2FzZSBcImJ5dGVzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCeXRlc0NvZGVyKHBhcmFtLm5hbWUpO1xuICAgICAgICAgICAgY2FzZSBcImFycmF5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBcnJheUNvZGVyKHRoaXMuX2dldENvZGVyKHBhcmFtLmFycmF5Q2hpbGRyZW4pLCBwYXJhbS5hcnJheUxlbmd0aCwgcGFyYW0ubmFtZSk7XG4gICAgICAgICAgICBjYXNlIFwidHVwbGVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFR1cGxlQ29kZXIoKHBhcmFtLmNvbXBvbmVudHMgfHwgW10pLm1hcCgoY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRDb2Rlcihjb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIH0pLCBwYXJhbS5uYW1lKTtcbiAgICAgICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE51bGxDb2RlcihwYXJhbS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1P2ludFswLTldKlxuICAgICAgICBsZXQgbWF0Y2ggPSBwYXJhbS50eXBlLm1hdGNoKHBhcmFtVHlwZU51bWJlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgbGV0IHNpemUgPSBwYXJzZUludChtYXRjaFsyXSB8fCBcIjI1NlwiKTtcbiAgICAgICAgICAgIGlmIChzaXplID09PSAwIHx8IHNpemUgPiAyNTYgfHwgKHNpemUgJSA4KSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIFwiICsgbWF0Y2hbMV0gKyBcIiBiaXQgbGVuZ3RoXCIsIFwicGFyYW1cIiwgcGFyYW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOdW1iZXJDb2RlcihzaXplIC8gOCwgKG1hdGNoWzFdID09PSBcImludFwiKSwgcGFyYW0ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYnl0ZXNbMC05XStcbiAgICAgICAgbWF0Y2ggPSBwYXJhbS50eXBlLm1hdGNoKHBhcmFtVHlwZUJ5dGVzKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IHBhcnNlSW50KG1hdGNoWzFdKTtcbiAgICAgICAgICAgIGlmIChzaXplID09PSAwIHx8IHNpemUgPiAzMikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGJ5dGVzIGxlbmd0aFwiLCBcInBhcmFtXCIsIHBhcmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgRml4ZWRCeXRlc0NvZGVyKHNpemUsIHBhcmFtLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCB0eXBlXCIsIFwidHlwZVwiLCBwYXJhbS50eXBlKTtcbiAgICB9XG4gICAgX2dldFdvcmRTaXplKCkgeyByZXR1cm4gMzI7IH1cbiAgICBfZ2V0UmVhZGVyKGRhdGEsIGFsbG93TG9vc2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIoZGF0YSwgdGhpcy5fZ2V0V29yZFNpemUoKSwgdGhpcy5jb2VyY2VGdW5jLCBhbGxvd0xvb3NlKTtcbiAgICB9XG4gICAgX2dldFdyaXRlcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXcml0ZXIodGhpcy5fZ2V0V29yZFNpemUoKSk7XG4gICAgfVxuICAgIGVuY29kZSh0eXBlcywgdmFsdWVzKSB7XG4gICAgICAgIGlmICh0eXBlcy5sZW5ndGggIT09IHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwidHlwZXMvdmFsdWVzIGxlbmd0aCBtaXNtYXRjaFwiLCBMb2dnZXIuZXJyb3JzLklOVkFMSURfQVJHVU1FTlQsIHtcbiAgICAgICAgICAgICAgICBjb3VudDogeyB0eXBlczogdHlwZXMubGVuZ3RoLCB2YWx1ZXM6IHZhbHVlcy5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogeyB0eXBlczogdHlwZXMsIHZhbHVlczogdmFsdWVzIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvZGVycyA9IHR5cGVzLm1hcCgodHlwZSkgPT4gdGhpcy5fZ2V0Q29kZXIoUGFyYW1UeXBlLmZyb20odHlwZSkpKTtcbiAgICAgICAgY29uc3QgY29kZXIgPSAobmV3IFR1cGxlQ29kZXIoY29kZXJzLCBcIl9cIikpO1xuICAgICAgICBjb25zdCB3cml0ZXIgPSB0aGlzLl9nZXRXcml0ZXIoKTtcbiAgICAgICAgY29kZXIuZW5jb2RlKHdyaXRlciwgdmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlci5kYXRhO1xuICAgIH1cbiAgICBkZWNvZGUodHlwZXMsIGRhdGEsIGxvb3NlKSB7XG4gICAgICAgIGNvbnN0IGNvZGVycyA9IHR5cGVzLm1hcCgodHlwZSkgPT4gdGhpcy5fZ2V0Q29kZXIoUGFyYW1UeXBlLmZyb20odHlwZSkpKTtcbiAgICAgICAgY29uc3QgY29kZXIgPSBuZXcgVHVwbGVDb2Rlcihjb2RlcnMsIFwiX1wiKTtcbiAgICAgICAgcmV0dXJuIGNvZGVyLmRlY29kZSh0aGlzLl9nZXRSZWFkZXIoYXJyYXlpZnkoZGF0YSksIGxvb3NlKSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRBYmlDb2RlciA9IG5ldyBBYmlDb2RlcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWJpLWNvZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgZ2V0QWRkcmVzcyB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9hZGRyZXNzXCI7XG5pbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYmlnbnVtYmVyXCI7XG5pbXBvcnQgeyBhcnJheWlmeSwgY29uY2F0LCBoZXhEYXRhU2xpY2UsIGhleGxpZnksIGhleFplcm9QYWQsIGlzSGV4U3RyaW5nIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2J5dGVzXCI7XG5pbXBvcnQgeyBpZCB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9oYXNoXCI7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3Qva2VjY2FrMjU2XCI7XG5pbXBvcnQgeyBkZWZpbmVSZWFkT25seSwgRGVzY3JpcHRpb24sIGdldFN0YXRpYyB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9wcm9wZXJ0aWVzXCI7XG5pbXBvcnQgeyBkZWZhdWx0QWJpQ29kZXIgfSBmcm9tIFwiLi9hYmktY29kZXJcIjtcbmltcG9ydCB7IGNoZWNrUmVzdWx0RXJyb3JzIH0gZnJvbSBcIi4vY29kZXJzL2Fic3RyYWN0LWNvZGVyXCI7XG5pbXBvcnQgeyBDb25zdHJ1Y3RvckZyYWdtZW50LCBFdmVudEZyYWdtZW50LCBGb3JtYXRUeXBlcywgRnJhZ21lbnQsIEZ1bmN0aW9uRnJhZ21lbnQsIFBhcmFtVHlwZSB9IGZyb20gXCIuL2ZyYWdtZW50c1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuZXhwb3J0IHsgY2hlY2tSZXN1bHRFcnJvcnMgfTtcbmV4cG9ydCBjbGFzcyBMb2dEZXNjcmlwdGlvbiBleHRlbmRzIERlc2NyaXB0aW9uIHtcbn1cbmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvbkRlc2NyaXB0aW9uIGV4dGVuZHMgRGVzY3JpcHRpb24ge1xufVxuZXhwb3J0IGNsYXNzIEluZGV4ZWQgZXh0ZW5kcyBEZXNjcmlwdGlvbiB7XG4gICAgc3RhdGljIGlzSW5kZXhlZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX2lzSW5kZXhlZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gd3JhcEFjY2Vzc0Vycm9yKHByb3BlcnR5LCBlcnJvcikge1xuICAgIGNvbnN0IHdyYXAgPSBuZXcgRXJyb3IoYGRlZmVycmVkIGVycm9yIGR1cmluZyBBQkkgZGVjb2RpbmcgdHJpZ2dlcmVkIGFjY2Vzc2luZyAke3Byb3BlcnR5fWApO1xuICAgIHdyYXAuZXJyb3IgPSBlcnJvcjtcbiAgICByZXR1cm4gd3JhcDtcbn1cbi8qXG5mdW5jdGlvbiBjaGVja05hbWVzKGZyYWdtZW50OiBGcmFnbWVudCwgdHlwZTogXCJpbnB1dFwiIHwgXCJvdXRwdXRcIiwgcGFyYW1zOiBBcnJheTxQYXJhbVR5cGU+KTogdm9pZCB7XG4gICAgcGFyYW1zLnJlZHVjZSgoYWNjdW0sIHBhcmFtKSA9PiB7XG4gICAgICAgIGlmIChwYXJhbS5uYW1lKSB7XG4gICAgICAgICAgICBpZiAoYWNjdW1bcGFyYW0ubmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKGBkdXBsaWNhdGUgJHsgdHlwZSB9IHBhcmFtZXRlciAkeyBKU09OLnN0cmluZ2lmeShwYXJhbS5uYW1lKSB9IGluICR7IGZyYWdtZW50LmZvcm1hdChcImZ1bGxcIikgfWAsIFwiZnJhZ21lbnRcIiwgZnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjdW1bcGFyYW0ubmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2N1bTtcbiAgICB9LCA8eyBbIG5hbWU6IHN0cmluZyBdOiBib29sZWFuIH0+eyB9KTtcbn1cbiovXG5leHBvcnQgY2xhc3MgSW50ZXJmYWNlIHtcbiAgICBjb25zdHJ1Y3RvcihmcmFnbWVudHMpIHtcbiAgICAgICAgbG9nZ2VyLmNoZWNrTmV3KG5ldy50YXJnZXQsIEludGVyZmFjZSk7XG4gICAgICAgIGxldCBhYmkgPSBbXTtcbiAgICAgICAgaWYgKHR5cGVvZiAoZnJhZ21lbnRzKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgYWJpID0gSlNPTi5wYXJzZShmcmFnbWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWJpID0gZnJhZ21lbnRzO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZVJlYWRPbmx5KHRoaXMsIFwiZnJhZ21lbnRzXCIsIGFiaS5tYXAoKGZyYWdtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gRnJhZ21lbnQuZnJvbShmcmFnbWVudCk7XG4gICAgICAgIH0pLmZpbHRlcigoZnJhZ21lbnQpID0+IChmcmFnbWVudCAhPSBudWxsKSkpO1xuICAgICAgICBkZWZpbmVSZWFkT25seSh0aGlzLCBcIl9hYmlDb2RlclwiLCBnZXRTdGF0aWMoKG5ldy50YXJnZXQpLCBcImdldEFiaUNvZGVyXCIpKCkpO1xuICAgICAgICBkZWZpbmVSZWFkT25seSh0aGlzLCBcImZ1bmN0aW9uc1wiLCB7fSk7XG4gICAgICAgIGRlZmluZVJlYWRPbmx5KHRoaXMsIFwiZXJyb3JzXCIsIHt9KTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJldmVudHNcIiwge30pO1xuICAgICAgICBkZWZpbmVSZWFkT25seSh0aGlzLCBcInN0cnVjdHNcIiwge30pO1xuICAgICAgICAvLyBBZGQgYWxsIGZyYWdtZW50cyBieSB0aGVpciBzaWduYXR1cmVcbiAgICAgICAgdGhpcy5mcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBidWNrZXQgPSBudWxsO1xuICAgICAgICAgICAgc3dpdGNoIChmcmFnbWVudC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbnN0cnVjdG9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlcGxveSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJkdXBsaWNhdGUgZGVmaW5pdGlvbiAtIGNvbnN0cnVjdG9yXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2tOYW1lcyhmcmFnbWVudCwgXCJpbnB1dFwiLCBmcmFnbWVudC5pbnB1dHMpO1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVSZWFkT25seSh0aGlzLCBcImRlcGxveVwiLCBmcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVja05hbWVzKGZyYWdtZW50LCBcImlucHV0XCIsIGZyYWdtZW50LmlucHV0cyk7XG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2tOYW1lcyhmcmFnbWVudCwgXCJvdXRwdXRcIiwgKDxGdW5jdGlvbkZyYWdtZW50PmZyYWdtZW50KS5vdXRwdXRzKTtcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0ID0gdGhpcy5mdW5jdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJldmVudFwiOlxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrTmFtZXMoZnJhZ21lbnQsIFwiaW5wdXRcIiwgZnJhZ21lbnQuaW5wdXRzKTtcbiAgICAgICAgICAgICAgICAgICAgYnVja2V0ID0gdGhpcy5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzaWduYXR1cmUgPSBmcmFnbWVudC5mb3JtYXQoKTtcbiAgICAgICAgICAgIGlmIChidWNrZXRbc2lnbmF0dXJlXSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKFwiZHVwbGljYXRlIGRlZmluaXRpb24gLSBcIiArIHNpZ25hdHVyZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVja2V0W3NpZ25hdHVyZV0gPSBmcmFnbWVudDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIElmIHdlIGRvIG5vdCBoYXZlIGEgY29uc3RydWN0b3IgYWRkIGEgZGVmYXVsdFxuICAgICAgICBpZiAoIXRoaXMuZGVwbG95KSB7XG4gICAgICAgICAgICBkZWZpbmVSZWFkT25seSh0aGlzLCBcImRlcGxveVwiLCBDb25zdHJ1Y3RvckZyYWdtZW50LmZyb20oe1xuICAgICAgICAgICAgICAgIHBheWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY29uc3RydWN0b3JcIlxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGRlZmluZVJlYWRPbmx5KHRoaXMsIFwiX2lzSW50ZXJmYWNlXCIsIHRydWUpO1xuICAgIH1cbiAgICBmb3JtYXQoZm9ybWF0KSB7XG4gICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBGb3JtYXRUeXBlcy5mdWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09IEZvcm1hdFR5cGVzLnNpZ2hhc2gpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnRlcmZhY2UgZG9lcyBub3Qgc3VwcG9ydCBmb3JtYXR0aW5nIHNpZ2hhc2hcIiwgXCJmb3JtYXRcIiwgZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhYmkgPSB0aGlzLmZyYWdtZW50cy5tYXAoKGZyYWdtZW50KSA9PiBmcmFnbWVudC5mb3JtYXQoZm9ybWF0KSk7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmUtYnVuZGxlIHRoZSBKU09OIGZyYWdtZW50cyBhIGJpdFxuICAgICAgICBpZiAoZm9ybWF0ID09PSBGb3JtYXRUeXBlcy5qc29uKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYWJpLm1hcCgoaikgPT4gSlNPTi5wYXJzZShqKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhYmk7XG4gICAgfVxuICAgIC8vIFN1Yi1jbGFzc2VzIGNhbiBvdmVycmlkZSB0aGVzZSB0byBoYW5kbGUgb3RoZXIgYmxvY2tjaGFpbnNcbiAgICBzdGF0aWMgZ2V0QWJpQ29kZXIoKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0QWJpQ29kZXI7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIGdldEFkZHJlc3MoYWRkcmVzcyk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRTaWdoYXNoKGZ1bmN0aW9uRnJhZ21lbnQpIHtcbiAgICAgICAgcmV0dXJuIGhleERhdGFTbGljZShpZChmdW5jdGlvbkZyYWdtZW50LmZvcm1hdCgpKSwgMCwgNCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRFdmVudFRvcGljKGV2ZW50RnJhZ21lbnQpIHtcbiAgICAgICAgcmV0dXJuIGlkKGV2ZW50RnJhZ21lbnQuZm9ybWF0KCkpO1xuICAgIH1cbiAgICAvLyBGaW5kIGEgZnVuY3Rpb24gZGVmaW5pdGlvbiBieSBhbnkgbWVhbnMgbmVjZXNzYXJ5ICh1bmxlc3MgaXQgaXMgYW1iaWd1b3VzKVxuICAgIGdldEZ1bmN0aW9uKG5hbWVPclNpZ25hdHVyZU9yU2lnaGFzaCkge1xuICAgICAgICBpZiAoaXNIZXhTdHJpbmcobmFtZU9yU2lnbmF0dXJlT3JTaWdoYXNoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIGluIHRoaXMuZnVuY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWVPclNpZ25hdHVyZU9yU2lnaGFzaCA9PT0gdGhpcy5nZXRTaWdoYXNoKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZ1bmN0aW9uc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwibm8gbWF0Y2hpbmcgZnVuY3Rpb25cIiwgXCJzaWdoYXNoXCIsIG5hbWVPclNpZ25hdHVyZU9yU2lnaGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSXQgaXMgYSBiYXJlIG5hbWUsIGxvb2sgdXAgdGhlIGZ1bmN0aW9uICh3aWxsIHJldHVybiBudWxsIGlmIGFtYmlndW91cylcbiAgICAgICAgaWYgKG5hbWVPclNpZ25hdHVyZU9yU2lnaGFzaC5pbmRleE9mKFwiKFwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBuYW1lT3JTaWduYXR1cmVPclNpZ2hhc2gudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmcgPSBPYmplY3Qua2V5cyh0aGlzLmZ1bmN0aW9ucykuZmlsdGVyKChmKSA9PiAoZi5zcGxpdChcIihcIiAvKiBmaXg6KSAqLylbMF0gPT09IG5hbWUpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwibm8gbWF0Y2hpbmcgZnVuY3Rpb25cIiwgXCJuYW1lXCIsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hpbmcubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJtdWx0aXBsZSBtYXRjaGluZyBmdW5jdGlvbnNcIiwgXCJuYW1lXCIsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZnVuY3Rpb25zW21hdGNoaW5nWzBdXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3JtbGl6ZSB0aGUgc2lnbmF0dXJlIGFuZCBsb29rdXAgdGhlIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZnVuY3Rpb25zW0Z1bmN0aW9uRnJhZ21lbnQuZnJvbVN0cmluZyhuYW1lT3JTaWduYXR1cmVPclNpZ2hhc2gpLmZvcm1hdCgpXTtcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJubyBtYXRjaGluZyBmdW5jdGlvblwiLCBcInNpZ25hdHVyZVwiLCBuYW1lT3JTaWduYXR1cmVPclNpZ2hhc2gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIEZpbmQgYW4gZXZlbnQgZGVmaW5pdGlvbiBieSBhbnkgbWVhbnMgbmVjZXNzYXJ5ICh1bmxlc3MgaXQgaXMgYW1iaWd1b3VzKVxuICAgIGdldEV2ZW50KG5hbWVPclNpZ25hdHVyZU9yVG9waWMpIHtcbiAgICAgICAgaWYgKGlzSGV4U3RyaW5nKG5hbWVPclNpZ25hdHVyZU9yVG9waWMpKSB7XG4gICAgICAgICAgICBjb25zdCB0b3BpY2hhc2ggPSBuYW1lT3JTaWduYXR1cmVPclRvcGljLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdGhpcy5ldmVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAodG9waWNoYXNoID09PSB0aGlzLmdldEV2ZW50VG9waWMobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJubyBtYXRjaGluZyBldmVudFwiLCBcInRvcGljaGFzaFwiLCB0b3BpY2hhc2gpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEl0IGlzIGEgYmFyZSBuYW1lLCBsb29rIHVwIHRoZSBmdW5jdGlvbiAod2lsbCByZXR1cm4gbnVsbCBpZiBhbWJpZ3VvdXMpXG4gICAgICAgIGlmIChuYW1lT3JTaWduYXR1cmVPclRvcGljLmluZGV4T2YoXCIoXCIpID09PSAtMSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVPclNpZ25hdHVyZU9yVG9waWMudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmcgPSBPYmplY3Qua2V5cyh0aGlzLmV2ZW50cykuZmlsdGVyKChmKSA9PiAoZi5zcGxpdChcIihcIiAvKiBmaXg6KSAqLylbMF0gPT09IG5hbWUpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGluZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwibm8gbWF0Y2hpbmcgZXZlbnRcIiwgXCJuYW1lXCIsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hpbmcubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJtdWx0aXBsZSBtYXRjaGluZyBldmVudHNcIiwgXCJuYW1lXCIsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzW21hdGNoaW5nWzBdXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3JtbGl6ZSB0aGUgc2lnbmF0dXJlIGFuZCBsb29rdXAgdGhlIGZ1bmN0aW9uXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZXZlbnRzW0V2ZW50RnJhZ21lbnQuZnJvbVN0cmluZyhuYW1lT3JTaWduYXR1cmVPclRvcGljKS5mb3JtYXQoKV07XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwibm8gbWF0Y2hpbmcgZXZlbnRcIiwgXCJzaWduYXR1cmVcIiwgbmFtZU9yU2lnbmF0dXJlT3JUb3BpYyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gR2V0IHRoZSBzaWdoYXNoICh0aGUgYnl0ZXM0IHNlbGVjdG9yKSB1c2VkIGJ5IFNvbGlkaXR5IHRvIGlkZW50aWZ5IGEgZnVuY3Rpb25cbiAgICBnZXRTaWdoYXNoKGZ1bmN0aW9uRnJhZ21lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAoZnVuY3Rpb25GcmFnbWVudCkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uRnJhZ21lbnQgPSB0aGlzLmdldEZ1bmN0aW9uKGZ1bmN0aW9uRnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXRTdGF0aWModGhpcy5jb25zdHJ1Y3RvciwgXCJnZXRTaWdoYXNoXCIpKGZ1bmN0aW9uRnJhZ21lbnQpO1xuICAgIH1cbiAgICAvLyBHZXQgdGhlIHRvcGljICh0aGUgYnl0ZXMzMiBoYXNoKSB1c2VkIGJ5IFNvbGlkaXR5IHRvIGlkZW50aWZ5IGFuIGV2ZW50XG4gICAgZ2V0RXZlbnRUb3BpYyhldmVudEZyYWdtZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgKGV2ZW50RnJhZ21lbnQpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBldmVudEZyYWdtZW50ID0gdGhpcy5nZXRFdmVudChldmVudEZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0U3RhdGljKHRoaXMuY29uc3RydWN0b3IsIFwiZ2V0RXZlbnRUb3BpY1wiKShldmVudEZyYWdtZW50KTtcbiAgICB9XG4gICAgX2RlY29kZVBhcmFtcyhwYXJhbXMsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FiaUNvZGVyLmRlY29kZShwYXJhbXMsIGRhdGEpO1xuICAgIH1cbiAgICBfZW5jb2RlUGFyYW1zKHBhcmFtcywgdmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hYmlDb2Rlci5lbmNvZGUocGFyYW1zLCB2YWx1ZXMpO1xuICAgIH1cbiAgICBlbmNvZGVEZXBsb3kodmFsdWVzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmNvZGVQYXJhbXModGhpcy5kZXBsb3kuaW5wdXRzLCB2YWx1ZXMgfHwgW10pO1xuICAgIH1cbiAgICAvLyBEZWNvZGUgdGhlIGRhdGEgZm9yIGEgZnVuY3Rpb24gY2FsbCAoZS5nLiB0eC5kYXRhKVxuICAgIGRlY29kZUZ1bmN0aW9uRGF0YShmdW5jdGlvbkZyYWdtZW50LCBkYXRhKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKGZ1bmN0aW9uRnJhZ21lbnQpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBmdW5jdGlvbkZyYWdtZW50ID0gdGhpcy5nZXRGdW5jdGlvbihmdW5jdGlvbkZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBieXRlcyA9IGFycmF5aWZ5KGRhdGEpO1xuICAgICAgICBpZiAoaGV4bGlmeShieXRlcy5zbGljZSgwLCA0KSkgIT09IHRoaXMuZ2V0U2lnaGFzaChmdW5jdGlvbkZyYWdtZW50KSkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihgZGF0YSBzaWduYXR1cmUgZG9lcyBub3QgbWF0Y2ggZnVuY3Rpb24gJHtmdW5jdGlvbkZyYWdtZW50Lm5hbWV9LmAsIFwiZGF0YVwiLCBoZXhsaWZ5KGJ5dGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlY29kZVBhcmFtcyhmdW5jdGlvbkZyYWdtZW50LmlucHV0cywgYnl0ZXMuc2xpY2UoNCkpO1xuICAgIH1cbiAgICAvLyBFbmNvZGUgdGhlIGRhdGEgZm9yIGEgZnVuY3Rpb24gY2FsbCAoZS5nLiB0eC5kYXRhKVxuICAgIGVuY29kZUZ1bmN0aW9uRGF0YShmdW5jdGlvbkZyYWdtZW50LCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAoZnVuY3Rpb25GcmFnbWVudCkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uRnJhZ21lbnQgPSB0aGlzLmdldEZ1bmN0aW9uKGZ1bmN0aW9uRnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZXhsaWZ5KGNvbmNhdChbXG4gICAgICAgICAgICB0aGlzLmdldFNpZ2hhc2goZnVuY3Rpb25GcmFnbWVudCksXG4gICAgICAgICAgICB0aGlzLl9lbmNvZGVQYXJhbXMoZnVuY3Rpb25GcmFnbWVudC5pbnB1dHMsIHZhbHVlcyB8fCBbXSlcbiAgICAgICAgXSkpO1xuICAgIH1cbiAgICAvLyBEZWNvZGUgdGhlIHJlc3VsdCBmcm9tIGEgZnVuY3Rpb24gY2FsbCAoZS5nLiBmcm9tIGV0aF9jYWxsKVxuICAgIGRlY29kZUZ1bmN0aW9uUmVzdWx0KGZ1bmN0aW9uRnJhZ21lbnQsIGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAoZnVuY3Rpb25GcmFnbWVudCkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uRnJhZ21lbnQgPSB0aGlzLmdldEZ1bmN0aW9uKGZ1bmN0aW9uRnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBieXRlcyA9IGFycmF5aWZ5KGRhdGEpO1xuICAgICAgICBsZXQgcmVhc29uID0gbnVsbDtcbiAgICAgICAgbGV0IGVycm9yU2lnbmF0dXJlID0gbnVsbDtcbiAgICAgICAgc3dpdGNoIChieXRlcy5sZW5ndGggJSB0aGlzLl9hYmlDb2Rlci5fZ2V0V29yZFNpemUoKSkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hYmlDb2Rlci5kZWNvZGUoZnVuY3Rpb25GcmFnbWVudC5vdXRwdXRzLCBieXRlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikgeyB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKGhleGxpZnkoYnl0ZXMuc2xpY2UoMCwgNCkpID09PSBcIjB4MDhjMzc5YTBcIikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvclNpZ25hdHVyZSA9IFwiRXJyb3Ioc3RyaW5nKVwiO1xuICAgICAgICAgICAgICAgICAgICByZWFzb24gPSB0aGlzLl9hYmlDb2Rlci5kZWNvZGUoW1wic3RyaW5nXCJdLCBieXRlcy5zbGljZSg0KSlbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dnZXIudGhyb3dFcnJvcihcImNhbGwgcmV2ZXJ0IGV4Y2VwdGlvblwiLCBMb2dnZXIuZXJyb3JzLkNBTExfRVhDRVBUSU9OLCB7XG4gICAgICAgICAgICBtZXRob2Q6IGZ1bmN0aW9uRnJhZ21lbnQuZm9ybWF0KCksXG4gICAgICAgICAgICBlcnJvclNpZ25hdHVyZTogZXJyb3JTaWduYXR1cmUsXG4gICAgICAgICAgICBlcnJvckFyZ3M6IFtyZWFzb25dLFxuICAgICAgICAgICAgcmVhc29uOiByZWFzb25cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEVuY29kZSB0aGUgcmVzdWx0IGZvciBhIGZ1bmN0aW9uIGNhbGwgKGUuZy4gZm9yIGV0aF9jYWxsKVxuICAgIGVuY29kZUZ1bmN0aW9uUmVzdWx0KGZ1bmN0aW9uRnJhZ21lbnQsIHZhbHVlcykge1xuICAgICAgICBpZiAodHlwZW9mIChmdW5jdGlvbkZyYWdtZW50KSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgZnVuY3Rpb25GcmFnbWVudCA9IHRoaXMuZ2V0RnVuY3Rpb24oZnVuY3Rpb25GcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhleGxpZnkodGhpcy5fYWJpQ29kZXIuZW5jb2RlKGZ1bmN0aW9uRnJhZ21lbnQub3V0cHV0cywgdmFsdWVzIHx8IFtdKSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgZmlsdGVyIGZvciB0aGUgZXZlbnQgd2l0aCBzZWFyY2ggY3JpdGVyaWEgKGUuZy4gZm9yIGV0aF9maWx0ZXJMb2cpXG4gICAgZW5jb2RlRmlsdGVyVG9waWNzKGV2ZW50RnJhZ21lbnQsIHZhbHVlcykge1xuICAgICAgICBpZiAodHlwZW9mIChldmVudEZyYWdtZW50KSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgZXZlbnRGcmFnbWVudCA9IHRoaXMuZ2V0RXZlbnQoZXZlbnRGcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiBldmVudEZyYWdtZW50LmlucHV0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwidG9vIG1hbnkgYXJndW1lbnRzIGZvciBcIiArIGV2ZW50RnJhZ21lbnQuZm9ybWF0KCksIExvZ2dlci5lcnJvcnMuVU5FWFBFQ1RFRF9BUkdVTUVOVCwge1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50OiBcInZhbHVlc1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0b3BpY3MgPSBbXTtcbiAgICAgICAgaWYgKCFldmVudEZyYWdtZW50LmFub255bW91cykge1xuICAgICAgICAgICAgdG9waWNzLnB1c2godGhpcy5nZXRFdmVudFRvcGljKGV2ZW50RnJhZ21lbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVUb3BpYyA9IChwYXJhbSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJhbS50eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtLnR5cGUgPT09IFwiYnl0ZXNcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZWNjYWsyNTYoaGV4bGlmeSh2YWx1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgYWRkcmVzc2VzIGFyZSB2YWxpZFxuICAgICAgICAgICAgaWYgKHBhcmFtLnR5cGUgPT09IFwiYWRkcmVzc1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWJpQ29kZXIuZW5jb2RlKFtcImFkZHJlc3NcIl0sIFt2YWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhleFplcm9QYWQoaGV4bGlmeSh2YWx1ZSksIDMyKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFsdWVzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IHBhcmFtID0gZXZlbnRGcmFnbWVudC5pbnB1dHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFwYXJhbS5pbmRleGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImNhbm5vdCBmaWx0ZXIgbm9uLWluZGV4ZWQgcGFyYW1ldGVyczsgbXVzdCBiZSBudWxsXCIsIChcImNvbnRyYWN0LlwiICsgcGFyYW0ubmFtZSksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0b3BpY3MucHVzaChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtLmJhc2VUeXBlID09PSBcImFycmF5XCIgfHwgcGFyYW0uYmFzZVR5cGUgPT09IFwidHVwbGVcIikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJmaWx0ZXJpbmcgd2l0aCB0dXBsZXMgb3IgYXJyYXlzIG5vdCBzdXBwb3J0ZWRcIiwgKFwiY29udHJhY3QuXCIgKyBwYXJhbS5uYW1lKSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0b3BpY3MucHVzaCh2YWx1ZS5tYXAoKHZhbHVlKSA9PiBlbmNvZGVUb3BpYyhwYXJhbSwgdmFsdWUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b3BpY3MucHVzaChlbmNvZGVUb3BpYyhwYXJhbSwgdmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFRyaW0gb2ZmIHRyYWlsaW5nIG51bGxzXG4gICAgICAgIHdoaWxlICh0b3BpY3MubGVuZ3RoICYmIHRvcGljc1t0b3BpY3MubGVuZ3RoIC0gMV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRvcGljcy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9waWNzO1xuICAgIH1cbiAgICBlbmNvZGVFdmVudExvZyhldmVudEZyYWdtZW50LCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAoZXZlbnRGcmFnbWVudCkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGV2ZW50RnJhZ21lbnQgPSB0aGlzLmdldEV2ZW50KGV2ZW50RnJhZ21lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvcGljcyA9IFtdO1xuICAgICAgICBjb25zdCBkYXRhVHlwZXMgPSBbXTtcbiAgICAgICAgY29uc3QgZGF0YVZhbHVlcyA9IFtdO1xuICAgICAgICBpZiAoIWV2ZW50RnJhZ21lbnQuYW5vbnltb3VzKSB7XG4gICAgICAgICAgICB0b3BpY3MucHVzaCh0aGlzLmdldEV2ZW50VG9waWMoZXZlbnRGcmFnbWVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoICE9PSBldmVudEZyYWdtZW50LmlucHV0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJldmVudCBhcmd1bWVudHMvdmFsdWVzIG1pc21hdGNoXCIsIFwidmFsdWVzXCIsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnRGcmFnbWVudC5pbnB1dHMuZm9yRWFjaCgocGFyYW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpbmRleF07XG4gICAgICAgICAgICBpZiAocGFyYW0uaW5kZXhlZCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbS50eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcGljcy5wdXNoKGlkKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtLnR5cGUgPT09IFwiYnl0ZXNcIikge1xuICAgICAgICAgICAgICAgICAgICB0b3BpY3MucHVzaChrZWNjYWsyNTYodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0uYmFzZVR5cGUgPT09IFwidHVwbGVcIiB8fCBwYXJhbS5iYXNlVHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEBUT09EXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcGljcy5wdXNoKHRoaXMuX2FiaUNvZGVyLmVuY29kZShbcGFyYW0udHlwZV0sIFt2YWx1ZV0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRhVHlwZXMucHVzaChwYXJhbSk7XG4gICAgICAgICAgICAgICAgZGF0YVZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9hYmlDb2Rlci5lbmNvZGUoZGF0YVR5cGVzLCBkYXRhVmFsdWVzKSxcbiAgICAgICAgICAgIHRvcGljczogdG9waWNzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIERlY29kZSBhIGZpbHRlciBmb3IgdGhlIGV2ZW50IGFuZCB0aGUgc2VhcmNoIGNyaXRlcmlhXG4gICAgZGVjb2RlRXZlbnRMb2coZXZlbnRGcmFnbWVudCwgZGF0YSwgdG9waWNzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgKGV2ZW50RnJhZ21lbnQpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBldmVudEZyYWdtZW50ID0gdGhpcy5nZXRFdmVudChldmVudEZyYWdtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9waWNzICE9IG51bGwgJiYgIWV2ZW50RnJhZ21lbnQuYW5vbnltb3VzKSB7XG4gICAgICAgICAgICBsZXQgdG9waWNIYXNoID0gdGhpcy5nZXRFdmVudFRvcGljKGV2ZW50RnJhZ21lbnQpO1xuICAgICAgICAgICAgaWYgKCFpc0hleFN0cmluZyh0b3BpY3NbMF0sIDMyKSB8fCB0b3BpY3NbMF0udG9Mb3dlckNhc2UoKSAhPT0gdG9waWNIYXNoKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJmcmFnbWVudC90b3BpYyBtaXNtYXRjaFwiLCBMb2dnZXIuZXJyb3JzLklOVkFMSURfQVJHVU1FTlQsIHsgYXJndW1lbnQ6IFwidG9waWNzWzBdXCIsIGV4cGVjdGVkOiB0b3BpY0hhc2gsIHZhbHVlOiB0b3BpY3NbMF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b3BpY3MgPSB0b3BpY3Muc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGV4ZWQgPSBbXTtcbiAgICAgICAgbGV0IG5vbkluZGV4ZWQgPSBbXTtcbiAgICAgICAgbGV0IGR5bmFtaWMgPSBbXTtcbiAgICAgICAgZXZlbnRGcmFnbWVudC5pbnB1dHMuZm9yRWFjaCgocGFyYW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyYW0uaW5kZXhlZCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbS50eXBlID09PSBcInN0cmluZ1wiIHx8IHBhcmFtLnR5cGUgPT09IFwiYnl0ZXNcIiB8fCBwYXJhbS5iYXNlVHlwZSA9PT0gXCJ0dXBsZVwiIHx8IHBhcmFtLmJhc2VUeXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhlZC5wdXNoKFBhcmFtVHlwZS5mcm9tT2JqZWN0KHsgdHlwZTogXCJieXRlczMyXCIsIG5hbWU6IHBhcmFtLm5hbWUgfSkpO1xuICAgICAgICAgICAgICAgICAgICBkeW5hbWljLnB1c2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVkLnB1c2gocGFyYW0pO1xuICAgICAgICAgICAgICAgICAgICBkeW5hbWljLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vbkluZGV4ZWQucHVzaChwYXJhbSk7XG4gICAgICAgICAgICAgICAgZHluYW1pYy5wdXNoKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCByZXN1bHRJbmRleGVkID0gKHRvcGljcyAhPSBudWxsKSA/IHRoaXMuX2FiaUNvZGVyLmRlY29kZShpbmRleGVkLCBjb25jYXQodG9waWNzKSkgOiBudWxsO1xuICAgICAgICBsZXQgcmVzdWx0Tm9uSW5kZXhlZCA9IHRoaXMuX2FiaUNvZGVyLmRlY29kZShub25JbmRleGVkLCBkYXRhLCB0cnVlKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgbm9uSW5kZXhlZEluZGV4ID0gMCwgaW5kZXhlZEluZGV4ID0gMDtcbiAgICAgICAgZXZlbnRGcmFnbWVudC5pbnB1dHMuZm9yRWFjaCgocGFyYW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyYW0uaW5kZXhlZCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRJbmRleGVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IG5ldyBJbmRleGVkKHsgX2lzSW5kZXhlZDogdHJ1ZSwgaGFzaDogbnVsbCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZHluYW1pY1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IG5ldyBJbmRleGVkKHsgX2lzSW5kZXhlZDogdHJ1ZSwgaGFzaDogcmVzdWx0SW5kZXhlZFtpbmRleGVkSW5kZXgrK10gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IHJlc3VsdEluZGV4ZWRbaW5kZXhlZEluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IHJlc3VsdE5vbkluZGV4ZWRbbm9uSW5kZXhlZEluZGV4KytdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFkZCB0aGUga2V5d29yZCBhcmd1bWVudCBpZiBuYW1lZCBhbmQgc2FmZVxuICAgICAgICAgICAgaWYgKHBhcmFtLm5hbWUgJiYgcmVzdWx0W3BhcmFtLm5hbWVdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlc3VsdFtpbmRleF07XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBlcnJvciBuYW1lZCB2YWx1ZXMgdGhyb3cgb24gYWNjZXNzXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc3VsdCwgcGFyYW0ubmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiB7IHRocm93IHdyYXBBY2Nlc3NFcnJvcihgcHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShwYXJhbS5uYW1lKX1gLCB2YWx1ZSk7IH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcGFyYW0ubmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBNYWtlIGFsbCBlcnJvciBpbmRleGVkIHZhbHVlcyB0aHJvdyBvbiBhY2Nlc3NcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdWx0W2ldO1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCBpLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4geyB0aHJvdyB3cmFwQWNjZXNzRXJyb3IoYGluZGV4ICR7aX1gLCB2YWx1ZSk7IH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZShyZXN1bHQpO1xuICAgIH1cbiAgICAvLyBHaXZlbiBhIHRyYW5zYWN0aW9uLCBmaW5kIHRoZSBtYXRjaGluZyBmdW5jdGlvbiBmcmFnbWVudCAoaWYgYW55KSBhbmRcbiAgICAvLyBkZXRlcm1pbmUgYWxsIGl0cyBwcm9wZXJ0aWVzIGFuZCBjYWxsIHBhcmFtZXRlcnNcbiAgICBwYXJzZVRyYW5zYWN0aW9uKHR4KSB7XG4gICAgICAgIGxldCBmcmFnbWVudCA9IHRoaXMuZ2V0RnVuY3Rpb24odHguZGF0YS5zdWJzdHJpbmcoMCwgMTApLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAoIWZyYWdtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uRGVzY3JpcHRpb24oe1xuICAgICAgICAgICAgYXJnczogdGhpcy5fYWJpQ29kZXIuZGVjb2RlKGZyYWdtZW50LmlucHV0cywgXCIweFwiICsgdHguZGF0YS5zdWJzdHJpbmcoMTApKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uRnJhZ21lbnQ6IGZyYWdtZW50LFxuICAgICAgICAgICAgbmFtZTogZnJhZ21lbnQubmFtZSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogZnJhZ21lbnQuZm9ybWF0KCksXG4gICAgICAgICAgICBzaWdoYXNoOiB0aGlzLmdldFNpZ2hhc2goZnJhZ21lbnQpLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ051bWJlci5mcm9tKHR4LnZhbHVlIHx8IFwiMFwiKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEdpdmVuIGFuIGV2ZW50IGxvZywgZmluZCB0aGUgbWF0Y2hpbmcgZXZlbnQgZnJhZ21lbnQgKGlmIGFueSkgYW5kXG4gICAgLy8gZGV0ZXJtaW5lIGFsbCBpdHMgcHJvcGVydGllcyBhbmQgdmFsdWVzXG4gICAgcGFyc2VMb2cobG9nKSB7XG4gICAgICAgIGxldCBmcmFnbWVudCA9IHRoaXMuZ2V0RXZlbnQobG9nLnRvcGljc1swXSk7XG4gICAgICAgIGlmICghZnJhZ21lbnQgfHwgZnJhZ21lbnQuYW5vbnltb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBAVE9ETzogSWYgYW5vbnltb3VzLCBhbmQgdGhlIG9ubHkgbWV0aG9kLCBhbmQgdGhlIGlucHV0IGNvdW50IG1hdGNoZXMsIHNob3VsZCB3ZSBwYXJzZT9cbiAgICAgICAgLy8gICAgICAgIFByb2JhYmx5IG5vdCwgYmVjYXVzZSBqdXN0IGJlY2F1c2UgaXQgaXMgdGhlIG9ubHkgZXZlbnQgaW4gdGhlIEFCSSBkb2VzXG4gICAgICAgIC8vICAgICAgICBub3QgbWVhbiB3ZSBoYXZlIHRoZSBmdWxsIEFCSTsgbWF5YmUganN1dCBhIGZyYWdtZW50P1xuICAgICAgICByZXR1cm4gbmV3IExvZ0Rlc2NyaXB0aW9uKHtcbiAgICAgICAgICAgIGV2ZW50RnJhZ21lbnQ6IGZyYWdtZW50LFxuICAgICAgICAgICAgbmFtZTogZnJhZ21lbnQubmFtZSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogZnJhZ21lbnQuZm9ybWF0KCksXG4gICAgICAgICAgICB0b3BpYzogdGhpcy5nZXRFdmVudFRvcGljKGZyYWdtZW50KSxcbiAgICAgICAgICAgIGFyZ3M6IHRoaXMuZGVjb2RlRXZlbnRMb2coZnJhZ21lbnQsIGxvZy5kYXRhLCBsb2cudG9waWNzKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLypcbiAgICBzdGF0aWMgZnJvbSh2YWx1ZTogQXJyYXk8RnJhZ21lbnQgfCBzdHJpbmcgfCBKc29uQWJpPiB8IHN0cmluZyB8IEludGVyZmFjZSkge1xuICAgICAgICBpZiAoSW50ZXJmYWNlLmlzSW50ZXJmYWNlKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YodmFsdWUpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludGVyZmFjZShKU09OLnBhcnNlKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBJbnRlcmZhY2UodmFsdWUpO1xuICAgIH1cbiAgICAqL1xuICAgIHN0YXRpYyBpc0ludGVyZmFjZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX2lzSW50ZXJmYWNlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmZhY2UuanMubWFwIiwiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSBcImFkZHJlc3MvNS41LjBcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPV92ZXJzaW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgYXJyYXlpZnksIGNvbmNhdCwgaGV4RGF0YUxlbmd0aCwgaGV4RGF0YVNsaWNlLCBpc0hleFN0cmluZywgc3RyaXBaZXJvcyB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9ieXRlc1wiO1xuaW1wb3J0IHsgQmlnTnVtYmVyLCBfYmFzZTE2VG8zNiwgX2Jhc2UzNlRvMTYgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYmlnbnVtYmVyXCI7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3Qva2VjY2FrMjU2XCI7XG5pbXBvcnQgeyBlbmNvZGUgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvcmxwXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvbG9nZ2VyXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vX3ZlcnNpb25cIjtcbmNvbnN0IGxvZ2dlciA9IG5ldyBMb2dnZXIodmVyc2lvbik7XG5mdW5jdGlvbiBnZXRDaGVja3N1bUFkZHJlc3MoYWRkcmVzcykge1xuICAgIGlmICghaXNIZXhTdHJpbmcoYWRkcmVzcywgMjApKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGFkZHJlc3NcIiwgXCJhZGRyZXNzXCIsIGFkZHJlc3MpO1xuICAgIH1cbiAgICBhZGRyZXNzID0gYWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGNoYXJzID0gYWRkcmVzcy5zdWJzdHJpbmcoMikuc3BsaXQoXCJcIik7XG4gICAgY29uc3QgZXhwYW5kZWQgPSBuZXcgVWludDhBcnJheSg0MCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0MDsgaSsrKSB7XG4gICAgICAgIGV4cGFuZGVkW2ldID0gY2hhcnNbaV0uY2hhckNvZGVBdCgwKTtcbiAgICB9XG4gICAgY29uc3QgaGFzaGVkID0gYXJyYXlpZnkoa2VjY2FrMjU2KGV4cGFuZGVkKSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0MDsgaSArPSAyKSB7XG4gICAgICAgIGlmICgoaGFzaGVkW2kgPj4gMV0gPj4gNCkgPj0gOCkge1xuICAgICAgICAgICAgY2hhcnNbaV0gPSBjaGFyc1tpXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoaGFzaGVkW2kgPj4gMV0gJiAweDBmKSA+PSA4KSB7XG4gICAgICAgICAgICBjaGFyc1tpICsgMV0gPSBjaGFyc1tpICsgMV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCIweFwiICsgY2hhcnMuam9pbihcIlwiKTtcbn1cbi8vIFNoaW1zIGZvciBlbnZpcm9ubWVudHMgdGhhdCBhcmUgbWlzc2luZyBzb21lIHJlcXVpcmVkIGNvbnN0YW50cyBhbmQgZnVuY3Rpb25zXG5jb25zdCBNQVhfU0FGRV9JTlRFR0VSID0gMHgxZmZmZmZmZmZmZmZmZjtcbmZ1bmN0aW9uIGxvZzEwKHgpIHtcbiAgICBpZiAoTWF0aC5sb2cxMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5sb2cxMCh4KTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubG9nKHgpIC8gTWF0aC5MTjEwO1xufVxuLy8gU2VlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbnRlcm5hdGlvbmFsX0JhbmtfQWNjb3VudF9OdW1iZXJcbi8vIENyZWF0ZSBsb29rdXAgdGFibGVcbmNvbnN0IGliYW5Mb29rdXAgPSB7fTtcbmZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgIGliYW5Mb29rdXBbU3RyaW5nKGkpXSA9IFN0cmluZyhpKTtcbn1cbmZvciAobGV0IGkgPSAwOyBpIDwgMjY7IGkrKykge1xuICAgIGliYW5Mb29rdXBbU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpXSA9IFN0cmluZygxMCArIGkpO1xufVxuLy8gSG93IG1hbnkgZGVjaW1hbCBkaWdpdHMgY2FuIHdlIHByb2Nlc3M/IChmb3IgNjQtYml0IGZsb2F0LCB0aGlzIGlzIDE1KVxuY29uc3Qgc2FmZURpZ2l0cyA9IE1hdGguZmxvb3IobG9nMTAoTUFYX1NBRkVfSU5URUdFUikpO1xuZnVuY3Rpb24gaWJhbkNoZWNrc3VtKGFkZHJlc3MpIHtcbiAgICBhZGRyZXNzID0gYWRkcmVzcy50b1VwcGVyQ2FzZSgpO1xuICAgIGFkZHJlc3MgPSBhZGRyZXNzLnN1YnN0cmluZyg0KSArIGFkZHJlc3Muc3Vic3RyaW5nKDAsIDIpICsgXCIwMFwiO1xuICAgIGxldCBleHBhbmRlZCA9IGFkZHJlc3Muc3BsaXQoXCJcIikubWFwKChjKSA9PiB7IHJldHVybiBpYmFuTG9va3VwW2NdOyB9KS5qb2luKFwiXCIpO1xuICAgIC8vIEphdmFzY3JpcHQgY2FuIGhhbmRsZSBpbnRlZ2VycyBzYWZlbHkgdXAgdG8gMTUgKGRlY2ltYWwpIGRpZ2l0c1xuICAgIHdoaWxlIChleHBhbmRlZC5sZW5ndGggPj0gc2FmZURpZ2l0cykge1xuICAgICAgICBsZXQgYmxvY2sgPSBleHBhbmRlZC5zdWJzdHJpbmcoMCwgc2FmZURpZ2l0cyk7XG4gICAgICAgIGV4cGFuZGVkID0gcGFyc2VJbnQoYmxvY2ssIDEwKSAlIDk3ICsgZXhwYW5kZWQuc3Vic3RyaW5nKGJsb2NrLmxlbmd0aCk7XG4gICAgfVxuICAgIGxldCBjaGVja3N1bSA9IFN0cmluZyg5OCAtIChwYXJzZUludChleHBhbmRlZCwgMTApICUgOTcpKTtcbiAgICB3aGlsZSAoY2hlY2tzdW0ubGVuZ3RoIDwgMikge1xuICAgICAgICBjaGVja3N1bSA9IFwiMFwiICsgY2hlY2tzdW07XG4gICAgfVxuICAgIHJldHVybiBjaGVja3N1bTtcbn1cbjtcbmV4cG9ydCBmdW5jdGlvbiBnZXRBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIChhZGRyZXNzKSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBhZGRyZXNzXCIsIFwiYWRkcmVzc1wiLCBhZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKGFkZHJlc3MubWF0Y2goL14oMHgpP1swLTlhLWZBLUZdezQwfSQvKSkge1xuICAgICAgICAvLyBNaXNzaW5nIHRoZSAweCBwcmVmaXhcbiAgICAgICAgaWYgKGFkZHJlc3Muc3Vic3RyaW5nKDAsIDIpICE9PSBcIjB4XCIpIHtcbiAgICAgICAgICAgIGFkZHJlc3MgPSBcIjB4XCIgKyBhZGRyZXNzO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IGdldENoZWNrc3VtQWRkcmVzcyhhZGRyZXNzKTtcbiAgICAgICAgLy8gSXQgaXMgYSBjaGVja3N1bW1lZCBhZGRyZXNzIHdpdGggYSBiYWQgY2hlY2tzdW1cbiAgICAgICAgaWYgKGFkZHJlc3MubWF0Y2goLyhbQS1GXS4qW2EtZl0pfChbYS1mXS4qW0EtRl0pLykgJiYgcmVzdWx0ICE9PSBhZGRyZXNzKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiYmFkIGFkZHJlc3MgY2hlY2tzdW1cIiwgXCJhZGRyZXNzXCIsIGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1heWJlIElDQVA/ICh3ZSBvbmx5IHN1cHBvcnQgZGlyZWN0IG1vZGUpXG4gICAgfVxuICAgIGVsc2UgaWYgKGFkZHJlc3MubWF0Y2goL15YRVswLTldezJ9WzAtOUEtWmEtel17MzAsMzF9JC8pKSB7XG4gICAgICAgIC8vIEl0IGlzIGFuIElDQVAgYWRkcmVzcyB3aXRoIGEgYmFkIGNoZWNrc3VtXG4gICAgICAgIGlmIChhZGRyZXNzLnN1YnN0cmluZygyLCA0KSAhPT0gaWJhbkNoZWNrc3VtKGFkZHJlc3MpKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiYmFkIGljYXAgY2hlY2tzdW1cIiwgXCJhZGRyZXNzXCIsIGFkZHJlc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IF9iYXNlMzZUbzE2KGFkZHJlc3Muc3Vic3RyaW5nKDQpKTtcbiAgICAgICAgd2hpbGUgKHJlc3VsdC5sZW5ndGggPCA0MCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gXCIwXCIgKyByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gZ2V0Q2hlY2tzdW1BZGRyZXNzKFwiMHhcIiArIHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBhZGRyZXNzXCIsIFwiYWRkcmVzc1wiLCBhZGRyZXNzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FkZHJlc3MoYWRkcmVzcykge1xuICAgIHRyeSB7XG4gICAgICAgIGdldEFkZHJlc3MoYWRkcmVzcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHsgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY2FwQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgbGV0IGJhc2UzNiA9IF9iYXNlMTZUbzM2KGdldEFkZHJlc3MoYWRkcmVzcykuc3Vic3RyaW5nKDIpKS50b1VwcGVyQ2FzZSgpO1xuICAgIHdoaWxlIChiYXNlMzYubGVuZ3RoIDwgMzApIHtcbiAgICAgICAgYmFzZTM2ID0gXCIwXCIgKyBiYXNlMzY7XG4gICAgfVxuICAgIHJldHVybiBcIlhFXCIgKyBpYmFuQ2hlY2tzdW0oXCJYRTAwXCIgKyBiYXNlMzYpICsgYmFzZTM2O1xufVxuLy8gaHR0cDovL2V0aGVyZXVtLnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy83NjAvaG93LWlzLXRoZS1hZGRyZXNzLW9mLWFuLWV0aGVyZXVtLWNvbnRyYWN0LWNvbXB1dGVkXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udHJhY3RBZGRyZXNzKHRyYW5zYWN0aW9uKSB7XG4gICAgbGV0IGZyb20gPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICAgIGZyb20gPSBnZXRBZGRyZXNzKHRyYW5zYWN0aW9uLmZyb20pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcIm1pc3NpbmcgZnJvbSBhZGRyZXNzXCIsIFwidHJhbnNhY3Rpb25cIiwgdHJhbnNhY3Rpb24pO1xuICAgIH1cbiAgICBjb25zdCBub25jZSA9IHN0cmlwWmVyb3MoYXJyYXlpZnkoQmlnTnVtYmVyLmZyb20odHJhbnNhY3Rpb24ubm9uY2UpLnRvSGV4U3RyaW5nKCkpKTtcbiAgICByZXR1cm4gZ2V0QWRkcmVzcyhoZXhEYXRhU2xpY2Uoa2VjY2FrMjU2KGVuY29kZShbZnJvbSwgbm9uY2VdKSksIDEyKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3JlYXRlMkFkZHJlc3MoZnJvbSwgc2FsdCwgaW5pdENvZGVIYXNoKSB7XG4gICAgaWYgKGhleERhdGFMZW5ndGgoc2FsdCkgIT09IDMyKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJzYWx0IG11c3QgYmUgMzIgYnl0ZXNcIiwgXCJzYWx0XCIsIHNhbHQpO1xuICAgIH1cbiAgICBpZiAoaGV4RGF0YUxlbmd0aChpbml0Q29kZUhhc2gpICE9PSAzMikge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW5pdENvZGVIYXNoIG11c3QgYmUgMzIgYnl0ZXNcIiwgXCJpbml0Q29kZUhhc2hcIiwgaW5pdENvZGVIYXNoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEFkZHJlc3MoaGV4RGF0YVNsaWNlKGtlY2NhazI1Nihjb25jYXQoW1wiMHhmZlwiLCBnZXRBZGRyZXNzKGZyb20pLCBzYWx0LCBpbml0Q29kZUhhc2hdKSksIDEyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICogIEJpZ051bWJlclxuICpcbiAqICBBIHdyYXBwZXIgYXJvdW5kIHRoZSBCTi5qcyBvYmplY3QuIFdlIHVzZSB0aGUgQk4uanMgbGlicmFyeVxuICogIGJlY2F1c2UgaXQgaXMgdXNlZCBieSBlbGxpcHRpYywgc28gaXQgaXMgcmVxdWlyZWQgcmVnYXJkbGVzcy5cbiAqXG4gKi9cbmltcG9ydCBfQk4gZnJvbSBcImJuLmpzXCI7XG52YXIgQk4gPSBfQk4uQk47XG5pbXBvcnQgeyBoZXhsaWZ5LCBpc0J5dGVzLCBpc0hleFN0cmluZyB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9ieXRlc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuY29uc3QgX2NvbnN0cnVjdG9yR3VhcmQgPSB7fTtcbmNvbnN0IE1BWF9TQUZFID0gMHgxZmZmZmZmZmZmZmZmZjtcbmV4cG9ydCBmdW5jdGlvbiBpc0JpZ051bWJlcmlzaCh2YWx1ZSkge1xuICAgIHJldHVybiAodmFsdWUgIT0gbnVsbCkgJiYgKEJpZ051bWJlci5pc0JpZ051bWJlcih2YWx1ZSkgfHxcbiAgICAgICAgKHR5cGVvZiAodmFsdWUpID09PSBcIm51bWJlclwiICYmICh2YWx1ZSAlIDEpID09PSAwKSB8fFxuICAgICAgICAodHlwZW9mICh2YWx1ZSkgPT09IFwic3RyaW5nXCIgJiYgISF2YWx1ZS5tYXRjaCgvXi0/WzAtOV0rJC8pKSB8fFxuICAgICAgICBpc0hleFN0cmluZyh2YWx1ZSkgfHxcbiAgICAgICAgKHR5cGVvZiAodmFsdWUpID09PSBcImJpZ2ludFwiKSB8fFxuICAgICAgICBpc0J5dGVzKHZhbHVlKSk7XG59XG4vLyBPbmx5IHdhcm4gYWJvdXQgcGFzc2luZyAxMCBpbnRvIHJhZGl4IG9uY2VcbmxldCBfd2FybmVkVG9TdHJpbmdSYWRpeCA9IGZhbHNlO1xuZXhwb3J0IGNsYXNzIEJpZ051bWJlciB7XG4gICAgY29uc3RydWN0b3IoY29uc3RydWN0b3JHdWFyZCwgaGV4KSB7XG4gICAgICAgIGxvZ2dlci5jaGVja05ldyhuZXcudGFyZ2V0LCBCaWdOdW1iZXIpO1xuICAgICAgICBpZiAoY29uc3RydWN0b3JHdWFyZCAhPT0gX2NvbnN0cnVjdG9yR3VhcmQpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwiY2Fubm90IGNhbGwgY29uc3RydWN0b3IgZGlyZWN0bHk7IHVzZSBCaWdOdW1iZXIuZnJvbVwiLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJuZXcgKEJpZ051bWJlcilcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGV4ID0gaGV4O1xuICAgICAgICB0aGlzLl9pc0JpZ051bWJlciA9IHRydWU7XG4gICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gICAgfVxuICAgIGZyb21Ud29zKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0b0JpZ051bWJlcih0b0JOKHRoaXMpLmZyb21Ud29zKHZhbHVlKSk7XG4gICAgfVxuICAgIHRvVHdvcyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdG9CaWdOdW1iZXIodG9CTih0aGlzKS50b1R3b3ModmFsdWUpKTtcbiAgICB9XG4gICAgYWJzKCkge1xuICAgICAgICBpZiAodGhpcy5faGV4WzBdID09PSBcIi1cIikge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ051bWJlci5mcm9tKHRoaXMuX2hleC5zdWJzdHJpbmcoMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhZGQob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRvQmlnTnVtYmVyKHRvQk4odGhpcykuYWRkKHRvQk4ob3RoZXIpKSk7XG4gICAgfVxuICAgIHN1YihvdGhlcikge1xuICAgICAgICByZXR1cm4gdG9CaWdOdW1iZXIodG9CTih0aGlzKS5zdWIodG9CTihvdGhlcikpKTtcbiAgICB9XG4gICAgZGl2KG90aGVyKSB7XG4gICAgICAgIGNvbnN0IG8gPSBCaWdOdW1iZXIuZnJvbShvdGhlcik7XG4gICAgICAgIGlmIChvLmlzWmVybygpKSB7XG4gICAgICAgICAgICB0aHJvd0ZhdWx0KFwiZGl2aXNpb24gYnkgemVyb1wiLCBcImRpdlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9CaWdOdW1iZXIodG9CTih0aGlzKS5kaXYodG9CTihvdGhlcikpKTtcbiAgICB9XG4gICAgbXVsKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0b0JpZ051bWJlcih0b0JOKHRoaXMpLm11bCh0b0JOKG90aGVyKSkpO1xuICAgIH1cbiAgICBtb2Qob3RoZXIpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0b0JOKG90aGVyKTtcbiAgICAgICAgaWYgKHZhbHVlLmlzTmVnKCkpIHtcbiAgICAgICAgICAgIHRocm93RmF1bHQoXCJjYW5ub3QgbW9kdWxvIG5lZ2F0aXZlIHZhbHVlc1wiLCBcIm1vZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9CaWdOdW1iZXIodG9CTih0aGlzKS51bW9kKHZhbHVlKSk7XG4gICAgfVxuICAgIHBvdyhvdGhlcikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRvQk4ob3RoZXIpO1xuICAgICAgICBpZiAodmFsdWUuaXNOZWcoKSkge1xuICAgICAgICAgICAgdGhyb3dGYXVsdChcImNhbm5vdCByYWlzZSB0byBuZWdhdGl2ZSB2YWx1ZXNcIiwgXCJwb3dcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvQmlnTnVtYmVyKHRvQk4odGhpcykucG93KHZhbHVlKSk7XG4gICAgfVxuICAgIGFuZChvdGhlcikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRvQk4ob3RoZXIpO1xuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkgfHwgdmFsdWUuaXNOZWcoKSkge1xuICAgICAgICAgICAgdGhyb3dGYXVsdChcImNhbm5vdCAnYW5kJyBuZWdhdGl2ZSB2YWx1ZXNcIiwgXCJhbmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvQmlnTnVtYmVyKHRvQk4odGhpcykuYW5kKHZhbHVlKSk7XG4gICAgfVxuICAgIG9yKG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdG9CTihvdGhlcik7XG4gICAgICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSB8fCB2YWx1ZS5pc05lZygpKSB7XG4gICAgICAgICAgICB0aHJvd0ZhdWx0KFwiY2Fubm90ICdvcicgbmVnYXRpdmUgdmFsdWVzXCIsIFwib3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvQmlnTnVtYmVyKHRvQk4odGhpcykub3IodmFsdWUpKTtcbiAgICB9XG4gICAgeG9yKG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdG9CTihvdGhlcik7XG4gICAgICAgIGlmICh0aGlzLmlzTmVnYXRpdmUoKSB8fCB2YWx1ZS5pc05lZygpKSB7XG4gICAgICAgICAgICB0aHJvd0ZhdWx0KFwiY2Fubm90ICd4b3InIG5lZ2F0aXZlIHZhbHVlc1wiLCBcInhvclwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9CaWdOdW1iZXIodG9CTih0aGlzKS54b3IodmFsdWUpKTtcbiAgICB9XG4gICAgbWFzayh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkgfHwgdmFsdWUgPCAwKSB7XG4gICAgICAgICAgICB0aHJvd0ZhdWx0KFwiY2Fubm90IG1hc2sgbmVnYXRpdmUgdmFsdWVzXCIsIFwibWFza1wiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9CaWdOdW1iZXIodG9CTih0aGlzKS5tYXNrbih2YWx1ZSkpO1xuICAgIH1cbiAgICBzaGwodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgdGhyb3dGYXVsdChcImNhbm5vdCBzaGlmdCBuZWdhdGl2ZSB2YWx1ZXNcIiwgXCJzaGxcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvQmlnTnVtYmVyKHRvQk4odGhpcykuc2hsbih2YWx1ZSkpO1xuICAgIH1cbiAgICBzaHIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpIHx8IHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgdGhyb3dGYXVsdChcImNhbm5vdCBzaGlmdCBuZWdhdGl2ZSB2YWx1ZXNcIiwgXCJzaHJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvQmlnTnVtYmVyKHRvQk4odGhpcykuc2hybih2YWx1ZSkpO1xuICAgIH1cbiAgICBlcShvdGhlcikge1xuICAgICAgICByZXR1cm4gdG9CTih0aGlzKS5lcSh0b0JOKG90aGVyKSk7XG4gICAgfVxuICAgIGx0KG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0b0JOKHRoaXMpLmx0KHRvQk4ob3RoZXIpKTtcbiAgICB9XG4gICAgbHRlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0b0JOKHRoaXMpLmx0ZSh0b0JOKG90aGVyKSk7XG4gICAgfVxuICAgIGd0KG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0b0JOKHRoaXMpLmd0KHRvQk4ob3RoZXIpKTtcbiAgICB9XG4gICAgZ3RlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0b0JOKHRoaXMpLmd0ZSh0b0JOKG90aGVyKSk7XG4gICAgfVxuICAgIGlzTmVnYXRpdmUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5faGV4WzBdID09PSBcIi1cIik7XG4gICAgfVxuICAgIGlzWmVybygpIHtcbiAgICAgICAgcmV0dXJuIHRvQk4odGhpcykuaXNaZXJvKCk7XG4gICAgfVxuICAgIHRvTnVtYmVyKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRvQk4odGhpcykudG9OdW1iZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93RmF1bHQoXCJvdmVyZmxvd1wiLCBcInRvTnVtYmVyXCIsIHRoaXMudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRvQmlnSW50KCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ0ludCh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgcmV0dXJuIGxvZ2dlci50aHJvd0Vycm9yKFwidGhpcyBwbGF0Zm9ybSBkb2VzIG5vdCBzdXBwb3J0IEJpZ0ludFwiLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMudG9TdHJpbmcoKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIC8vIExvdHMgb2YgcGVvcGxlIGV4cGVjdCB0aGlzLCB3aGljaCB3ZSBkbyBub3Qgc3VwcG9ydCwgc28gY2hlY2sgKFNlZTogIzg4OSlcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzWzBdID09PSAxMCkge1xuICAgICAgICAgICAgICAgIGlmICghX3dhcm5lZFRvU3RyaW5nUmFkaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3dhcm5lZFRvU3RyaW5nUmFkaXggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihcIkJpZ051bWJlci50b1N0cmluZyBkb2VzIG5vdCBhY2NlcHQgYW55IHBhcmFtZXRlcnM7IGJhc2UtMTAgaXMgYXNzdW1lZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhcmd1bWVudHNbMF0gPT09IDE2KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJCaWdOdW1iZXIudG9TdHJpbmcgZG9lcyBub3QgYWNjZXB0IGFueSBwYXJhbWV0ZXJzOyB1c2UgYmlnTnVtYmVyLnRvSGV4U3RyaW5nKClcIiwgTG9nZ2VyLmVycm9ycy5VTkVYUEVDVEVEX0FSR1VNRU5ULCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dFcnJvcihcIkJpZ051bWJlci50b1N0cmluZyBkb2VzIG5vdCBhY2NlcHQgcGFyYW1ldGVyc1wiLCBMb2dnZXIuZXJyb3JzLlVORVhQRUNURURfQVJHVU1FTlQsIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9CTih0aGlzKS50b1N0cmluZygxMCk7XG4gICAgfVxuICAgIHRvSGV4U3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGV4O1xuICAgIH1cbiAgICB0b0pTT04oa2V5KSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiQmlnTnVtYmVyXCIsIGhleDogdGhpcy50b0hleFN0cmluZygpIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEJpZ051bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlLm1hdGNoKC9eLT8weFswLTlhLWZdKyQvaSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihfY29uc3RydWN0b3JHdWFyZCwgdG9IZXgodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZS5tYXRjaCgvXi0/WzAtOV0rJC8pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoX2NvbnN0cnVjdG9yR3VhcmQsIHRvSGV4KG5ldyBCTih2YWx1ZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBCaWdOdW1iZXIgc3RyaW5nXCIsIFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlICUgMSkge1xuICAgICAgICAgICAgICAgIHRocm93RmF1bHQoXCJ1bmRlcmZsb3dcIiwgXCJCaWdOdW1iZXIuZnJvbVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gTUFYX1NBRkUgfHwgdmFsdWUgPD0gLU1BWF9TQUZFKSB7XG4gICAgICAgICAgICAgICAgdGhyb3dGYXVsdChcIm92ZXJmbG93XCIsIFwiQmlnTnVtYmVyLmZyb21cIiwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEJpZ051bWJlci5mcm9tKFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFueVZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgKGFueVZhbHVlKSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ051bWJlci5mcm9tKGFueVZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0J5dGVzKGFueVZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIEJpZ051bWJlci5mcm9tKGhleGxpZnkoYW55VmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW55VmFsdWUpIHtcbiAgICAgICAgICAgIC8vIEhleGFibGUgaW50ZXJmYWNlICh0YWtlcyBwcmlvcml0eSlcbiAgICAgICAgICAgIGlmIChhbnlWYWx1ZS50b0hleFN0cmluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhleCA9IGFueVZhbHVlLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoaGV4KSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQmlnTnVtYmVyLmZyb20oaGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBGb3Igbm93LCBoYW5kbGUgbGVnYWN5IEpTT04taWZpZWQgdmFsdWVzIChnb2VzIGF3YXkgaW4gdjYpXG4gICAgICAgICAgICAgICAgbGV0IGhleCA9IGFueVZhbHVlLl9oZXg7XG4gICAgICAgICAgICAgICAgLy8gTmV3LWZvcm0gSlNPTlxuICAgICAgICAgICAgICAgIGlmIChoZXggPT0gbnVsbCAmJiBhbnlWYWx1ZS50eXBlID09PSBcIkJpZ051bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGhleCA9IGFueVZhbHVlLmhleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAoaGV4KSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNIZXhTdHJpbmcoaGV4KSB8fCAoaGV4WzBdID09PSBcIi1cIiAmJiBpc0hleFN0cmluZyhoZXguc3Vic3RyaW5nKDEpKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCaWdOdW1iZXIuZnJvbShoZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBCaWdOdW1iZXIgdmFsdWVcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyBpc0JpZ051bWJlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX2lzQmlnTnVtYmVyKTtcbiAgICB9XG59XG4vLyBOb3JtYWxpemUgdGhlIGhleCBzdHJpbmdcbmZ1bmN0aW9uIHRvSGV4KHZhbHVlKSB7XG4gICAgLy8gRm9yIEJOLCBjYWxsIG9uIHRoZSBoZXggc3RyaW5nXG4gICAgaWYgKHR5cGVvZiAodmFsdWUpICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB0b0hleCh2YWx1ZS50b1N0cmluZygxNikpO1xuICAgIH1cbiAgICAvLyBJZiBuZWdhdGl2ZSwgcHJlcGVuZCB0aGUgbmVnYXRpdmUgc2lnbiB0byB0aGUgbm9ybWFsaXplZCBwb3NpdGl2ZSB2YWx1ZVxuICAgIGlmICh2YWx1ZVswXSA9PT0gXCItXCIpIHtcbiAgICAgICAgLy8gU3RyaXAgb2ZmIHRoZSBuZWdhdGl2ZSBzaWduXG4gICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDEpO1xuICAgICAgICAvLyBDYW5ub3QgaGF2ZSBtdWx0aXBsZSBuZWdhdGl2ZSBzaWducyAoZS5nLiBcIi0tMHgwNFwiKVxuICAgICAgICBpZiAodmFsdWVbMF0gPT09IFwiLVwiKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBoZXhcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2FsbCB0b0hleCBvbiB0aGUgcG9zaXRpdmUgY29tcG9uZW50XG4gICAgICAgIHZhbHVlID0gdG9IZXgodmFsdWUpO1xuICAgICAgICAvLyBEbyBub3QgYWxsb3cgXCItMHgwMFwiXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCIweDAwXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOZWdhdGUgdGhlIHZhbHVlXG4gICAgICAgIHJldHVybiBcIi1cIiArIHZhbHVlO1xuICAgIH1cbiAgICAvLyBBZGQgYSBcIjB4XCIgcHJlZml4IGlmIG1pc3NpbmdcbiAgICBpZiAodmFsdWUuc3Vic3RyaW5nKDAsIDIpICE9PSBcIjB4XCIpIHtcbiAgICAgICAgdmFsdWUgPSBcIjB4XCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgLy8gTm9ybWFsaXplIHplcm9cbiAgICBpZiAodmFsdWUgPT09IFwiMHhcIikge1xuICAgICAgICByZXR1cm4gXCIweDAwXCI7XG4gICAgfVxuICAgIC8vIE1ha2UgdGhlIHN0cmluZyBldmVuIGxlbmd0aFxuICAgIGlmICh2YWx1ZS5sZW5ndGggJSAyKSB7XG4gICAgICAgIHZhbHVlID0gXCIweDBcIiArIHZhbHVlLnN1YnN0cmluZygyKTtcbiAgICB9XG4gICAgLy8gVHJpbSB0byBzbWFsbGVzdCBldmVuLWxlbmd0aCBzdHJpbmdcbiAgICB3aGlsZSAodmFsdWUubGVuZ3RoID4gNCAmJiB2YWx1ZS5zdWJzdHJpbmcoMCwgNCkgPT09IFwiMHgwMFwiKSB7XG4gICAgICAgIHZhbHVlID0gXCIweFwiICsgdmFsdWUuc3Vic3RyaW5nKDQpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB0b0JpZ051bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiBCaWdOdW1iZXIuZnJvbSh0b0hleCh2YWx1ZSkpO1xufVxuZnVuY3Rpb24gdG9CTih2YWx1ZSkge1xuICAgIGNvbnN0IGhleCA9IEJpZ051bWJlci5mcm9tKHZhbHVlKS50b0hleFN0cmluZygpO1xuICAgIGlmIChoZXhbMF0gPT09IFwiLVwiKSB7XG4gICAgICAgIHJldHVybiAobmV3IEJOKFwiLVwiICsgaGV4LnN1YnN0cmluZygzKSwgMTYpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCTihoZXguc3Vic3RyaW5nKDIpLCAxNik7XG59XG5mdW5jdGlvbiB0aHJvd0ZhdWx0KGZhdWx0LCBvcGVyYXRpb24sIHZhbHVlKSB7XG4gICAgY29uc3QgcGFyYW1zID0geyBmYXVsdDogZmF1bHQsIG9wZXJhdGlvbjogb3BlcmF0aW9uIH07XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgcGFyYW1zLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBsb2dnZXIudGhyb3dFcnJvcihmYXVsdCwgTG9nZ2VyLmVycm9ycy5OVU1FUklDX0ZBVUxULCBwYXJhbXMpO1xufVxuLy8gdmFsdWUgc2hvdWxkIGhhdmUgbm8gcHJlZml4XG5leHBvcnQgZnVuY3Rpb24gX2Jhc2UzNlRvMTYodmFsdWUpIHtcbiAgICByZXR1cm4gKG5ldyBCTih2YWx1ZSwgMzYpKS50b1N0cmluZygxNik7XG59XG4vLyB2YWx1ZSBzaG91bGQgaGF2ZSBubyBwcmVmaXhcbmV4cG9ydCBmdW5jdGlvbiBfYmFzZTE2VG8zNih2YWx1ZSkge1xuICAgIHJldHVybiAobmV3IEJOKHZhbHVlLCAxNikpLnRvU3RyaW5nKDM2KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpZ251bWJlci5qcy5tYXAiLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwiYmlnbnVtYmVyLzUuNS4wXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1fdmVyc2lvbi5qcy5tYXAiLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwiYnl0ZXMvNS41LjBcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPV92ZXJzaW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gaXNIZXhhYmxlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhKHZhbHVlLnRvSGV4U3RyaW5nKTtcbn1cbmZ1bmN0aW9uIGFkZFNsaWNlKGFycmF5KSB7XG4gICAgaWYgKGFycmF5LnNsaWNlKSB7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgYXJyYXkuc2xpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gYWRkU2xpY2UobmV3IFVpbnQ4QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFycmF5LCBhcmdzKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQnl0ZXNMaWtlKHZhbHVlKSB7XG4gICAgcmV0dXJuICgoaXNIZXhTdHJpbmcodmFsdWUpICYmICEodmFsdWUubGVuZ3RoICUgMikpIHx8IGlzQnl0ZXModmFsdWUpKTtcbn1cbmZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mICh2YWx1ZSkgPT09IFwibnVtYmVyXCIgJiYgdmFsdWUgPT0gdmFsdWUgJiYgKHZhbHVlICUgMSkgPT09IDApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQnl0ZXModmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gVWludDhBcnJheSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiAodmFsdWUpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFpc0ludGVnZXIodmFsdWUubGVuZ3RoKSB8fCB2YWx1ZS5sZW5ndGggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gdmFsdWVbaV07XG4gICAgICAgIGlmICghaXNJbnRlZ2VyKHYpIHx8IHYgPCAwIHx8IHYgPj0gMjU2KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gYXJyYXlpZnkodmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgbG9nZ2VyLmNoZWNrU2FmZVVpbnQ1Myh2YWx1ZSwgXCJpbnZhbGlkIGFycmF5aWZ5IHZhbHVlXCIpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKHZhbHVlKSB7XG4gICAgICAgICAgICByZXN1bHQudW5zaGlmdCh2YWx1ZSAmIDB4ZmYpO1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludChTdHJpbmcodmFsdWUgLyAyNTYpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFkZFNsaWNlKG5ldyBVaW50OEFycmF5KHJlc3VsdCkpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5hbGxvd01pc3NpbmdQcmVmaXggJiYgdHlwZW9mICh2YWx1ZSkgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUuc3Vic3RyaW5nKDAsIDIpICE9PSBcIjB4XCIpIHtcbiAgICAgICAgdmFsdWUgPSBcIjB4XCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzSGV4YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0hleFN0cmluZygpO1xuICAgIH1cbiAgICBpZiAoaXNIZXhTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIGxldCBoZXggPSB2YWx1ZS5zdWJzdHJpbmcoMik7XG4gICAgICAgIGlmIChoZXgubGVuZ3RoICUgMikge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGV4UGFkID09PSBcImxlZnRcIikge1xuICAgICAgICAgICAgICAgIGhleCA9IFwiMHgwXCIgKyBoZXguc3Vic3RyaW5nKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5oZXhQYWQgPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgICAgIGhleCArPSBcIjBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJoZXggZGF0YSBpcyBvZGQtbGVuZ3RoXCIsIFwidmFsdWVcIiwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhleC5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFyc2VJbnQoaGV4LnN1YnN0cmluZyhpLCBpICsgMiksIDE2KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFkZFNsaWNlKG5ldyBVaW50OEFycmF5KHJlc3VsdCkpO1xuICAgIH1cbiAgICBpZiAoaXNCeXRlcyh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFkZFNsaWNlKG5ldyBVaW50OEFycmF5KHZhbHVlKSk7XG4gICAgfVxuICAgIHJldHVybiBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBhcnJheWlmeSB2YWx1ZVwiLCBcInZhbHVlXCIsIHZhbHVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb25jYXQoaXRlbXMpIHtcbiAgICBjb25zdCBvYmplY3RzID0gaXRlbXMubWFwKGl0ZW0gPT4gYXJyYXlpZnkoaXRlbSkpO1xuICAgIGNvbnN0IGxlbmd0aCA9IG9iamVjdHMucmVkdWNlKChhY2N1bSwgaXRlbSkgPT4gKGFjY3VtICsgaXRlbS5sZW5ndGgpLCAwKTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIG9iamVjdHMucmVkdWNlKChvZmZzZXQsIG9iamVjdCkgPT4ge1xuICAgICAgICByZXN1bHQuc2V0KG9iamVjdCwgb2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIG9iamVjdC5sZW5ndGg7XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuIGFkZFNsaWNlKHJlc3VsdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaXBaZXJvcyh2YWx1ZSkge1xuICAgIGxldCByZXN1bHQgPSBhcnJheWlmeSh2YWx1ZSk7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gRmluZCB0aGUgZmlyc3Qgbm9uLXplcm8gZW50cnlcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIHdoaWxlIChzdGFydCA8IHJlc3VsdC5sZW5ndGggJiYgcmVzdWx0W3N0YXJ0XSA9PT0gMCkge1xuICAgICAgICBzdGFydCsrO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBzdGFydGVkIHdpdGggemVyb3MsIHN0cmlwIHRoZW1cbiAgICBpZiAoc3RhcnQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKHN0YXJ0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvUGFkKHZhbHVlLCBsZW5ndGgpIHtcbiAgICB2YWx1ZSA9IGFycmF5aWZ5KHZhbHVlKTtcbiAgICBpZiAodmFsdWUubGVuZ3RoID4gbGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJ2YWx1ZSBvdXQgb2YgcmFuZ2VcIiwgXCJ2YWx1ZVwiLCBhcmd1bWVudHNbMF0pO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIHJlc3VsdC5zZXQodmFsdWUsIGxlbmd0aCAtIHZhbHVlLmxlbmd0aCk7XG4gICAgcmV0dXJuIGFkZFNsaWNlKHJlc3VsdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNIZXhTdHJpbmcodmFsdWUsIGxlbmd0aCkge1xuICAgIGlmICh0eXBlb2YgKHZhbHVlKSAhPT0gXCJzdHJpbmdcIiB8fCAhdmFsdWUubWF0Y2goL14weFswLTlBLUZhLWZdKiQvKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChsZW5ndGggJiYgdmFsdWUubGVuZ3RoICE9PSAyICsgMiAqIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuY29uc3QgSGV4Q2hhcmFjdGVycyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xuZXhwb3J0IGZ1bmN0aW9uIGhleGxpZnkodmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgbG9nZ2VyLmNoZWNrU2FmZVVpbnQ1Myh2YWx1ZSwgXCJpbnZhbGlkIGhleGxpZnkgdmFsdWVcIik7XG4gICAgICAgIGxldCBoZXggPSBcIlwiO1xuICAgICAgICB3aGlsZSAodmFsdWUpIHtcbiAgICAgICAgICAgIGhleCA9IEhleENoYXJhY3RlcnNbdmFsdWUgJiAweGZdICsgaGV4O1xuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlIC8gMTYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZXgubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGV4Lmxlbmd0aCAlIDIpIHtcbiAgICAgICAgICAgICAgICBoZXggPSBcIjBcIiArIGhleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIjB4XCIgKyBoZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiMHgwMFwiO1xuICAgIH1cbiAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygxNik7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggJSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gKFwiMHgwXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiMHhcIiArIHZhbHVlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5hbGxvd01pc3NpbmdQcmVmaXggJiYgdHlwZW9mICh2YWx1ZSkgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUuc3Vic3RyaW5nKDAsIDIpICE9PSBcIjB4XCIpIHtcbiAgICAgICAgdmFsdWUgPSBcIjB4XCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzSGV4YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvSGV4U3RyaW5nKCk7XG4gICAgfVxuICAgIGlmIChpc0hleFN0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAlIDIpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhleFBhZCA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFwiMHgwXCIgKyB2YWx1ZS5zdWJzdHJpbmcoMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLmhleFBhZCA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gXCIwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaGV4IGRhdGEgaXMgb2RkLWxlbmd0aFwiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKGlzQnl0ZXModmFsdWUpKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBcIjB4XCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2ID0gdmFsdWVbaV07XG4gICAgICAgICAgICByZXN1bHQgKz0gSGV4Q2hhcmFjdGVyc1sodiAmIDB4ZjApID4+IDRdICsgSGV4Q2hhcmFjdGVyc1t2ICYgMHgwZl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGhleGxpZnkgdmFsdWVcIiwgXCJ2YWx1ZVwiLCB2YWx1ZSk7XG59XG4vKlxuZnVuY3Rpb24gdW5vZGRpZnkodmFsdWU6IEJ5dGVzTGlrZSB8IEhleGFibGUgfCBudW1iZXIpOiBCeXRlc0xpa2UgfCBIZXhhYmxlIHwgbnVtYmVyIHtcbiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZS5sZW5ndGggJSAyICYmIHZhbHVlLnN1YnN0cmluZygwLCAyKSA9PT0gXCIweFwiKSB7XG4gICAgICAgIHJldHVybiBcIjB4MFwiICsgdmFsdWUuc3Vic3RyaW5nKDIpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGhleERhdGFMZW5ndGgoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgKGRhdGEpICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGRhdGEgPSBoZXhsaWZ5KGRhdGEpO1xuICAgIH1cbiAgICBlbHNlIGlmICghaXNIZXhTdHJpbmcoZGF0YSkgfHwgKGRhdGEubGVuZ3RoICUgMikpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoZGF0YS5sZW5ndGggLSAyKSAvIDI7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4RGF0YVNsaWNlKGRhdGEsIG9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgaWYgKHR5cGVvZiAoZGF0YSkgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgZGF0YSA9IGhleGxpZnkoZGF0YSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc0hleFN0cmluZyhkYXRhKSB8fCAoZGF0YS5sZW5ndGggJSAyKSkge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBoZXhEYXRhXCIsIFwidmFsdWVcIiwgZGF0YSk7XG4gICAgfVxuICAgIG9mZnNldCA9IDIgKyAyICogb2Zmc2V0O1xuICAgIGlmIChlbmRPZmZzZXQgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gXCIweFwiICsgZGF0YS5zdWJzdHJpbmcob2Zmc2V0LCAyICsgMiAqIGVuZE9mZnNldCk7XG4gICAgfVxuICAgIHJldHVybiBcIjB4XCIgKyBkYXRhLnN1YnN0cmluZyhvZmZzZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhleENvbmNhdChpdGVtcykge1xuICAgIGxldCByZXN1bHQgPSBcIjB4XCI7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICByZXN1bHQgKz0gaGV4bGlmeShpdGVtKS5zdWJzdHJpbmcoMik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoZXhWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IHRyaW1tZWQgPSBoZXhTdHJpcFplcm9zKGhleGxpZnkodmFsdWUsIHsgaGV4UGFkOiBcImxlZnRcIiB9KSk7XG4gICAgaWYgKHRyaW1tZWQgPT09IFwiMHhcIikge1xuICAgICAgICByZXR1cm4gXCIweDBcIjtcbiAgICB9XG4gICAgcmV0dXJuIHRyaW1tZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4U3RyaXBaZXJvcyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgKHZhbHVlKSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YWx1ZSA9IGhleGxpZnkodmFsdWUpO1xuICAgIH1cbiAgICBpZiAoIWlzSGV4U3RyaW5nKHZhbHVlKSkge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBoZXggc3RyaW5nXCIsIFwidmFsdWVcIiwgdmFsdWUpO1xuICAgIH1cbiAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygyKTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICB3aGlsZSAob2Zmc2V0IDwgdmFsdWUubGVuZ3RoICYmIHZhbHVlW29mZnNldF0gPT09IFwiMFwiKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgIH1cbiAgICByZXR1cm4gXCIweFwiICsgdmFsdWUuc3Vic3RyaW5nKG9mZnNldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGV4WmVyb1BhZCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgaWYgKHR5cGVvZiAodmFsdWUpICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhbHVlID0gaGV4bGlmeSh2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc0hleFN0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgaGV4IHN0cmluZ1wiLCBcInZhbHVlXCIsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmxlbmd0aCA+IDIgKiBsZW5ndGggKyAyKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJ2YWx1ZSBvdXQgb2YgcmFuZ2VcIiwgXCJ2YWx1ZVwiLCBhcmd1bWVudHNbMV0pO1xuICAgIH1cbiAgICB3aGlsZSAodmFsdWUubGVuZ3RoIDwgMiAqIGxlbmd0aCArIDIpIHtcbiAgICAgICAgdmFsdWUgPSBcIjB4MFwiICsgdmFsdWUuc3Vic3RyaW5nKDIpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gc3BsaXRTaWduYXR1cmUoc2lnbmF0dXJlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICByOiBcIjB4XCIsXG4gICAgICAgIHM6IFwiMHhcIixcbiAgICAgICAgX3ZzOiBcIjB4XCIsXG4gICAgICAgIHJlY292ZXJ5UGFyYW06IDAsXG4gICAgICAgIHY6IDBcbiAgICB9O1xuICAgIGlmIChpc0J5dGVzTGlrZShzaWduYXR1cmUpKSB7XG4gICAgICAgIGNvbnN0IGJ5dGVzID0gYXJyYXlpZnkoc2lnbmF0dXJlKTtcbiAgICAgICAgaWYgKGJ5dGVzLmxlbmd0aCAhPT0gNjUpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIHNpZ25hdHVyZSBzdHJpbmc7IG11c3QgYmUgNjUgYnl0ZXNcIiwgXCJzaWduYXR1cmVcIiwgc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIHIsIHMgYW5kIHZcbiAgICAgICAgcmVzdWx0LnIgPSBoZXhsaWZ5KGJ5dGVzLnNsaWNlKDAsIDMyKSk7XG4gICAgICAgIHJlc3VsdC5zID0gaGV4bGlmeShieXRlcy5zbGljZSgzMiwgNjQpKTtcbiAgICAgICAgcmVzdWx0LnYgPSBieXRlc1s2NF07XG4gICAgICAgIC8vIEFsbG93IGEgcmVjaWQgdG8gYmUgdXNlZCBhcyB0aGUgdlxuICAgICAgICBpZiAocmVzdWx0LnYgPCAyNykge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC52ID09PSAwIHx8IHJlc3VsdC52ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnYgKz0gMjc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwic2lnbmF0dXJlIGludmFsaWQgdiBieXRlXCIsIFwic2lnbmF0dXJlXCIsIHNpZ25hdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29tcHV0ZSByZWNvdmVyeVBhcmFtIGZyb20gdlxuICAgICAgICByZXN1bHQucmVjb3ZlcnlQYXJhbSA9IDEgLSAocmVzdWx0LnYgJSAyKTtcbiAgICAgICAgLy8gQ29tcHV0ZSBfdnMgZnJvbSByZWNvdmVyeVBhcmFtIGFuZCBzXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3ZlcnlQYXJhbSkge1xuICAgICAgICAgICAgYnl0ZXNbMzJdIHw9IDB4ODA7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Ll92cyA9IGhleGxpZnkoYnl0ZXMuc2xpY2UoMzIsIDY0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQuciA9IHNpZ25hdHVyZS5yO1xuICAgICAgICByZXN1bHQucyA9IHNpZ25hdHVyZS5zO1xuICAgICAgICByZXN1bHQudiA9IHNpZ25hdHVyZS52O1xuICAgICAgICByZXN1bHQucmVjb3ZlcnlQYXJhbSA9IHNpZ25hdHVyZS5yZWNvdmVyeVBhcmFtO1xuICAgICAgICByZXN1bHQuX3ZzID0gc2lnbmF0dXJlLl92cztcbiAgICAgICAgLy8gSWYgdGhlIF92cyBpcyBhdmFpbGFibGUsIHVzZSBpdCB0byBwb3B1bGF0ZSBtaXNzaW5nIHMsIHYgYW5kIHJlY292ZXJ5UGFyYW1cbiAgICAgICAgLy8gYW5kIHZlcmlmeSBub24tbWlzc2luZyBzLCB2IGFuZCByZWNvdmVyeVBhcmFtXG4gICAgICAgIGlmIChyZXN1bHQuX3ZzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHZzID0gemVyb1BhZChhcnJheWlmeShyZXN1bHQuX3ZzKSwgMzIpO1xuICAgICAgICAgICAgcmVzdWx0Ll92cyA9IGhleGxpZnkodnMpO1xuICAgICAgICAgICAgLy8gU2V0IG9yIGNoZWNrIHRoZSByZWNpZFxuICAgICAgICAgICAgY29uc3QgcmVjb3ZlcnlQYXJhbSA9ICgodnNbMF0gPj0gMTI4KSA/IDEgOiAwKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQucmVjb3ZlcnlQYXJhbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlY292ZXJ5UGFyYW0gPSByZWNvdmVyeVBhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LnJlY292ZXJ5UGFyYW0gIT09IHJlY292ZXJ5UGFyYW0pIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwic2lnbmF0dXJlIHJlY292ZXJ5UGFyYW0gbWlzbWF0Y2ggX3ZzXCIsIFwic2lnbmF0dXJlXCIsIHNpZ25hdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgb3IgY2hlY2sgdGhlIHNcbiAgICAgICAgICAgIHZzWzBdICY9IDB4N2Y7XG4gICAgICAgICAgICBjb25zdCBzID0gaGV4bGlmeSh2cyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5zID0gcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zICE9PSBzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcInNpZ25hdHVyZSB2IG1pc21hdGNoIF92c1wiLCBcInNpZ25hdHVyZVwiLCBzaWduYXR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSByZWNpZCBhbmQgdiB0byBwb3B1bGF0ZSBlYWNoIG90aGVyXG4gICAgICAgIGlmIChyZXN1bHQucmVjb3ZlcnlQYXJhbSA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnYgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgbWlzc2luZyB2IGFuZCByZWNvdmVyeVBhcmFtXCIsIFwic2lnbmF0dXJlXCIsIHNpZ25hdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQudiA9PT0gMCB8fCByZXN1bHQudiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5yZWNvdmVyeVBhcmFtID0gcmVzdWx0LnY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucmVjb3ZlcnlQYXJhbSA9IDEgLSAocmVzdWx0LnYgJSAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQudiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnYgPSAyNyArIHJlc3VsdC5yZWNvdmVyeVBhcmFtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVjSWQgPSAocmVzdWx0LnYgPT09IDAgfHwgcmVzdWx0LnYgPT09IDEpID8gcmVzdWx0LnYgOiAoMSAtIChyZXN1bHQudiAlIDIpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlY292ZXJ5UGFyYW0gIT09IHJlY0lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgcmVjb3ZlcnlQYXJhbSBtaXNtYXRjaCB2XCIsIFwic2lnbmF0dXJlXCIsIHNpZ25hdHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQuciA9PSBudWxsIHx8ICFpc0hleFN0cmluZyhyZXN1bHQucikpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgbWlzc2luZyBvciBpbnZhbGlkIHJcIiwgXCJzaWduYXR1cmVcIiwgc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5yID0gaGV4WmVyb1BhZChyZXN1bHQuciwgMzIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQucyA9PSBudWxsIHx8ICFpc0hleFN0cmluZyhyZXN1bHQucykpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgbWlzc2luZyBvciBpbnZhbGlkIHNcIiwgXCJzaWduYXR1cmVcIiwgc2lnbmF0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5zID0gaGV4WmVyb1BhZChyZXN1bHQucywgMzIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZzID0gYXJyYXlpZnkocmVzdWx0LnMpO1xuICAgICAgICBpZiAodnNbMF0gPj0gMTI4KSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwic2lnbmF0dXJlIHMgb3V0IG9mIHJhbmdlXCIsIFwic2lnbmF0dXJlXCIsIHNpZ25hdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdC5yZWNvdmVyeVBhcmFtKSB7XG4gICAgICAgICAgICB2c1swXSB8PSAweDgwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IF92cyA9IGhleGxpZnkodnMpO1xuICAgICAgICBpZiAocmVzdWx0Ll92cykge1xuICAgICAgICAgICAgaWYgKCFpc0hleFN0cmluZyhyZXN1bHQuX3ZzKSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgaW52YWxpZCBfdnNcIiwgXCJzaWduYXR1cmVcIiwgc2lnbmF0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5fdnMgPSBoZXhaZXJvUGFkKHJlc3VsdC5fdnMsIDMyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgb3IgY2hlY2sgdGhlIF92c1xuICAgICAgICBpZiAocmVzdWx0Ll92cyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXN1bHQuX3ZzID0gX3ZzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdC5fdnMgIT09IF92cykge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcInNpZ25hdHVyZSBfdnMgbWlzbWF0Y2ggdiBhbmQgc1wiLCBcInNpZ25hdHVyZVwiLCBzaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gam9pblNpZ25hdHVyZShzaWduYXR1cmUpIHtcbiAgICBzaWduYXR1cmUgPSBzcGxpdFNpZ25hdHVyZShzaWduYXR1cmUpO1xuICAgIHJldHVybiBoZXhsaWZ5KGNvbmNhdChbXG4gICAgICAgIHNpZ25hdHVyZS5yLFxuICAgICAgICBzaWduYXR1cmUucyxcbiAgICAgICAgKHNpZ25hdHVyZS5yZWNvdmVyeVBhcmFtID8gXCIweDFjXCIgOiBcIjB4MWJcIilcbiAgICBdKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYmlnbnVtYmVyXCI7XG5jb25zdCBOZWdhdGl2ZU9uZSA9ICggLyojX19QVVJFX18qL0JpZ051bWJlci5mcm9tKC0xKSk7XG5jb25zdCBaZXJvID0gKCAvKiNfX1BVUkVfXyovQmlnTnVtYmVyLmZyb20oMCkpO1xuY29uc3QgT25lID0gKCAvKiNfX1BVUkVfXyovQmlnTnVtYmVyLmZyb20oMSkpO1xuY29uc3QgVHdvID0gKCAvKiNfX1BVUkVfXyovQmlnTnVtYmVyLmZyb20oMikpO1xuY29uc3QgV2VpUGVyRXRoZXIgPSAoIC8qI19fUFVSRV9fKi9CaWdOdW1iZXIuZnJvbShcIjEwMDAwMDAwMDAwMDAwMDAwMDBcIikpO1xuY29uc3QgTWF4VWludDI1NiA9ICggLyojX19QVVJFX18qL0JpZ051bWJlci5mcm9tKFwiMHhmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmXCIpKTtcbmNvbnN0IE1pbkludDI1NiA9ICggLyojX19QVVJFX18qL0JpZ051bWJlci5mcm9tKFwiLTB4ODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiKSk7XG5jb25zdCBNYXhJbnQyNTYgPSAoIC8qI19fUFVSRV9fKi9CaWdOdW1iZXIuZnJvbShcIjB4N2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlwiKSk7XG5leHBvcnQgeyBOZWdhdGl2ZU9uZSwgWmVybywgT25lLCBUd28sIFdlaVBlckV0aGVyLCBNYXhVaW50MjU2LCBNaW5JbnQyNTYsIE1heEludDI1NiwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpZ251bWJlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgc2hhMyBmcm9tIFwianMtc2hhM1wiO1xuaW1wb3J0IHsgYXJyYXlpZnkgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYnl0ZXNcIjtcbmV4cG9ydCBmdW5jdGlvbiBrZWNjYWsyNTYoZGF0YSkge1xuICAgIHJldHVybiAnMHgnICsgc2hhMy5rZWNjYWtfMjU2KGFycmF5aWZ5KGRhdGEpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xubGV0IF9wZXJtYW5lbnRDZW5zb3JFcnJvcnMgPSBmYWxzZTtcbmxldCBfY2Vuc29yRXJyb3JzID0gZmFsc2U7XG5jb25zdCBMb2dMZXZlbHMgPSB7IGRlYnVnOiAxLCBcImRlZmF1bHRcIjogMiwgaW5mbzogMiwgd2FybmluZzogMywgZXJyb3I6IDQsIG9mZjogNSB9O1xubGV0IF9sb2dMZXZlbCA9IExvZ0xldmVsc1tcImRlZmF1bHRcIl07XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vX3ZlcnNpb25cIjtcbmxldCBfZ2xvYmFsTG9nZ2VyID0gbnVsbDtcbmZ1bmN0aW9uIF9jaGVja05vcm1hbGl6ZSgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBtaXNzaW5nID0gW107XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgZm9ybXMgb2Ygbm9ybWFsaXphdGlvbiBhcmUgc3VwcG9ydGVkXG4gICAgICAgIFtcIk5GRFwiLCBcIk5GQ1wiLCBcIk5GS0RcIiwgXCJORktDXCJdLmZvckVhY2goKGZvcm0pID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKFwidGVzdFwiLm5vcm1hbGl6ZShmb3JtKSAhPT0gXCJ0ZXN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmFkIG5vcm1hbGl6ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgbWlzc2luZy5wdXNoKGZvcm0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIFwiICsgbWlzc2luZy5qb2luKFwiLCBcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZTkpLm5vcm1hbGl6ZShcIk5GRFwiKSAhPT0gU3RyaW5nLmZyb21DaGFyQ29kZSgweDY1LCAweDAzMDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJicm9rZW4gaW1wbGVtZW50YXRpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IF9ub3JtYWxpemVFcnJvciA9IF9jaGVja05vcm1hbGl6ZSgpO1xuZXhwb3J0IHZhciBMb2dMZXZlbDtcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcbiAgICBMb2dMZXZlbFtcIkRFQlVHXCJdID0gXCJERUJVR1wiO1xuICAgIExvZ0xldmVsW1wiSU5GT1wiXSA9IFwiSU5GT1wiO1xuICAgIExvZ0xldmVsW1wiV0FSTklOR1wiXSA9IFwiV0FSTklOR1wiO1xuICAgIExvZ0xldmVsW1wiRVJST1JcIl0gPSBcIkVSUk9SXCI7XG4gICAgTG9nTGV2ZWxbXCJPRkZcIl0gPSBcIk9GRlwiO1xufSkoTG9nTGV2ZWwgfHwgKExvZ0xldmVsID0ge30pKTtcbmV4cG9ydCB2YXIgRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChFcnJvckNvZGUpIHtcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gR2VuZXJpYyBFcnJvcnNcbiAgICAvLyBVbmtub3duIEVycm9yXG4gICAgRXJyb3JDb2RlW1wiVU5LTk9XTl9FUlJPUlwiXSA9IFwiVU5LTk9XTl9FUlJPUlwiO1xuICAgIC8vIE5vdCBJbXBsZW1lbnRlZFxuICAgIEVycm9yQ29kZVtcIk5PVF9JTVBMRU1FTlRFRFwiXSA9IFwiTk9UX0lNUExFTUVOVEVEXCI7XG4gICAgLy8gVW5zdXBwb3J0ZWQgT3BlcmF0aW9uXG4gICAgLy8gICAtIG9wZXJhdGlvblxuICAgIEVycm9yQ29kZVtcIlVOU1VQUE9SVEVEX09QRVJBVElPTlwiXSA9IFwiVU5TVVBQT1JURURfT1BFUkFUSU9OXCI7XG4gICAgLy8gTmV0d29yayBFcnJvciAoaS5lLiBFdGhlcmV1bSBOZXR3b3JrLCBzdWNoIGFzIGFuIGludmFsaWQgY2hhaW4gSUQpXG4gICAgLy8gICAtIGV2ZW50IChcIm5vTmV0d29ya1wiIGlzIG5vdCByZS10aHJvd24gaW4gcHJvdmlkZXIucmVhZHk7IG90aGVyd2lzZSB0aHJvd24pXG4gICAgRXJyb3JDb2RlW1wiTkVUV09SS19FUlJPUlwiXSA9IFwiTkVUV09SS19FUlJPUlwiO1xuICAgIC8vIFNvbWUgc29ydCBvZiBiYWQgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyXG4gICAgRXJyb3JDb2RlW1wiU0VSVkVSX0VSUk9SXCJdID0gXCJTRVJWRVJfRVJST1JcIjtcbiAgICAvLyBUaW1lb3V0XG4gICAgRXJyb3JDb2RlW1wiVElNRU9VVFwiXSA9IFwiVElNRU9VVFwiO1xuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBPcGVyYXRpb25hbCAgRXJyb3JzXG4gICAgLy8gQnVmZmVyIE92ZXJydW5cbiAgICBFcnJvckNvZGVbXCJCVUZGRVJfT1ZFUlJVTlwiXSA9IFwiQlVGRkVSX09WRVJSVU5cIjtcbiAgICAvLyBOdW1lcmljIEZhdWx0XG4gICAgLy8gICAtIG9wZXJhdGlvbjogdGhlIG9wZXJhdGlvbiBiZWluZyBleGVjdXRlZFxuICAgIC8vICAgLSBmYXVsdDogdGhlIHJlYXNvbiB0aGlzIGZhdWx0ZWRcbiAgICBFcnJvckNvZGVbXCJOVU1FUklDX0ZBVUxUXCJdID0gXCJOVU1FUklDX0ZBVUxUXCI7XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIEFyZ3VtZW50IEVycm9yc1xuICAgIC8vIE1pc3NpbmcgbmV3IG9wZXJhdG9yIHRvIGFuIG9iamVjdFxuICAgIC8vICAtIG5hbWU6IFRoZSBuYW1lIG9mIHRoZSBjbGFzc1xuICAgIEVycm9yQ29kZVtcIk1JU1NJTkdfTkVXXCJdID0gXCJNSVNTSU5HX05FV1wiO1xuICAgIC8vIEludmFsaWQgYXJndW1lbnQgKGUuZy4gdmFsdWUgaXMgaW5jb21wYXRpYmxlIHdpdGggdHlwZSkgdG8gYSBmdW5jdGlvbjpcbiAgICAvLyAgIC0gYXJndW1lbnQ6IFRoZSBhcmd1bWVudCBuYW1lIHRoYXQgd2FzIGludmFsaWRcbiAgICAvLyAgIC0gdmFsdWU6IFRoZSB2YWx1ZSBvZiB0aGUgYXJndW1lbnRcbiAgICBFcnJvckNvZGVbXCJJTlZBTElEX0FSR1VNRU5UXCJdID0gXCJJTlZBTElEX0FSR1VNRU5UXCI7XG4gICAgLy8gTWlzc2luZyBhcmd1bWVudCB0byBhIGZ1bmN0aW9uOlxuICAgIC8vICAgLSBjb3VudDogVGhlIG51bWJlciBvZiBhcmd1bWVudHMgcmVjZWl2ZWRcbiAgICAvLyAgIC0gZXhwZWN0ZWRDb3VudDogVGhlIG51bWJlciBvZiBhcmd1bWVudHMgZXhwZWN0ZWRcbiAgICBFcnJvckNvZGVbXCJNSVNTSU5HX0FSR1VNRU5UXCJdID0gXCJNSVNTSU5HX0FSR1VNRU5UXCI7XG4gICAgLy8gVG9vIG1hbnkgYXJndW1lbnRzXG4gICAgLy8gICAtIGNvdW50OiBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyByZWNlaXZlZFxuICAgIC8vICAgLSBleHBlY3RlZENvdW50OiBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBleHBlY3RlZFxuICAgIEVycm9yQ29kZVtcIlVORVhQRUNURURfQVJHVU1FTlRcIl0gPSBcIlVORVhQRUNURURfQVJHVU1FTlRcIjtcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQmxvY2tjaGFpbiBFcnJvcnNcbiAgICAvLyBDYWxsIGV4Y2VwdGlvblxuICAgIC8vICAtIHRyYW5zYWN0aW9uOiB0aGUgdHJhbnNhY3Rpb25cbiAgICAvLyAgLSBhZGRyZXNzPzogdGhlIGNvbnRyYWN0IGFkZHJlc3NcbiAgICAvLyAgLSBhcmdzPzogVGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb25cbiAgICAvLyAgLSBtZXRob2Q/OiBUaGUgU29saWRpdHkgbWV0aG9kIHNpZ25hdHVyZVxuICAgIC8vICAtIGVycm9yU2lnbmF0dXJlPzogVGhlIEVJUDg0OCBlcnJvciBzaWduYXR1cmVcbiAgICAvLyAgLSBlcnJvckFyZ3M/OiBUaGUgRUlQODQ4IGVycm9yIHBhcmFtZXRlcnNcbiAgICAvLyAgLSByZWFzb246IFRoZSByZWFzb24gKG9ubHkgZm9yIEVJUDg0OCBcIkVycm9yKHN0cmluZylcIilcbiAgICBFcnJvckNvZGVbXCJDQUxMX0VYQ0VQVElPTlwiXSA9IFwiQ0FMTF9FWENFUFRJT05cIjtcbiAgICAvLyBJbnN1ZmZpY2llbnQgZnVuZHMgKDwgdmFsdWUgKyBnYXNMaW1pdCAqIGdhc1ByaWNlKVxuICAgIC8vICAgLSB0cmFuc2FjdGlvbjogdGhlIHRyYW5zYWN0aW9uIGF0dGVtcHRlZFxuICAgIEVycm9yQ29kZVtcIklOU1VGRklDSUVOVF9GVU5EU1wiXSA9IFwiSU5TVUZGSUNJRU5UX0ZVTkRTXCI7XG4gICAgLy8gTm9uY2UgaGFzIGFscmVhZHkgYmVlbiB1c2VkXG4gICAgLy8gICAtIHRyYW5zYWN0aW9uOiB0aGUgdHJhbnNhY3Rpb24gYXR0ZW1wdGVkXG4gICAgRXJyb3JDb2RlW1wiTk9OQ0VfRVhQSVJFRFwiXSA9IFwiTk9OQ0VfRVhQSVJFRFwiO1xuICAgIC8vIFRoZSByZXBsYWNlbWVudCBmZWUgZm9yIHRoZSB0cmFuc2FjdGlvbiBpcyB0b28gbG93XG4gICAgLy8gICAtIHRyYW5zYWN0aW9uOiB0aGUgdHJhbnNhY3Rpb24gYXR0ZW1wdGVkXG4gICAgRXJyb3JDb2RlW1wiUkVQTEFDRU1FTlRfVU5ERVJQUklDRURcIl0gPSBcIlJFUExBQ0VNRU5UX1VOREVSUFJJQ0VEXCI7XG4gICAgLy8gVGhlIGdhcyBsaW1pdCBjb3VsZCBub3QgYmUgZXN0aW1hdGVkXG4gICAgLy8gICAtIHRyYW5zYWN0aW9uOiB0aGUgdHJhbnNhY3Rpb24gcGFzc2VkIHRvIGVzdGltYXRlR2FzXG4gICAgRXJyb3JDb2RlW1wiVU5QUkVESUNUQUJMRV9HQVNfTElNSVRcIl0gPSBcIlVOUFJFRElDVEFCTEVfR0FTX0xJTUlUXCI7XG4gICAgLy8gVGhlIHRyYW5zYWN0aW9uIHdhcyByZXBsYWNlZCBieSBvbmUgd2l0aCBhIGhpZ2hlciBnYXMgcHJpY2VcbiAgICAvLyAgIC0gcmVhc29uOiBcImNhbmNlbGxlZFwiLCBcInJlcGxhY2VkXCIgb3IgXCJyZXByaWNlZFwiXG4gICAgLy8gICAtIGNhbmNlbGxlZDogdHJ1ZSBpZiByZWFzb24gPT0gXCJjYW5jZWxsZWRcIiBvciByZWFzb24gPT0gXCJyZXBsYWNlZFwiKVxuICAgIC8vICAgLSBoYXNoOiBvcmlnaW5hbCB0cmFuc2FjdGlvbiBoYXNoXG4gICAgLy8gICAtIHJlcGxhY2VtZW50OiB0aGUgZnVsbCBUcmFuc2FjdGlvbnNSZXNwb25zZSBmb3IgdGhlIHJlcGxhY2VtZW50XG4gICAgLy8gICAtIHJlY2VpcHQ6IHRoZSByZWNlaXB0IG9mIHRoZSByZXBsYWNlbWVudFxuICAgIEVycm9yQ29kZVtcIlRSQU5TQUNUSU9OX1JFUExBQ0VEXCJdID0gXCJUUkFOU0FDVElPTl9SRVBMQUNFRFwiO1xufSkoRXJyb3JDb2RlIHx8IChFcnJvckNvZGUgPSB7fSkpO1xuO1xuY29uc3QgSEVYID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2ZXJzaW9uKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcnNpb25cIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiB2ZXJzaW9uLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfbG9nKGxvZ0xldmVsLCBhcmdzKSB7XG4gICAgICAgIGNvbnN0IGxldmVsID0gbG9nTGV2ZWwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKExvZ0xldmVsc1tsZXZlbF0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGxvZyBsZXZlbCBuYW1lXCIsIFwibG9nTGV2ZWxcIiwgbG9nTGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfbG9nTGV2ZWwgPiBMb2dMZXZlbHNbbGV2ZWxdKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgfVxuICAgIGRlYnVnKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fbG9nKExvZ2dlci5sZXZlbHMuREVCVUcsIGFyZ3MpO1xuICAgIH1cbiAgICBpbmZvKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fbG9nKExvZ2dlci5sZXZlbHMuSU5GTywgYXJncyk7XG4gICAgfVxuICAgIHdhcm4oLi4uYXJncykge1xuICAgICAgICB0aGlzLl9sb2coTG9nZ2VyLmxldmVscy5XQVJOSU5HLCBhcmdzKTtcbiAgICB9XG4gICAgbWFrZUVycm9yKG1lc3NhZ2UsIGNvZGUsIHBhcmFtcykge1xuICAgICAgICAvLyBFcnJvcnMgYXJlIGJlaW5nIGNlbnNvcmVkXG4gICAgICAgIGlmIChfY2Vuc29yRXJyb3JzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlRXJyb3IoXCJjZW5zb3JlZCBlcnJvclwiLCBjb2RlLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb2RlKSB7XG4gICAgICAgICAgICBjb2RlID0gTG9nZ2VyLmVycm9ycy5VTktOT1dOX0VSUk9SO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXNzYWdlRGV0YWlscyA9IFtdO1xuICAgICAgICBPYmplY3Qua2V5cyhwYXJhbXMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXNba2V5XTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGV4ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGV4ICs9IEhFWFt2YWx1ZVtpXSA+PiA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhleCArPSBIRVhbdmFsdWVbaV0gJiAweDBmXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlRGV0YWlscy5wdXNoKGtleSArIFwiPVVpbnQ4QXJyYXkoMHhcIiArIGhleCArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VEZXRhaWxzLnB1c2goa2V5ICsgXCI9XCIgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VEZXRhaWxzLnB1c2goa2V5ICsgXCI9XCIgKyBKU09OLnN0cmluZ2lmeShwYXJhbXNba2V5XS50b1N0cmluZygpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtZXNzYWdlRGV0YWlscy5wdXNoKGBjb2RlPSR7Y29kZX1gKTtcbiAgICAgICAgbWVzc2FnZURldGFpbHMucHVzaChgdmVyc2lvbj0ke3RoaXMudmVyc2lvbn1gKTtcbiAgICAgICAgY29uc3QgcmVhc29uID0gbWVzc2FnZTtcbiAgICAgICAgaWYgKG1lc3NhZ2VEZXRhaWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBcIiAoXCIgKyBtZXNzYWdlRGV0YWlscy5qb2luKFwiLCBcIikgKyBcIilcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBAVE9ETzogQW55Pz9cbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIGVycm9yLnJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBlcnJvcltrZXldID0gcGFyYW1zW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIHRocm93RXJyb3IobWVzc2FnZSwgY29kZSwgcGFyYW1zKSB7XG4gICAgICAgIHRocm93IHRoaXMubWFrZUVycm9yKG1lc3NhZ2UsIGNvZGUsIHBhcmFtcyk7XG4gICAgfVxuICAgIHRocm93QXJndW1lbnRFcnJvcihtZXNzYWdlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHJvd0Vycm9yKG1lc3NhZ2UsIExvZ2dlci5lcnJvcnMuSU5WQUxJRF9BUkdVTUVOVCwge1xuICAgICAgICAgICAgYXJndW1lbnQ6IG5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzc2VydChjb25kaXRpb24sIG1lc3NhZ2UsIGNvZGUsIHBhcmFtcykge1xuICAgICAgICBpZiAoISFjb25kaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRocm93RXJyb3IobWVzc2FnZSwgY29kZSwgcGFyYW1zKTtcbiAgICB9XG4gICAgYXNzZXJ0QXJndW1lbnQoY29uZGl0aW9uLCBtZXNzYWdlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoISFjb25kaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRocm93QXJndW1lbnRFcnJvcihtZXNzYWdlLCBuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNoZWNrTm9ybWFsaXplKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwicGxhdGZvcm0gbWlzc2luZyBTdHJpbmcucHJvdG90eXBlLm5vcm1hbGl6ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfbm9ybWFsaXplRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMudGhyb3dFcnJvcihcInBsYXRmb3JtIG1pc3NpbmcgU3RyaW5nLnByb3RvdHlwZS5ub3JtYWxpemVcIiwgTG9nZ2VyLmVycm9ycy5VTlNVUFBPUlRFRF9PUEVSQVRJT04sIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiU3RyaW5nLnByb3RvdHlwZS5ub3JtYWxpemVcIiwgZm9ybTogX25vcm1hbGl6ZUVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGVja1NhZmVVaW50NTModmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiAodmFsdWUpICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwidmFsdWUgbm90IHNhZmVcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDB4MWZmZmZmZmZmZmZmZmYpIHtcbiAgICAgICAgICAgIHRoaXMudGhyb3dFcnJvcihtZXNzYWdlLCBMb2dnZXIuZXJyb3JzLk5VTUVSSUNfRkFVTFQsIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IFwiY2hlY2tTYWZlSW50ZWdlclwiLFxuICAgICAgICAgICAgICAgIGZhdWx0OiBcIm91dC1vZi1zYWZlLXJhbmdlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgJSAxKSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RXJyb3IobWVzc2FnZSwgTG9nZ2VyLmVycm9ycy5OVU1FUklDX0ZBVUxULCB7XG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcImNoZWNrU2FmZUludGVnZXJcIixcbiAgICAgICAgICAgICAgICBmYXVsdDogXCJub24taW50ZWdlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2hlY2tBcmd1bWVudENvdW50KGNvdW50LCBleHBlY3RlZENvdW50LCBtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gXCI6IFwiICsgbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCA8IGV4cGVjdGVkQ291bnQpIHtcbiAgICAgICAgICAgIHRoaXMudGhyb3dFcnJvcihcIm1pc3NpbmcgYXJndW1lbnRcIiArIG1lc3NhZ2UsIExvZ2dlci5lcnJvcnMuTUlTU0lOR19BUkdVTUVOVCwge1xuICAgICAgICAgICAgICAgIGNvdW50OiBjb3VudCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZENvdW50OiBleHBlY3RlZENvdW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQgPiBleHBlY3RlZENvdW50KSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RXJyb3IoXCJ0b28gbWFueSBhcmd1bWVudHNcIiArIG1lc3NhZ2UsIExvZ2dlci5lcnJvcnMuVU5FWFBFQ1RFRF9BUkdVTUVOVCwge1xuICAgICAgICAgICAgICAgIGNvdW50OiBjb3VudCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZENvdW50OiBleHBlY3RlZENvdW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGVja05ldyh0YXJnZXQsIGtpbmQpIHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gT2JqZWN0IHx8IHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RXJyb3IoXCJtaXNzaW5nIG5ld1wiLCBMb2dnZXIuZXJyb3JzLk1JU1NJTkdfTkVXLCB7IG5hbWU6IGtpbmQubmFtZSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGVja0Fic3RyYWN0KHRhcmdldCwga2luZCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSBraW5kKSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RXJyb3IoXCJjYW5ub3QgaW5zdGFudGlhdGUgYWJzdHJhY3QgY2xhc3MgXCIgKyBKU09OLnN0cmluZ2lmeShraW5kLm5hbWUpICsgXCIgZGlyZWN0bHk7IHVzZSBhIHN1Yi1jbGFzc1wiLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwgeyBuYW1lOiB0YXJnZXQubmFtZSwgb3BlcmF0aW9uOiBcIm5ld1wiIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRhcmdldCA9PT0gT2JqZWN0IHx8IHRhcmdldCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRocm93RXJyb3IoXCJtaXNzaW5nIG5ld1wiLCBMb2dnZXIuZXJyb3JzLk1JU1NJTkdfTkVXLCB7IG5hbWU6IGtpbmQubmFtZSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2xvYmFsTG9nZ2VyKCkge1xuICAgICAgICBpZiAoIV9nbG9iYWxMb2dnZXIpIHtcbiAgICAgICAgICAgIF9nbG9iYWxMb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZ2xvYmFsTG9nZ2VyO1xuICAgIH1cbiAgICBzdGF0aWMgc2V0Q2Vuc29yc2hpcChjZW5zb3JzaGlwLCBwZXJtYW5lbnQpIHtcbiAgICAgICAgaWYgKCFjZW5zb3JzaGlwICYmIHBlcm1hbmVudCkge1xuICAgICAgICAgICAgdGhpcy5nbG9iYWxMb2dnZXIoKS50aHJvd0Vycm9yKFwiY2Fubm90IHBlcm1hbmVudGx5IGRpc2FibGUgY2Vuc29yc2hpcFwiLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJzZXRDZW5zb3JzaGlwXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfcGVybWFuZW50Q2Vuc29yRXJyb3JzKSB7XG4gICAgICAgICAgICBpZiAoIWNlbnNvcnNoaXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmdsb2JhbExvZ2dlcigpLnRocm93RXJyb3IoXCJlcnJvciBjZW5zb3JzaGlwIHBlcm1hbmVudFwiLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJzZXRDZW5zb3JzaGlwXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIF9jZW5zb3JFcnJvcnMgPSAhIWNlbnNvcnNoaXA7XG4gICAgICAgIF9wZXJtYW5lbnRDZW5zb3JFcnJvcnMgPSAhIXBlcm1hbmVudDtcbiAgICB9XG4gICAgc3RhdGljIHNldExvZ0xldmVsKGxvZ0xldmVsKSB7XG4gICAgICAgIGNvbnN0IGxldmVsID0gTG9nTGV2ZWxzW2xvZ0xldmVsLnRvTG93ZXJDYXNlKCldO1xuICAgICAgICBpZiAobGV2ZWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgTG9nZ2VyLmdsb2JhbExvZ2dlcigpLndhcm4oXCJpbnZhbGlkIGxvZyBsZXZlbCAtIFwiICsgbG9nTGV2ZWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIF9sb2dMZXZlbCA9IGxldmVsO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbSh2ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuICAgIH1cbn1cbkxvZ2dlci5lcnJvcnMgPSBFcnJvckNvZGU7XG5Mb2dnZXIubGV2ZWxzID0gTG9nTGV2ZWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwibG9nZ2VyLzUuNS4wXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1fdmVyc2lvbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVJlYWRPbmx5KG9iamVjdCwgbmFtZSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgIH0pO1xufVxuLy8gQ3Jhd2wgdXAgdGhlIGNvbnN0cnVjdG9yIGNoYWluIHRvIGZpbmQgYSBzdGF0aWMgbWV0aG9kXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhdGljKGN0b3IsIGtleSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICBpZiAoY3RvcltrZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gY3RvcltrZXldO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY3Rvci5wcm90b3R5cGUgfHwgdHlwZW9mIChjdG9yLnByb3RvdHlwZSkgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3Rvci5wcm90b3R5cGUpLmNvbnN0cnVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlUHJvcGVydGllcyhvYmplY3QpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IE9iamVjdC5rZXlzKG9iamVjdCkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKCh2KSA9PiAoeyBrZXk6IGtleSwgdmFsdWU6IHYgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHlpZWxkIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHMucmVkdWNlKChhY2N1bSwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBhY2N1bVsocmVzdWx0LmtleSldID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGFjY3VtO1xuICAgICAgICB9LCB7fSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tQcm9wZXJ0aWVzKG9iamVjdCwgcHJvcGVydGllcykge1xuICAgIGlmICghb2JqZWN0IHx8IHR5cGVvZiAob2JqZWN0KSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBvYmplY3RcIiwgXCJvYmplY3RcIiwgb2JqZWN0KTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCFwcm9wZXJ0aWVzW2tleV0pIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIG9iamVjdCBrZXkgLSBcIiArIGtleSwgXCJ0cmFuc2FjdGlvbjpcIiArIGtleSwgb2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dDb3B5KG9iamVjdCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IG9iamVjdFtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3Qgb3BhcXVlID0geyBiaWdpbnQ6IHRydWUsIGJvb2xlYW46IHRydWUsIFwiZnVuY3Rpb25cIjogdHJ1ZSwgbnVtYmVyOiB0cnVlLCBzdHJpbmc6IHRydWUgfTtcbmZ1bmN0aW9uIF9pc0Zyb3plbihvYmplY3QpIHtcbiAgICAvLyBPcGFxdWUgb2JqZWN0cyBhcmUgbm90IG11dGFibGUsIHNvIHNhZmUgdG8gY29weSBieSBhc3NpZ25tZW50XG4gICAgaWYgKG9iamVjdCA9PT0gdW5kZWZpbmVkIHx8IG9iamVjdCA9PT0gbnVsbCB8fCBvcGFxdWVbdHlwZW9mIChvYmplY3QpXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSB8fCB0eXBlb2YgKG9iamVjdCkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKCFPYmplY3QuaXNGcm96ZW4ob2JqZWN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleXNbaV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgYWNjZXNzaW5nIGEgdmFsdWUgdHJpZ2dlcnMgYW4gZXJyb3IsIGl0IGlzIGEgZ2V0dGVyXG4gICAgICAgICAgICAgICAgLy8gZGVzaWduZWQgdG8gZG8gc28gKGUuZy4gUmVzdWx0KSBhbmQgaXMgdGhlcmVmb3JlIFwiZnJvemVuXCJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghX2lzRnJvemVuKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoYENhbm5vdCBkZWVwQ29weSAke3R5cGVvZiAob2JqZWN0KX1gLCBcIm9iamVjdFwiLCBvYmplY3QpO1xufVxuLy8gUmV0dXJucyBhIG5ldyBjb3B5IG9mIG9iamVjdCwgc3VjaCB0aGF0IG5vIHByb3BlcnRpZXMgbWF5IGJlIHJlcGxhY2VkLlxuLy8gTmV3IHByb3BlcnRpZXMgbWF5IGJlIGFkZGVkIG9ubHkgdG8gb2JqZWN0cy5cbmZ1bmN0aW9uIF9kZWVwQ29weShvYmplY3QpIHtcbiAgICBpZiAoX2lzRnJvemVuKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gICAgLy8gQXJyYXlzIGFyZSBtdXRhYmxlLCBzbyB3ZSBuZWVkIHRvIGNyZWF0ZSBhIGNvcHlcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZnJlZXplKG9iamVjdC5tYXAoKGl0ZW0pID0+IGRlZXBDb3B5KGl0ZW0pKSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKG9iamVjdCkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZpbmVSZWFkT25seShyZXN1bHQsIGtleSwgZGVlcENvcHkodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihgQ2Fubm90IGRlZXBDb3B5ICR7dHlwZW9mIChvYmplY3QpfWAsIFwib2JqZWN0XCIsIG9iamVjdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVlcENvcHkob2JqZWN0KSB7XG4gICAgcmV0dXJuIF9kZWVwQ29weShvYmplY3QpO1xufVxuZXhwb3J0IGNsYXNzIERlc2NyaXB0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihpbmZvKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGluZm8pIHtcbiAgICAgICAgICAgIHRoaXNba2V5XSA9IGRlZXBDb3B5KGluZm9ba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJleHBvcnQgY29uc3QgdmVyc2lvbiA9IFwicHJvcGVydGllcy81LjUuMFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3ZlcnNpb24uanMubWFwIiwiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSBcInJscC81LjUuMFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3ZlcnNpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vL1NlZTogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVyZXVtL3dpa2kvd2lraS9STFBcbmltcG9ydCB7IGFycmF5aWZ5LCBoZXhsaWZ5LCBpc0J5dGVzTGlrZSB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9ieXRlc1wiO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L2xvZ2dlclwiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuL192ZXJzaW9uXCI7XG5jb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHZlcnNpb24pO1xuZnVuY3Rpb24gYXJyYXlpZnlJbnRlZ2VyKHZhbHVlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgd2hpbGUgKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdC51bnNoaWZ0KHZhbHVlICYgMHhmZik7XG4gICAgICAgIHZhbHVlID4+PSA4O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdW5hcnJheWlmeUludGVnZXIoZGF0YSwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCA9IChyZXN1bHQgKiAyNTYpICsgZGF0YVtvZmZzZXQgKyBpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIF9lbmNvZGUob2JqZWN0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgICAgICBsZXQgcGF5bG9hZCA9IFtdO1xuICAgICAgICBvYmplY3QuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHBheWxvYWQgPSBwYXlsb2FkLmNvbmNhdChfZW5jb2RlKGNoaWxkKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocGF5bG9hZC5sZW5ndGggPD0gNTUpIHtcbiAgICAgICAgICAgIHBheWxvYWQudW5zaGlmdCgweGMwICsgcGF5bG9hZC5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVuZ3RoID0gYXJyYXlpZnlJbnRlZ2VyKHBheWxvYWQubGVuZ3RoKTtcbiAgICAgICAgbGVuZ3RoLnVuc2hpZnQoMHhmNyArIGxlbmd0aC5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gbGVuZ3RoLmNvbmNhdChwYXlsb2FkKTtcbiAgICB9XG4gICAgaWYgKCFpc0J5dGVzTGlrZShvYmplY3QpKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJSTFAgb2JqZWN0IG11c3QgYmUgQnl0ZXNMaWtlXCIsIFwib2JqZWN0XCIsIG9iamVjdCk7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnJheWlmeShvYmplY3QpKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggPT09IDEgJiYgZGF0YVswXSA8PSAweDdmKSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBlbHNlIGlmIChkYXRhLmxlbmd0aCA8PSA1NSkge1xuICAgICAgICBkYXRhLnVuc2hpZnQoMHg4MCArIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGNvbnN0IGxlbmd0aCA9IGFycmF5aWZ5SW50ZWdlcihkYXRhLmxlbmd0aCk7XG4gICAgbGVuZ3RoLnVuc2hpZnQoMHhiNyArIGxlbmd0aC5sZW5ndGgpO1xuICAgIHJldHVybiBsZW5ndGguY29uY2F0KGRhdGEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZShvYmplY3QpIHtcbiAgICByZXR1cm4gaGV4bGlmeShfZW5jb2RlKG9iamVjdCkpO1xufVxuZnVuY3Rpb24gX2RlY29kZUNoaWxkcmVuKGRhdGEsIG9mZnNldCwgY2hpbGRPZmZzZXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlIChjaGlsZE9mZnNldCA8IG9mZnNldCArIDEgKyBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IF9kZWNvZGUoZGF0YSwgY2hpbGRPZmZzZXQpO1xuICAgICAgICByZXN1bHQucHVzaChkZWNvZGVkLnJlc3VsdCk7XG4gICAgICAgIGNoaWxkT2Zmc2V0ICs9IGRlY29kZWQuY29uc3VtZWQ7XG4gICAgICAgIGlmIChjaGlsZE9mZnNldCA+IG9mZnNldCArIDEgKyBsZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwiY2hpbGQgZGF0YSB0b28gc2hvcnRcIiwgTG9nZ2VyLmVycm9ycy5CVUZGRVJfT1ZFUlJVTiwge30pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGNvbnN1bWVkOiAoMSArIGxlbmd0aCksIHJlc3VsdDogcmVzdWx0IH07XG59XG4vLyByZXR1cm5zIHsgY29uc3VtZWQ6IG51bWJlciwgcmVzdWx0OiBPYmplY3QgfVxuZnVuY3Rpb24gX2RlY29kZShkYXRhLCBvZmZzZXQpIHtcbiAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJkYXRhIHRvbyBzaG9ydFwiLCBMb2dnZXIuZXJyb3JzLkJVRkZFUl9PVkVSUlVOLCB7fSk7XG4gICAgfVxuICAgIC8vIEFycmF5IHdpdGggZXh0cmEgbGVuZ3RoIHByZWZpeFxuICAgIGlmIChkYXRhW29mZnNldF0gPj0gMHhmOCkge1xuICAgICAgICBjb25zdCBsZW5ndGhMZW5ndGggPSBkYXRhW29mZnNldF0gLSAweGY3O1xuICAgICAgICBpZiAob2Zmc2V0ICsgMSArIGxlbmd0aExlbmd0aCA+IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dFcnJvcihcImRhdGEgc2hvcnQgc2VnbWVudCB0b28gc2hvcnRcIiwgTG9nZ2VyLmVycm9ycy5CVUZGRVJfT1ZFUlJVTiwge30pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHVuYXJyYXlpZnlJbnRlZ2VyKGRhdGEsIG9mZnNldCArIDEsIGxlbmd0aExlbmd0aCk7XG4gICAgICAgIGlmIChvZmZzZXQgKyAxICsgbGVuZ3RoTGVuZ3RoICsgbGVuZ3RoID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwiZGF0YSBsb25nIHNlZ21lbnQgdG9vIHNob3J0XCIsIExvZ2dlci5lcnJvcnMuQlVGRkVSX09WRVJSVU4sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2RlY29kZUNoaWxkcmVuKGRhdGEsIG9mZnNldCwgb2Zmc2V0ICsgMSArIGxlbmd0aExlbmd0aCwgbGVuZ3RoTGVuZ3RoICsgbGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGF0YVtvZmZzZXRdID49IDB4YzApIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gZGF0YVtvZmZzZXRdIC0gMHhjMDtcbiAgICAgICAgaWYgKG9mZnNldCArIDEgKyBsZW5ndGggPiBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93RXJyb3IoXCJkYXRhIGFycmF5IHRvbyBzaG9ydFwiLCBMb2dnZXIuZXJyb3JzLkJVRkZFUl9PVkVSUlVOLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9kZWNvZGVDaGlsZHJlbihkYXRhLCBvZmZzZXQsIG9mZnNldCArIDEsIGxlbmd0aCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGFbb2Zmc2V0XSA+PSAweGI4KSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aExlbmd0aCA9IGRhdGFbb2Zmc2V0XSAtIDB4Yjc7XG4gICAgICAgIGlmIChvZmZzZXQgKyAxICsgbGVuZ3RoTGVuZ3RoID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwiZGF0YSBhcnJheSB0b28gc2hvcnRcIiwgTG9nZ2VyLmVycm9ycy5CVUZGRVJfT1ZFUlJVTiwge30pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHVuYXJyYXlpZnlJbnRlZ2VyKGRhdGEsIG9mZnNldCArIDEsIGxlbmd0aExlbmd0aCk7XG4gICAgICAgIGlmIChvZmZzZXQgKyAxICsgbGVuZ3RoTGVuZ3RoICsgbGVuZ3RoID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwiZGF0YSBhcnJheSB0b28gc2hvcnRcIiwgTG9nZ2VyLmVycm9ycy5CVUZGRVJfT1ZFUlJVTiwge30pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGhleGxpZnkoZGF0YS5zbGljZShvZmZzZXQgKyAxICsgbGVuZ3RoTGVuZ3RoLCBvZmZzZXQgKyAxICsgbGVuZ3RoTGVuZ3RoICsgbGVuZ3RoKSk7XG4gICAgICAgIHJldHVybiB7IGNvbnN1bWVkOiAoMSArIGxlbmd0aExlbmd0aCArIGxlbmd0aCksIHJlc3VsdDogcmVzdWx0IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGRhdGFbb2Zmc2V0XSA+PSAweDgwKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGRhdGFbb2Zmc2V0XSAtIDB4ODA7XG4gICAgICAgIGlmIChvZmZzZXQgKyAxICsgbGVuZ3RoID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0Vycm9yKFwiZGF0YSB0b28gc2hvcnRcIiwgTG9nZ2VyLmVycm9ycy5CVUZGRVJfT1ZFUlJVTiwge30pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGhleGxpZnkoZGF0YS5zbGljZShvZmZzZXQgKyAxLCBvZmZzZXQgKyAxICsgbGVuZ3RoKSk7XG4gICAgICAgIHJldHVybiB7IGNvbnN1bWVkOiAoMSArIGxlbmd0aCksIHJlc3VsdDogcmVzdWx0IH07XG4gICAgfVxuICAgIHJldHVybiB7IGNvbnN1bWVkOiAxLCByZXN1bHQ6IGhleGxpZnkoZGF0YVtvZmZzZXRdKSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShkYXRhKSB7XG4gICAgY29uc3QgYnl0ZXMgPSBhcnJheWlmeShkYXRhKTtcbiAgICBjb25zdCBkZWNvZGVkID0gX2RlY29kZShieXRlcywgMCk7XG4gICAgaWYgKGRlY29kZWQuY29uc3VtZWQgIT09IGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBybHAgZGF0YVwiLCBcImRhdGFcIiwgZGF0YSk7XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkLnJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCBCTiBmcm9tICdibi5qcyc7XG5pbXBvcnQgaGFzaCBmcm9tICdoYXNoLmpzJztcblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRFeHBvcnRGcm9tQ2pzICh4KSB7XG5cdHJldHVybiB4ICYmIHguX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ2RlZmF1bHQnKSA/IHhbJ2RlZmF1bHQnXSA6IHg7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZuLCBiYXNlZGlyLCBtb2R1bGUpIHtcblx0cmV0dXJuIG1vZHVsZSA9IHtcblx0XHRwYXRoOiBiYXNlZGlyLFxuXHRcdGV4cG9ydHM6IHt9LFxuXHRcdHJlcXVpcmU6IGZ1bmN0aW9uIChwYXRoLCBiYXNlKSB7XG5cdFx0XHRyZXR1cm4gY29tbW9uanNSZXF1aXJlKHBhdGgsIChiYXNlID09PSB1bmRlZmluZWQgfHwgYmFzZSA9PT0gbnVsbCkgPyBtb2R1bGUucGF0aCA6IGJhc2UpO1xuXHRcdH1cblx0fSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xufVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0RXhwb3J0RnJvbU5hbWVzcGFjZUlmUHJlc2VudCAobikge1xuXHRyZXR1cm4gbiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgJ2RlZmF1bHQnKSA/IG5bJ2RlZmF1bHQnXSA6IG47XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRFeHBvcnRGcm9tTmFtZXNwYWNlSWZOb3ROYW1lZCAobikge1xuXHRyZXR1cm4gbiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgJ2RlZmF1bHQnKSAmJiBPYmplY3Qua2V5cyhuKS5sZW5ndGggPT09IDEgPyBuWydkZWZhdWx0J10gOiBuO1xufVxuXG5mdW5jdGlvbiBnZXRBdWdtZW50ZWROYW1lc3BhY2Uobikge1xuXHRpZiAobi5fX2VzTW9kdWxlKSByZXR1cm4gbjtcblx0dmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7XG5cdE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24gKGspIHtcblx0XHR2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsIGssIGQuZ2V0ID8gZCA6IHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIG5ba107XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHRyZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gY29tbW9uanNSZXF1aXJlICgpIHtcblx0dGhyb3cgbmV3IEVycm9yKCdEeW5hbWljIHJlcXVpcmVzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBieSBAcm9sbHVwL3BsdWdpbi1jb21tb25qcycpO1xufVxuXG52YXIgbWluaW1hbGlzdGljQXNzZXJ0ID0gYXNzZXJ0O1xuXG5mdW5jdGlvbiBhc3NlcnQodmFsLCBtc2cpIHtcbiAgaWYgKCF2YWwpXG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyB8fCAnQXNzZXJ0aW9uIGZhaWxlZCcpO1xufVxuXG5hc3NlcnQuZXF1YWwgPSBmdW5jdGlvbiBhc3NlcnRFcXVhbChsLCByLCBtc2cpIHtcbiAgaWYgKGwgIT0gcilcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnIHx8ICgnQXNzZXJ0aW9uIGZhaWxlZDogJyArIGwgKyAnICE9ICcgKyByKSk7XG59O1xuXG52YXIgdXRpbHNfMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gZXhwb3J0cztcblxuZnVuY3Rpb24gdG9BcnJheShtc2csIGVuYykge1xuICBpZiAoQXJyYXkuaXNBcnJheShtc2cpKVxuICAgIHJldHVybiBtc2cuc2xpY2UoKTtcbiAgaWYgKCFtc2cpXG4gICAgcmV0dXJuIFtdO1xuICB2YXIgcmVzID0gW107XG4gIGlmICh0eXBlb2YgbXNnICE9PSAnc3RyaW5nJykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKVxuICAgICAgcmVzW2ldID0gbXNnW2ldIHwgMDtcbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmIChlbmMgPT09ICdoZXgnKSB7XG4gICAgbXNnID0gbXNnLnJlcGxhY2UoL1teYS16MC05XSsvaWcsICcnKTtcbiAgICBpZiAobXNnLmxlbmd0aCAlIDIgIT09IDApXG4gICAgICBtc2cgPSAnMCcgKyBtc2c7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpICs9IDIpXG4gICAgICByZXMucHVzaChwYXJzZUludChtc2dbaV0gKyBtc2dbaSArIDFdLCAxNikpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IG1zZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgdmFyIGhpID0gYyA+PiA4O1xuICAgICAgdmFyIGxvID0gYyAmIDB4ZmY7XG4gICAgICBpZiAoaGkpXG4gICAgICAgIHJlcy5wdXNoKGhpLCBsbyk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlcy5wdXNoKGxvKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbnV0aWxzLnRvQXJyYXkgPSB0b0FycmF5O1xuXG5mdW5jdGlvbiB6ZXJvMih3b3JkKSB7XG4gIGlmICh3b3JkLmxlbmd0aCA9PT0gMSlcbiAgICByZXR1cm4gJzAnICsgd29yZDtcbiAgZWxzZVxuICAgIHJldHVybiB3b3JkO1xufVxudXRpbHMuemVybzIgPSB6ZXJvMjtcblxuZnVuY3Rpb24gdG9IZXgobXNnKSB7XG4gIHZhciByZXMgPSAnJztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpKyspXG4gICAgcmVzICs9IHplcm8yKG1zZ1tpXS50b1N0cmluZygxNikpO1xuICByZXR1cm4gcmVzO1xufVxudXRpbHMudG9IZXggPSB0b0hleDtcblxudXRpbHMuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKGFyciwgZW5jKSB7XG4gIGlmIChlbmMgPT09ICdoZXgnKVxuICAgIHJldHVybiB0b0hleChhcnIpO1xuICBlbHNlXG4gICAgcmV0dXJuIGFycjtcbn07XG59KTtcblxudmFyIHV0aWxzXzEkMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gZXhwb3J0cztcblxuXG5cblxudXRpbHMuYXNzZXJ0ID0gbWluaW1hbGlzdGljQXNzZXJ0O1xudXRpbHMudG9BcnJheSA9IHV0aWxzXzEudG9BcnJheTtcbnV0aWxzLnplcm8yID0gdXRpbHNfMS56ZXJvMjtcbnV0aWxzLnRvSGV4ID0gdXRpbHNfMS50b0hleDtcbnV0aWxzLmVuY29kZSA9IHV0aWxzXzEuZW5jb2RlO1xuXG4vLyBSZXByZXNlbnQgbnVtIGluIGEgdy1OQUYgZm9ybVxuZnVuY3Rpb24gZ2V0TkFGKG51bSwgdywgYml0cykge1xuICB2YXIgbmFmID0gbmV3IEFycmF5KE1hdGgubWF4KG51bS5iaXRMZW5ndGgoKSwgYml0cykgKyAxKTtcbiAgbmFmLmZpbGwoMCk7XG5cbiAgdmFyIHdzID0gMSA8PCAodyArIDEpO1xuICB2YXIgayA9IG51bS5jbG9uZSgpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbmFmLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHo7XG4gICAgdmFyIG1vZCA9IGsuYW5kbG4od3MgLSAxKTtcbiAgICBpZiAoay5pc09kZCgpKSB7XG4gICAgICBpZiAobW9kID4gKHdzID4+IDEpIC0gMSlcbiAgICAgICAgeiA9ICh3cyA+PiAxKSAtIG1vZDtcbiAgICAgIGVsc2VcbiAgICAgICAgeiA9IG1vZDtcbiAgICAgIGsuaXN1Ym4oeik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHogPSAwO1xuICAgIH1cblxuICAgIG5hZltpXSA9IHo7XG4gICAgay5pdXNocm4oMSk7XG4gIH1cblxuICByZXR1cm4gbmFmO1xufVxudXRpbHMuZ2V0TkFGID0gZ2V0TkFGO1xuXG4vLyBSZXByZXNlbnQgazEsIGsyIGluIGEgSm9pbnQgU3BhcnNlIEZvcm1cbmZ1bmN0aW9uIGdldEpTRihrMSwgazIpIHtcbiAgdmFyIGpzZiA9IFtcbiAgICBbXSxcbiAgICBbXSxcbiAgXTtcblxuICBrMSA9IGsxLmNsb25lKCk7XG4gIGsyID0gazIuY2xvbmUoKTtcbiAgdmFyIGQxID0gMDtcbiAgdmFyIGQyID0gMDtcbiAgdmFyIG04O1xuICB3aGlsZSAoazEuY21wbigtZDEpID4gMCB8fCBrMi5jbXBuKC1kMikgPiAwKSB7XG4gICAgLy8gRmlyc3QgcGhhc2VcbiAgICB2YXIgbTE0ID0gKGsxLmFuZGxuKDMpICsgZDEpICYgMztcbiAgICB2YXIgbTI0ID0gKGsyLmFuZGxuKDMpICsgZDIpICYgMztcbiAgICBpZiAobTE0ID09PSAzKVxuICAgICAgbTE0ID0gLTE7XG4gICAgaWYgKG0yNCA9PT0gMylcbiAgICAgIG0yNCA9IC0xO1xuICAgIHZhciB1MTtcbiAgICBpZiAoKG0xNCAmIDEpID09PSAwKSB7XG4gICAgICB1MSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIG04ID0gKGsxLmFuZGxuKDcpICsgZDEpICYgNztcbiAgICAgIGlmICgobTggPT09IDMgfHwgbTggPT09IDUpICYmIG0yNCA9PT0gMilcbiAgICAgICAgdTEgPSAtbTE0O1xuICAgICAgZWxzZVxuICAgICAgICB1MSA9IG0xNDtcbiAgICB9XG4gICAganNmWzBdLnB1c2godTEpO1xuXG4gICAgdmFyIHUyO1xuICAgIGlmICgobTI0ICYgMSkgPT09IDApIHtcbiAgICAgIHUyID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbTggPSAoazIuYW5kbG4oNykgKyBkMikgJiA3O1xuICAgICAgaWYgKChtOCA9PT0gMyB8fCBtOCA9PT0gNSkgJiYgbTE0ID09PSAyKVxuICAgICAgICB1MiA9IC1tMjQ7XG4gICAgICBlbHNlXG4gICAgICAgIHUyID0gbTI0O1xuICAgIH1cbiAgICBqc2ZbMV0ucHVzaCh1Mik7XG5cbiAgICAvLyBTZWNvbmQgcGhhc2VcbiAgICBpZiAoMiAqIGQxID09PSB1MSArIDEpXG4gICAgICBkMSA9IDEgLSBkMTtcbiAgICBpZiAoMiAqIGQyID09PSB1MiArIDEpXG4gICAgICBkMiA9IDEgLSBkMjtcbiAgICBrMS5pdXNocm4oMSk7XG4gICAgazIuaXVzaHJuKDEpO1xuICB9XG5cbiAgcmV0dXJuIGpzZjtcbn1cbnV0aWxzLmdldEpTRiA9IGdldEpTRjtcblxuZnVuY3Rpb24gY2FjaGVkUHJvcGVydHkob2JqLCBuYW1lLCBjb21wdXRlcikge1xuICB2YXIga2V5ID0gJ18nICsgbmFtZTtcbiAgb2JqLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uIGNhY2hlZFByb3BlcnR5KCkge1xuICAgIHJldHVybiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCA/IHRoaXNba2V5XSA6XG4gICAgICB0aGlzW2tleV0gPSBjb21wdXRlci5jYWxsKHRoaXMpO1xuICB9O1xufVxudXRpbHMuY2FjaGVkUHJvcGVydHkgPSBjYWNoZWRQcm9wZXJ0eTtcblxuZnVuY3Rpb24gcGFyc2VCeXRlcyhieXRlcykge1xuICByZXR1cm4gdHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJyA/IHV0aWxzLnRvQXJyYXkoYnl0ZXMsICdoZXgnKSA6XG4gICAgYnl0ZXM7XG59XG51dGlscy5wYXJzZUJ5dGVzID0gcGFyc2VCeXRlcztcblxuZnVuY3Rpb24gaW50RnJvbUxFKGJ5dGVzKSB7XG4gIHJldHVybiBuZXcgQk4oYnl0ZXMsICdoZXgnLCAnbGUnKTtcbn1cbnV0aWxzLmludEZyb21MRSA9IGludEZyb21MRTtcbn0pO1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG52YXIgZ2V0TkFGID0gdXRpbHNfMSQxLmdldE5BRjtcbnZhciBnZXRKU0YgPSB1dGlsc18xJDEuZ2V0SlNGO1xudmFyIGFzc2VydCQxID0gdXRpbHNfMSQxLmFzc2VydDtcblxuZnVuY3Rpb24gQmFzZUN1cnZlKHR5cGUsIGNvbmYpIHtcbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgdGhpcy5wID0gbmV3IEJOKGNvbmYucCwgMTYpO1xuXG4gIC8vIFVzZSBNb250Z29tZXJ5LCB3aGVuIHRoZXJlIGlzIG5vIGZhc3QgcmVkdWN0aW9uIGZvciB0aGUgcHJpbWVcbiAgdGhpcy5yZWQgPSBjb25mLnByaW1lID8gQk4ucmVkKGNvbmYucHJpbWUpIDogQk4ubW9udCh0aGlzLnApO1xuXG4gIC8vIFVzZWZ1bCBmb3IgbWFueSBjdXJ2ZXNcbiAgdGhpcy56ZXJvID0gbmV3IEJOKDApLnRvUmVkKHRoaXMucmVkKTtcbiAgdGhpcy5vbmUgPSBuZXcgQk4oMSkudG9SZWQodGhpcy5yZWQpO1xuICB0aGlzLnR3byA9IG5ldyBCTigyKS50b1JlZCh0aGlzLnJlZCk7XG5cbiAgLy8gQ3VydmUgY29uZmlndXJhdGlvbiwgb3B0aW9uYWxcbiAgdGhpcy5uID0gY29uZi5uICYmIG5ldyBCTihjb25mLm4sIDE2KTtcbiAgdGhpcy5nID0gY29uZi5nICYmIHRoaXMucG9pbnRGcm9tSlNPTihjb25mLmcsIGNvbmYuZ1JlZCk7XG5cbiAgLy8gVGVtcG9yYXJ5IGFycmF5c1xuICB0aGlzLl93bmFmVDEgPSBuZXcgQXJyYXkoNCk7XG4gIHRoaXMuX3duYWZUMiA9IG5ldyBBcnJheSg0KTtcbiAgdGhpcy5fd25hZlQzID0gbmV3IEFycmF5KDQpO1xuICB0aGlzLl93bmFmVDQgPSBuZXcgQXJyYXkoNCk7XG5cbiAgdGhpcy5fYml0TGVuZ3RoID0gdGhpcy5uID8gdGhpcy5uLmJpdExlbmd0aCgpIDogMDtcblxuICAvLyBHZW5lcmFsaXplZCBHcmVnIE1heHdlbGwncyB0cmlja1xuICB2YXIgYWRqdXN0Q291bnQgPSB0aGlzLm4gJiYgdGhpcy5wLmRpdih0aGlzLm4pO1xuICBpZiAoIWFkanVzdENvdW50IHx8IGFkanVzdENvdW50LmNtcG4oMTAwKSA+IDApIHtcbiAgICB0aGlzLnJlZE4gPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX21heHdlbGxUcmljayA9IHRydWU7XG4gICAgdGhpcy5yZWROID0gdGhpcy5uLnRvUmVkKHRoaXMucmVkKTtcbiAgfVxufVxudmFyIGJhc2UgPSBCYXNlQ3VydmU7XG5cbkJhc2VDdXJ2ZS5wcm90b3R5cGUucG9pbnQgPSBmdW5jdGlvbiBwb2ludCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cbkJhc2VDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cbkJhc2VDdXJ2ZS5wcm90b3R5cGUuX2ZpeGVkTmFmTXVsID0gZnVuY3Rpb24gX2ZpeGVkTmFmTXVsKHAsIGspIHtcbiAgYXNzZXJ0JDEocC5wcmVjb21wdXRlZCk7XG4gIHZhciBkb3VibGVzID0gcC5fZ2V0RG91YmxlcygpO1xuXG4gIHZhciBuYWYgPSBnZXROQUYoaywgMSwgdGhpcy5fYml0TGVuZ3RoKTtcbiAgdmFyIEkgPSAoMSA8PCAoZG91Ymxlcy5zdGVwICsgMSkpIC0gKGRvdWJsZXMuc3RlcCAlIDIgPT09IDAgPyAyIDogMSk7XG4gIEkgLz0gMztcblxuICAvLyBUcmFuc2xhdGUgaW50byBtb3JlIHdpbmRvd2VkIGZvcm1cbiAgdmFyIHJlcHIgPSBbXTtcbiAgdmFyIGo7XG4gIHZhciBuYWZXO1xuICBmb3IgKGogPSAwOyBqIDwgbmFmLmxlbmd0aDsgaiArPSBkb3VibGVzLnN0ZXApIHtcbiAgICBuYWZXID0gMDtcbiAgICBmb3IgKHZhciBsID0gaiArIGRvdWJsZXMuc3RlcCAtIDE7IGwgPj0gajsgbC0tKVxuICAgICAgbmFmVyA9IChuYWZXIDw8IDEpICsgbmFmW2xdO1xuICAgIHJlcHIucHVzaChuYWZXKTtcbiAgfVxuXG4gIHZhciBhID0gdGhpcy5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCk7XG4gIHZhciBiID0gdGhpcy5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCk7XG4gIGZvciAodmFyIGkgPSBJOyBpID4gMDsgaS0tKSB7XG4gICAgZm9yIChqID0gMDsgaiA8IHJlcHIubGVuZ3RoOyBqKyspIHtcbiAgICAgIG5hZlcgPSByZXByW2pdO1xuICAgICAgaWYgKG5hZlcgPT09IGkpXG4gICAgICAgIGIgPSBiLm1peGVkQWRkKGRvdWJsZXMucG9pbnRzW2pdKTtcbiAgICAgIGVsc2UgaWYgKG5hZlcgPT09IC1pKVxuICAgICAgICBiID0gYi5taXhlZEFkZChkb3VibGVzLnBvaW50c1tqXS5uZWcoKSk7XG4gICAgfVxuICAgIGEgPSBhLmFkZChiKTtcbiAgfVxuICByZXR1cm4gYS50b1AoKTtcbn07XG5cbkJhc2VDdXJ2ZS5wcm90b3R5cGUuX3duYWZNdWwgPSBmdW5jdGlvbiBfd25hZk11bChwLCBrKSB7XG4gIHZhciB3ID0gNDtcblxuICAvLyBQcmVjb21wdXRlIHdpbmRvd1xuICB2YXIgbmFmUG9pbnRzID0gcC5fZ2V0TkFGUG9pbnRzKHcpO1xuICB3ID0gbmFmUG9pbnRzLnduZDtcbiAgdmFyIHduZCA9IG5hZlBvaW50cy5wb2ludHM7XG5cbiAgLy8gR2V0IE5BRiBmb3JtXG4gIHZhciBuYWYgPSBnZXROQUYoaywgdywgdGhpcy5fYml0TGVuZ3RoKTtcblxuICAvLyBBZGQgYHRoaXNgKihOKzEpIGZvciBldmVyeSB3LU5BRiBpbmRleFxuICB2YXIgYWNjID0gdGhpcy5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCk7XG4gIGZvciAodmFyIGkgPSBuYWYubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAvLyBDb3VudCB6ZXJvZXNcbiAgICBmb3IgKHZhciBsID0gMDsgaSA+PSAwICYmIG5hZltpXSA9PT0gMDsgaS0tKVxuICAgICAgbCsrO1xuICAgIGlmIChpID49IDApXG4gICAgICBsKys7XG4gICAgYWNjID0gYWNjLmRibHAobCk7XG5cbiAgICBpZiAoaSA8IDApXG4gICAgICBicmVhaztcbiAgICB2YXIgeiA9IG5hZltpXTtcbiAgICBhc3NlcnQkMSh6ICE9PSAwKTtcbiAgICBpZiAocC50eXBlID09PSAnYWZmaW5lJykge1xuICAgICAgLy8gSiArLSBQXG4gICAgICBpZiAoeiA+IDApXG4gICAgICAgIGFjYyA9IGFjYy5taXhlZEFkZCh3bmRbKHogLSAxKSA+PiAxXSk7XG4gICAgICBlbHNlXG4gICAgICAgIGFjYyA9IGFjYy5taXhlZEFkZCh3bmRbKC16IC0gMSkgPj4gMV0ubmVnKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBKICstIEpcbiAgICAgIGlmICh6ID4gMClcbiAgICAgICAgYWNjID0gYWNjLmFkZCh3bmRbKHogLSAxKSA+PiAxXSk7XG4gICAgICBlbHNlXG4gICAgICAgIGFjYyA9IGFjYy5hZGQod25kWygteiAtIDEpID4+IDFdLm5lZygpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHAudHlwZSA9PT0gJ2FmZmluZScgPyBhY2MudG9QKCkgOiBhY2M7XG59O1xuXG5CYXNlQ3VydmUucHJvdG90eXBlLl93bmFmTXVsQWRkID0gZnVuY3Rpb24gX3duYWZNdWxBZGQoZGVmVyxcbiAgcG9pbnRzLFxuICBjb2VmZnMsXG4gIGxlbixcbiAgamFjb2JpYW5SZXN1bHQpIHtcbiAgdmFyIHduZFdpZHRoID0gdGhpcy5fd25hZlQxO1xuICB2YXIgd25kID0gdGhpcy5fd25hZlQyO1xuICB2YXIgbmFmID0gdGhpcy5fd25hZlQzO1xuXG4gIC8vIEZpbGwgYWxsIGFycmF5c1xuICB2YXIgbWF4ID0gMDtcbiAgdmFyIGk7XG4gIHZhciBqO1xuICB2YXIgcDtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcCA9IHBvaW50c1tpXTtcbiAgICB2YXIgbmFmUG9pbnRzID0gcC5fZ2V0TkFGUG9pbnRzKGRlZlcpO1xuICAgIHduZFdpZHRoW2ldID0gbmFmUG9pbnRzLnduZDtcbiAgICB3bmRbaV0gPSBuYWZQb2ludHMucG9pbnRzO1xuICB9XG5cbiAgLy8gQ29tYiBzbWFsbCB3aW5kb3cgTkFGc1xuICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDE7IGkgLT0gMikge1xuICAgIHZhciBhID0gaSAtIDE7XG4gICAgdmFyIGIgPSBpO1xuICAgIGlmICh3bmRXaWR0aFthXSAhPT0gMSB8fCB3bmRXaWR0aFtiXSAhPT0gMSkge1xuICAgICAgbmFmW2FdID0gZ2V0TkFGKGNvZWZmc1thXSwgd25kV2lkdGhbYV0sIHRoaXMuX2JpdExlbmd0aCk7XG4gICAgICBuYWZbYl0gPSBnZXROQUYoY29lZmZzW2JdLCB3bmRXaWR0aFtiXSwgdGhpcy5fYml0TGVuZ3RoKTtcbiAgICAgIG1heCA9IE1hdGgubWF4KG5hZlthXS5sZW5ndGgsIG1heCk7XG4gICAgICBtYXggPSBNYXRoLm1heChuYWZbYl0ubGVuZ3RoLCBtYXgpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGNvbWIgPSBbXG4gICAgICBwb2ludHNbYV0sIC8qIDEgKi9cbiAgICAgIG51bGwsIC8qIDMgKi9cbiAgICAgIG51bGwsIC8qIDUgKi9cbiAgICAgIHBvaW50c1tiXSwgLyogNyAqL1xuICAgIF07XG5cbiAgICAvLyBUcnkgdG8gYXZvaWQgUHJvamVjdGl2ZSBwb2ludHMsIGlmIHBvc3NpYmxlXG4gICAgaWYgKHBvaW50c1thXS55LmNtcChwb2ludHNbYl0ueSkgPT09IDApIHtcbiAgICAgIGNvbWJbMV0gPSBwb2ludHNbYV0uYWRkKHBvaW50c1tiXSk7XG4gICAgICBjb21iWzJdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXS5uZWcoKSk7XG4gICAgfSBlbHNlIGlmIChwb2ludHNbYV0ueS5jbXAocG9pbnRzW2JdLnkucmVkTmVnKCkpID09PSAwKSB7XG4gICAgICBjb21iWzFdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXSk7XG4gICAgICBjb21iWzJdID0gcG9pbnRzW2FdLmFkZChwb2ludHNbYl0ubmVnKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21iWzFdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXSk7XG4gICAgICBjb21iWzJdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXS5uZWcoKSk7XG4gICAgfVxuXG4gICAgdmFyIGluZGV4ID0gW1xuICAgICAgLTMsIC8qIC0xIC0xICovXG4gICAgICAtMSwgLyogLTEgMCAqL1xuICAgICAgLTUsIC8qIC0xIDEgKi9cbiAgICAgIC03LCAvKiAwIC0xICovXG4gICAgICAwLCAvKiAwIDAgKi9cbiAgICAgIDcsIC8qIDAgMSAqL1xuICAgICAgNSwgLyogMSAtMSAqL1xuICAgICAgMSwgLyogMSAwICovXG4gICAgICAzLCAgLyogMSAxICovXG4gICAgXTtcblxuICAgIHZhciBqc2YgPSBnZXRKU0YoY29lZmZzW2FdLCBjb2VmZnNbYl0pO1xuICAgIG1heCA9IE1hdGgubWF4KGpzZlswXS5sZW5ndGgsIG1heCk7XG4gICAgbmFmW2FdID0gbmV3IEFycmF5KG1heCk7XG4gICAgbmFmW2JdID0gbmV3IEFycmF5KG1heCk7XG4gICAgZm9yIChqID0gMDsgaiA8IG1heDsgaisrKSB7XG4gICAgICB2YXIgamEgPSBqc2ZbMF1bal0gfCAwO1xuICAgICAgdmFyIGpiID0ganNmWzFdW2pdIHwgMDtcblxuICAgICAgbmFmW2FdW2pdID0gaW5kZXhbKGphICsgMSkgKiAzICsgKGpiICsgMSldO1xuICAgICAgbmFmW2JdW2pdID0gMDtcbiAgICAgIHduZFthXSA9IGNvbWI7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFjYyA9IHRoaXMuanBvaW50KG51bGwsIG51bGwsIG51bGwpO1xuICB2YXIgdG1wID0gdGhpcy5fd25hZlQ0O1xuICBmb3IgKGkgPSBtYXg7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGsgPSAwO1xuXG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgdmFyIHplcm8gPSB0cnVlO1xuICAgICAgZm9yIChqID0gMDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIHRtcFtqXSA9IG5hZltqXVtpXSB8IDA7XG4gICAgICAgIGlmICh0bXBbal0gIT09IDApXG4gICAgICAgICAgemVybyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCF6ZXJvKVxuICAgICAgICBicmVhaztcbiAgICAgIGsrKztcbiAgICAgIGktLTtcbiAgICB9XG4gICAgaWYgKGkgPj0gMClcbiAgICAgIGsrKztcbiAgICBhY2MgPSBhY2MuZGJscChrKTtcbiAgICBpZiAoaSA8IDApXG4gICAgICBicmVhaztcblxuICAgIGZvciAoaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgdmFyIHogPSB0bXBbal07XG4gICAgICBwO1xuICAgICAgaWYgKHogPT09IDApXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgZWxzZSBpZiAoeiA+IDApXG4gICAgICAgIHAgPSB3bmRbal1bKHogLSAxKSA+PiAxXTtcbiAgICAgIGVsc2UgaWYgKHogPCAwKVxuICAgICAgICBwID0gd25kW2pdWygteiAtIDEpID4+IDFdLm5lZygpO1xuXG4gICAgICBpZiAocC50eXBlID09PSAnYWZmaW5lJylcbiAgICAgICAgYWNjID0gYWNjLm1peGVkQWRkKHApO1xuICAgICAgZWxzZVxuICAgICAgICBhY2MgPSBhY2MuYWRkKHApO1xuICAgIH1cbiAgfVxuICAvLyBaZXJvaWZ5IHJlZmVyZW5jZXNcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgIHduZFtpXSA9IG51bGw7XG5cbiAgaWYgKGphY29iaWFuUmVzdWx0KVxuICAgIHJldHVybiBhY2M7XG4gIGVsc2VcbiAgICByZXR1cm4gYWNjLnRvUCgpO1xufTtcblxuZnVuY3Rpb24gQmFzZVBvaW50KGN1cnZlLCB0eXBlKSB7XG4gIHRoaXMuY3VydmUgPSBjdXJ2ZTtcbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgdGhpcy5wcmVjb21wdXRlZCA9IG51bGw7XG59XG5CYXNlQ3VydmUuQmFzZVBvaW50ID0gQmFzZVBvaW50O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEoLypvdGhlciovKSB7XG4gIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG59O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUoKSB7XG4gIHJldHVybiB0aGlzLmN1cnZlLnZhbGlkYXRlKHRoaXMpO1xufTtcblxuQmFzZUN1cnZlLnByb3RvdHlwZS5kZWNvZGVQb2ludCA9IGZ1bmN0aW9uIGRlY29kZVBvaW50KGJ5dGVzLCBlbmMpIHtcbiAgYnl0ZXMgPSB1dGlsc18xJDEudG9BcnJheShieXRlcywgZW5jKTtcblxuICB2YXIgbGVuID0gdGhpcy5wLmJ5dGVMZW5ndGgoKTtcblxuICAvLyB1bmNvbXByZXNzZWQsIGh5YnJpZC1vZGQsIGh5YnJpZC1ldmVuXG4gIGlmICgoYnl0ZXNbMF0gPT09IDB4MDQgfHwgYnl0ZXNbMF0gPT09IDB4MDYgfHwgYnl0ZXNbMF0gPT09IDB4MDcpICYmXG4gICAgICBieXRlcy5sZW5ndGggLSAxID09PSAyICogbGVuKSB7XG4gICAgaWYgKGJ5dGVzWzBdID09PSAweDA2KVxuICAgICAgYXNzZXJ0JDEoYnl0ZXNbYnl0ZXMubGVuZ3RoIC0gMV0gJSAyID09PSAwKTtcbiAgICBlbHNlIGlmIChieXRlc1swXSA9PT0gMHgwNylcbiAgICAgIGFzc2VydCQxKGJ5dGVzW2J5dGVzLmxlbmd0aCAtIDFdICUgMiA9PT0gMSk7XG5cbiAgICB2YXIgcmVzID0gIHRoaXMucG9pbnQoYnl0ZXMuc2xpY2UoMSwgMSArIGxlbiksXG4gICAgICBieXRlcy5zbGljZSgxICsgbGVuLCAxICsgMiAqIGxlbikpO1xuXG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmICgoYnl0ZXNbMF0gPT09IDB4MDIgfHwgYnl0ZXNbMF0gPT09IDB4MDMpICYmXG4gICAgICAgICAgICAgIGJ5dGVzLmxlbmd0aCAtIDEgPT09IGxlbikge1xuICAgIHJldHVybiB0aGlzLnBvaW50RnJvbVgoYnl0ZXMuc2xpY2UoMSwgMSArIGxlbiksIGJ5dGVzWzBdID09PSAweDAzKTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gcG9pbnQgZm9ybWF0Jyk7XG59O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLmVuY29kZUNvbXByZXNzZWQgPSBmdW5jdGlvbiBlbmNvZGVDb21wcmVzc2VkKGVuYykge1xuICByZXR1cm4gdGhpcy5lbmNvZGUoZW5jLCB0cnVlKTtcbn07XG5cbkJhc2VQb2ludC5wcm90b3R5cGUuX2VuY29kZSA9IGZ1bmN0aW9uIF9lbmNvZGUoY29tcGFjdCkge1xuICB2YXIgbGVuID0gdGhpcy5jdXJ2ZS5wLmJ5dGVMZW5ndGgoKTtcbiAgdmFyIHggPSB0aGlzLmdldFgoKS50b0FycmF5KCdiZScsIGxlbik7XG5cbiAgaWYgKGNvbXBhY3QpXG4gICAgcmV0dXJuIFsgdGhpcy5nZXRZKCkuaXNFdmVuKCkgPyAweDAyIDogMHgwMyBdLmNvbmNhdCh4KTtcblxuICByZXR1cm4gWyAweDA0IF0uY29uY2F0KHgsIHRoaXMuZ2V0WSgpLnRvQXJyYXkoJ2JlJywgbGVuKSk7XG59O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShlbmMsIGNvbXBhY3QpIHtcbiAgcmV0dXJuIHV0aWxzXzEkMS5lbmNvZGUodGhpcy5fZW5jb2RlKGNvbXBhY3QpLCBlbmMpO1xufTtcblxuQmFzZVBvaW50LnByb3RvdHlwZS5wcmVjb21wdXRlID0gZnVuY3Rpb24gcHJlY29tcHV0ZShwb3dlcikge1xuICBpZiAodGhpcy5wcmVjb21wdXRlZClcbiAgICByZXR1cm4gdGhpcztcblxuICB2YXIgcHJlY29tcHV0ZWQgPSB7XG4gICAgZG91YmxlczogbnVsbCxcbiAgICBuYWY6IG51bGwsXG4gICAgYmV0YTogbnVsbCxcbiAgfTtcbiAgcHJlY29tcHV0ZWQubmFmID0gdGhpcy5fZ2V0TkFGUG9pbnRzKDgpO1xuICBwcmVjb21wdXRlZC5kb3VibGVzID0gdGhpcy5fZ2V0RG91Ymxlcyg0LCBwb3dlcik7XG4gIHByZWNvbXB1dGVkLmJldGEgPSB0aGlzLl9nZXRCZXRhKCk7XG4gIHRoaXMucHJlY29tcHV0ZWQgPSBwcmVjb21wdXRlZDtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkJhc2VQb2ludC5wcm90b3R5cGUuX2hhc0RvdWJsZXMgPSBmdW5jdGlvbiBfaGFzRG91YmxlcyhrKSB7XG4gIGlmICghdGhpcy5wcmVjb21wdXRlZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGRvdWJsZXMgPSB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7XG4gIGlmICghZG91YmxlcylcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIGRvdWJsZXMucG9pbnRzLmxlbmd0aCA+PSBNYXRoLmNlaWwoKGsuYml0TGVuZ3RoKCkgKyAxKSAvIGRvdWJsZXMuc3RlcCk7XG59O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLl9nZXREb3VibGVzID0gZnVuY3Rpb24gX2dldERvdWJsZXMoc3RlcCwgcG93ZXIpIHtcbiAgaWYgKHRoaXMucHJlY29tcHV0ZWQgJiYgdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzKVxuICAgIHJldHVybiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7XG5cbiAgdmFyIGRvdWJsZXMgPSBbIHRoaXMgXTtcbiAgdmFyIGFjYyA9IHRoaXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG93ZXI7IGkgKz0gc3RlcCkge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3RlcDsgaisrKVxuICAgICAgYWNjID0gYWNjLmRibCgpO1xuICAgIGRvdWJsZXMucHVzaChhY2MpO1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RlcDogc3RlcCxcbiAgICBwb2ludHM6IGRvdWJsZXMsXG4gIH07XG59O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLl9nZXROQUZQb2ludHMgPSBmdW5jdGlvbiBfZ2V0TkFGUG9pbnRzKHduZCkge1xuICBpZiAodGhpcy5wcmVjb21wdXRlZCAmJiB0aGlzLnByZWNvbXB1dGVkLm5hZilcbiAgICByZXR1cm4gdGhpcy5wcmVjb21wdXRlZC5uYWY7XG5cbiAgdmFyIHJlcyA9IFsgdGhpcyBdO1xuICB2YXIgbWF4ID0gKDEgPDwgd25kKSAtIDE7XG4gIHZhciBkYmwgPSBtYXggPT09IDEgPyBudWxsIDogdGhpcy5kYmwoKTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBtYXg7IGkrKylcbiAgICByZXNbaV0gPSByZXNbaSAtIDFdLmFkZChkYmwpO1xuICByZXR1cm4ge1xuICAgIHduZDogd25kLFxuICAgIHBvaW50czogcmVzLFxuICB9O1xufTtcblxuQmFzZVBvaW50LnByb3RvdHlwZS5fZ2V0QmV0YSA9IGZ1bmN0aW9uIF9nZXRCZXRhKCkge1xuICByZXR1cm4gbnVsbDtcbn07XG5cbkJhc2VQb2ludC5wcm90b3R5cGUuZGJscCA9IGZ1bmN0aW9uIGRibHAoaykge1xuICB2YXIgciA9IHRoaXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgazsgaSsrKVxuICAgIHIgPSByLmRibCgpO1xuICByZXR1cm4gcjtcbn07XG5cbnZhciBpbmhlcml0c19icm93c2VyID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yO1xuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge307XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlO1xuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKTtcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjtcbiAgICB9XG4gIH07XG59XG59KTtcblxuJ3VzZSBzdHJpY3QnO1xuXG5cblxuXG5cblxudmFyIGFzc2VydCQyID0gdXRpbHNfMSQxLmFzc2VydDtcblxuZnVuY3Rpb24gU2hvcnRDdXJ2ZShjb25mKSB7XG4gIGJhc2UuY2FsbCh0aGlzLCAnc2hvcnQnLCBjb25mKTtcblxuICB0aGlzLmEgPSBuZXcgQk4oY29uZi5hLCAxNikudG9SZWQodGhpcy5yZWQpO1xuICB0aGlzLmIgPSBuZXcgQk4oY29uZi5iLCAxNikudG9SZWQodGhpcy5yZWQpO1xuICB0aGlzLnRpbnYgPSB0aGlzLnR3by5yZWRJbnZtKCk7XG5cbiAgdGhpcy56ZXJvQSA9IHRoaXMuYS5mcm9tUmVkKCkuY21wbigwKSA9PT0gMDtcbiAgdGhpcy50aHJlZUEgPSB0aGlzLmEuZnJvbVJlZCgpLnN1Yih0aGlzLnApLmNtcG4oLTMpID09PSAwO1xuXG4gIC8vIElmIHRoZSBjdXJ2ZSBpcyBlbmRvbW9ycGhpYywgcHJlY2FsY3VsYXRlIGJldGEgYW5kIGxhbWJkYVxuICB0aGlzLmVuZG8gPSB0aGlzLl9nZXRFbmRvbW9ycGhpc20oY29uZik7XG4gIHRoaXMuX2VuZG9XbmFmVDEgPSBuZXcgQXJyYXkoNCk7XG4gIHRoaXMuX2VuZG9XbmFmVDIgPSBuZXcgQXJyYXkoNCk7XG59XG5pbmhlcml0c19icm93c2VyKFNob3J0Q3VydmUsIGJhc2UpO1xudmFyIHNob3J0XzEgPSBTaG9ydEN1cnZlO1xuXG5TaG9ydEN1cnZlLnByb3RvdHlwZS5fZ2V0RW5kb21vcnBoaXNtID0gZnVuY3Rpb24gX2dldEVuZG9tb3JwaGlzbShjb25mKSB7XG4gIC8vIE5vIGVmZmljaWVudCBlbmRvbW9ycGhpc21cbiAgaWYgKCF0aGlzLnplcm9BIHx8ICF0aGlzLmcgfHwgIXRoaXMubiB8fCB0aGlzLnAubW9kbigzKSAhPT0gMSlcbiAgICByZXR1cm47XG5cbiAgLy8gQ29tcHV0ZSBiZXRhIGFuZCBsYW1iZGEsIHRoYXQgbGFtYmRhICogUCA9IChiZXRhICogUHg7IFB5KVxuICB2YXIgYmV0YTtcbiAgdmFyIGxhbWJkYTtcbiAgaWYgKGNvbmYuYmV0YSkge1xuICAgIGJldGEgPSBuZXcgQk4oY29uZi5iZXRhLCAxNikudG9SZWQodGhpcy5yZWQpO1xuICB9IGVsc2Uge1xuICAgIHZhciBiZXRhcyA9IHRoaXMuX2dldEVuZG9Sb290cyh0aGlzLnApO1xuICAgIC8vIENob29zZSB0aGUgc21hbGxlc3QgYmV0YVxuICAgIGJldGEgPSBiZXRhc1swXS5jbXAoYmV0YXNbMV0pIDwgMCA/IGJldGFzWzBdIDogYmV0YXNbMV07XG4gICAgYmV0YSA9IGJldGEudG9SZWQodGhpcy5yZWQpO1xuICB9XG4gIGlmIChjb25mLmxhbWJkYSkge1xuICAgIGxhbWJkYSA9IG5ldyBCTihjb25mLmxhbWJkYSwgMTYpO1xuICB9IGVsc2Uge1xuICAgIC8vIENob29zZSB0aGUgbGFtYmRhIHRoYXQgaXMgbWF0Y2hpbmcgc2VsZWN0ZWQgYmV0YVxuICAgIHZhciBsYW1iZGFzID0gdGhpcy5fZ2V0RW5kb1Jvb3RzKHRoaXMubik7XG4gICAgaWYgKHRoaXMuZy5tdWwobGFtYmRhc1swXSkueC5jbXAodGhpcy5nLngucmVkTXVsKGJldGEpKSA9PT0gMCkge1xuICAgICAgbGFtYmRhID0gbGFtYmRhc1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFtYmRhID0gbGFtYmRhc1sxXTtcbiAgICAgIGFzc2VydCQyKHRoaXMuZy5tdWwobGFtYmRhKS54LmNtcCh0aGlzLmcueC5yZWRNdWwoYmV0YSkpID09PSAwKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgYmFzaXMgdmVjdG9ycywgdXNlZCBmb3IgYmFsYW5jZWQgbGVuZ3RoLXR3byByZXByZXNlbnRhdGlvblxuICB2YXIgYmFzaXM7XG4gIGlmIChjb25mLmJhc2lzKSB7XG4gICAgYmFzaXMgPSBjb25mLmJhc2lzLm1hcChmdW5jdGlvbih2ZWMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGE6IG5ldyBCTih2ZWMuYSwgMTYpLFxuICAgICAgICBiOiBuZXcgQk4odmVjLmIsIDE2KSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYmFzaXMgPSB0aGlzLl9nZXRFbmRvQmFzaXMobGFtYmRhKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmV0YTogYmV0YSxcbiAgICBsYW1iZGE6IGxhbWJkYSxcbiAgICBiYXNpczogYmFzaXMsXG4gIH07XG59O1xuXG5TaG9ydEN1cnZlLnByb3RvdHlwZS5fZ2V0RW5kb1Jvb3RzID0gZnVuY3Rpb24gX2dldEVuZG9Sb290cyhudW0pIHtcbiAgLy8gRmluZCByb290cyBvZiBmb3IgeF4yICsgeCArIDEgaW4gRlxuICAvLyBSb290ID0gKC0xICstIFNxcnQoLTMpKSAvIDJcbiAgLy9cbiAgdmFyIHJlZCA9IG51bSA9PT0gdGhpcy5wID8gdGhpcy5yZWQgOiBCTi5tb250KG51bSk7XG4gIHZhciB0aW52ID0gbmV3IEJOKDIpLnRvUmVkKHJlZCkucmVkSW52bSgpO1xuICB2YXIgbnRpbnYgPSB0aW52LnJlZE5lZygpO1xuXG4gIHZhciBzID0gbmV3IEJOKDMpLnRvUmVkKHJlZCkucmVkTmVnKCkucmVkU3FydCgpLnJlZE11bCh0aW52KTtcblxuICB2YXIgbDEgPSBudGludi5yZWRBZGQocykuZnJvbVJlZCgpO1xuICB2YXIgbDIgPSBudGludi5yZWRTdWIocykuZnJvbVJlZCgpO1xuICByZXR1cm4gWyBsMSwgbDIgXTtcbn07XG5cblNob3J0Q3VydmUucHJvdG90eXBlLl9nZXRFbmRvQmFzaXMgPSBmdW5jdGlvbiBfZ2V0RW5kb0Jhc2lzKGxhbWJkYSkge1xuICAvLyBhcHJ4U3FydCA+PSBzcXJ0KHRoaXMubilcbiAgdmFyIGFwcnhTcXJ0ID0gdGhpcy5uLnVzaHJuKE1hdGguZmxvb3IodGhpcy5uLmJpdExlbmd0aCgpIC8gMikpO1xuXG4gIC8vIDMuNzRcbiAgLy8gUnVuIEVHQ0QsIHVudGlsIHIoTCArIDEpIDwgYXByeFNxcnRcbiAgdmFyIHUgPSBsYW1iZGE7XG4gIHZhciB2ID0gdGhpcy5uLmNsb25lKCk7XG4gIHZhciB4MSA9IG5ldyBCTigxKTtcbiAgdmFyIHkxID0gbmV3IEJOKDApO1xuICB2YXIgeDIgPSBuZXcgQk4oMCk7XG4gIHZhciB5MiA9IG5ldyBCTigxKTtcblxuICAvLyBOT1RFOiBhbGwgdmVjdG9ycyBhcmUgcm9vdHMgb2Y6IGEgKyBiICogbGFtYmRhID0gMCAobW9kIG4pXG4gIHZhciBhMDtcbiAgdmFyIGIwO1xuICAvLyBGaXJzdCB2ZWN0b3JcbiAgdmFyIGExO1xuICB2YXIgYjE7XG4gIC8vIFNlY29uZCB2ZWN0b3JcbiAgdmFyIGEyO1xuICB2YXIgYjI7XG5cbiAgdmFyIHByZXZSO1xuICB2YXIgaSA9IDA7XG4gIHZhciByO1xuICB2YXIgeDtcbiAgd2hpbGUgKHUuY21wbigwKSAhPT0gMCkge1xuICAgIHZhciBxID0gdi5kaXYodSk7XG4gICAgciA9IHYuc3ViKHEubXVsKHUpKTtcbiAgICB4ID0geDIuc3ViKHEubXVsKHgxKSk7XG4gICAgdmFyIHkgPSB5Mi5zdWIocS5tdWwoeTEpKTtcblxuICAgIGlmICghYTEgJiYgci5jbXAoYXByeFNxcnQpIDwgMCkge1xuICAgICAgYTAgPSBwcmV2Ui5uZWcoKTtcbiAgICAgIGIwID0geDE7XG4gICAgICBhMSA9IHIubmVnKCk7XG4gICAgICBiMSA9IHg7XG4gICAgfSBlbHNlIGlmIChhMSAmJiArK2kgPT09IDIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwcmV2UiA9IHI7XG5cbiAgICB2ID0gdTtcbiAgICB1ID0gcjtcbiAgICB4MiA9IHgxO1xuICAgIHgxID0geDtcbiAgICB5MiA9IHkxO1xuICAgIHkxID0geTtcbiAgfVxuICBhMiA9IHIubmVnKCk7XG4gIGIyID0geDtcblxuICB2YXIgbGVuMSA9IGExLnNxcigpLmFkZChiMS5zcXIoKSk7XG4gIHZhciBsZW4yID0gYTIuc3FyKCkuYWRkKGIyLnNxcigpKTtcbiAgaWYgKGxlbjIuY21wKGxlbjEpID49IDApIHtcbiAgICBhMiA9IGEwO1xuICAgIGIyID0gYjA7XG4gIH1cblxuICAvLyBOb3JtYWxpemUgc2lnbnNcbiAgaWYgKGExLm5lZ2F0aXZlKSB7XG4gICAgYTEgPSBhMS5uZWcoKTtcbiAgICBiMSA9IGIxLm5lZygpO1xuICB9XG4gIGlmIChhMi5uZWdhdGl2ZSkge1xuICAgIGEyID0gYTIubmVnKCk7XG4gICAgYjIgPSBiMi5uZWcoKTtcbiAgfVxuXG4gIHJldHVybiBbXG4gICAgeyBhOiBhMSwgYjogYjEgfSxcbiAgICB7IGE6IGEyLCBiOiBiMiB9LFxuICBdO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2VuZG9TcGxpdCA9IGZ1bmN0aW9uIF9lbmRvU3BsaXQoaykge1xuICB2YXIgYmFzaXMgPSB0aGlzLmVuZG8uYmFzaXM7XG4gIHZhciB2MSA9IGJhc2lzWzBdO1xuICB2YXIgdjIgPSBiYXNpc1sxXTtcblxuICB2YXIgYzEgPSB2Mi5iLm11bChrKS5kaXZSb3VuZCh0aGlzLm4pO1xuICB2YXIgYzIgPSB2MS5iLm5lZygpLm11bChrKS5kaXZSb3VuZCh0aGlzLm4pO1xuXG4gIHZhciBwMSA9IGMxLm11bCh2MS5hKTtcbiAgdmFyIHAyID0gYzIubXVsKHYyLmEpO1xuICB2YXIgcTEgPSBjMS5tdWwodjEuYik7XG4gIHZhciBxMiA9IGMyLm11bCh2Mi5iKTtcblxuICAvLyBDYWxjdWxhdGUgYW5zd2VyXG4gIHZhciBrMSA9IGsuc3ViKHAxKS5zdWIocDIpO1xuICB2YXIgazIgPSBxMS5hZGQocTIpLm5lZygpO1xuICByZXR1cm4geyBrMTogazEsIGsyOiBrMiB9O1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tWCA9IGZ1bmN0aW9uIHBvaW50RnJvbVgoeCwgb2RkKSB7XG4gIHggPSBuZXcgQk4oeCwgMTYpO1xuICBpZiAoIXgucmVkKVxuICAgIHggPSB4LnRvUmVkKHRoaXMucmVkKTtcblxuICB2YXIgeTIgPSB4LnJlZFNxcigpLnJlZE11bCh4KS5yZWRJQWRkKHgucmVkTXVsKHRoaXMuYSkpLnJlZElBZGQodGhpcy5iKTtcbiAgdmFyIHkgPSB5Mi5yZWRTcXJ0KCk7XG4gIGlmICh5LnJlZFNxcigpLnJlZFN1Yih5MikuY21wKHRoaXMuemVybykgIT09IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBvaW50Jyk7XG5cbiAgLy8gWFhYIElzIHRoZXJlIGFueSB3YXkgdG8gdGVsbCBpZiB0aGUgbnVtYmVyIGlzIG9kZCB3aXRob3V0IGNvbnZlcnRpbmcgaXRcbiAgLy8gdG8gbm9uLXJlZCBmb3JtP1xuICB2YXIgaXNPZGQgPSB5LmZyb21SZWQoKS5pc09kZCgpO1xuICBpZiAob2RkICYmICFpc09kZCB8fCAhb2RkICYmIGlzT2RkKVxuICAgIHkgPSB5LnJlZE5lZygpO1xuXG4gIHJldHVybiB0aGlzLnBvaW50KHgsIHkpO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShwb2ludCkge1xuICBpZiAocG9pbnQuaW5mKVxuICAgIHJldHVybiB0cnVlO1xuXG4gIHZhciB4ID0gcG9pbnQueDtcbiAgdmFyIHkgPSBwb2ludC55O1xuXG4gIHZhciBheCA9IHRoaXMuYS5yZWRNdWwoeCk7XG4gIHZhciByaHMgPSB4LnJlZFNxcigpLnJlZE11bCh4KS5yZWRJQWRkKGF4KS5yZWRJQWRkKHRoaXMuYik7XG4gIHJldHVybiB5LnJlZFNxcigpLnJlZElTdWIocmhzKS5jbXBuKDApID09PSAwO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2VuZG9XbmFmTXVsQWRkID1cbiAgICBmdW5jdGlvbiBfZW5kb1duYWZNdWxBZGQocG9pbnRzLCBjb2VmZnMsIGphY29iaWFuUmVzdWx0KSB7XG4gICAgICB2YXIgbnBvaW50cyA9IHRoaXMuX2VuZG9XbmFmVDE7XG4gICAgICB2YXIgbmNvZWZmcyA9IHRoaXMuX2VuZG9XbmFmVDI7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3BsaXQgPSB0aGlzLl9lbmRvU3BsaXQoY29lZmZzW2ldKTtcbiAgICAgICAgdmFyIHAgPSBwb2ludHNbaV07XG4gICAgICAgIHZhciBiZXRhID0gcC5fZ2V0QmV0YSgpO1xuXG4gICAgICAgIGlmIChzcGxpdC5rMS5uZWdhdGl2ZSkge1xuICAgICAgICAgIHNwbGl0LmsxLmluZWcoKTtcbiAgICAgICAgICBwID0gcC5uZWcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwbGl0LmsyLm5lZ2F0aXZlKSB7XG4gICAgICAgICAgc3BsaXQuazIuaW5lZygpO1xuICAgICAgICAgIGJldGEgPSBiZXRhLm5lZyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5wb2ludHNbaSAqIDJdID0gcDtcbiAgICAgICAgbnBvaW50c1tpICogMiArIDFdID0gYmV0YTtcbiAgICAgICAgbmNvZWZmc1tpICogMl0gPSBzcGxpdC5rMTtcbiAgICAgICAgbmNvZWZmc1tpICogMiArIDFdID0gc3BsaXQuazI7XG4gICAgICB9XG4gICAgICB2YXIgcmVzID0gdGhpcy5fd25hZk11bEFkZCgxLCBucG9pbnRzLCBuY29lZmZzLCBpICogMiwgamFjb2JpYW5SZXN1bHQpO1xuXG4gICAgICAvLyBDbGVhbi11cCByZWZlcmVuY2VzIHRvIHBvaW50cyBhbmQgY29lZmZpY2llbnRzXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGkgKiAyOyBqKyspIHtcbiAgICAgICAgbnBvaW50c1tqXSA9IG51bGw7XG4gICAgICAgIG5jb2VmZnNbal0gPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuXG5mdW5jdGlvbiBQb2ludChjdXJ2ZSwgeCwgeSwgaXNSZWQpIHtcbiAgYmFzZS5CYXNlUG9pbnQuY2FsbCh0aGlzLCBjdXJ2ZSwgJ2FmZmluZScpO1xuICBpZiAoeCA9PT0gbnVsbCAmJiB5ID09PSBudWxsKSB7XG4gICAgdGhpcy54ID0gbnVsbDtcbiAgICB0aGlzLnkgPSBudWxsO1xuICAgIHRoaXMuaW5mID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnggPSBuZXcgQk4oeCwgMTYpO1xuICAgIHRoaXMueSA9IG5ldyBCTih5LCAxNik7XG4gICAgLy8gRm9yY2UgcmVkZ29tZXJ5IHJlcHJlc2VudGF0aW9uIHdoZW4gbG9hZGluZyBmcm9tIEpTT05cbiAgICBpZiAoaXNSZWQpIHtcbiAgICAgIHRoaXMueC5mb3JjZVJlZCh0aGlzLmN1cnZlLnJlZCk7XG4gICAgICB0aGlzLnkuZm9yY2VSZWQodGhpcy5jdXJ2ZS5yZWQpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMueC5yZWQpXG4gICAgICB0aGlzLnggPSB0aGlzLngudG9SZWQodGhpcy5jdXJ2ZS5yZWQpO1xuICAgIGlmICghdGhpcy55LnJlZClcbiAgICAgIHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCk7XG4gICAgdGhpcy5pbmYgPSBmYWxzZTtcbiAgfVxufVxuaW5oZXJpdHNfYnJvd3NlcihQb2ludCwgYmFzZS5CYXNlUG9pbnQpO1xuXG5TaG9ydEN1cnZlLnByb3RvdHlwZS5wb2ludCA9IGZ1bmN0aW9uIHBvaW50KHgsIHksIGlzUmVkKSB7XG4gIHJldHVybiBuZXcgUG9pbnQodGhpcywgeCwgeSwgaXNSZWQpO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tSlNPTiA9IGZ1bmN0aW9uIHBvaW50RnJvbUpTT04ob2JqLCByZWQpIHtcbiAgcmV0dXJuIFBvaW50LmZyb21KU09OKHRoaXMsIG9iaiwgcmVkKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5fZ2V0QmV0YSA9IGZ1bmN0aW9uIF9nZXRCZXRhKCkge1xuICBpZiAoIXRoaXMuY3VydmUuZW5kbylcbiAgICByZXR1cm47XG5cbiAgdmFyIHByZSA9IHRoaXMucHJlY29tcHV0ZWQ7XG4gIGlmIChwcmUgJiYgcHJlLmJldGEpXG4gICAgcmV0dXJuIHByZS5iZXRhO1xuXG4gIHZhciBiZXRhID0gdGhpcy5jdXJ2ZS5wb2ludCh0aGlzLngucmVkTXVsKHRoaXMuY3VydmUuZW5kby5iZXRhKSwgdGhpcy55KTtcbiAgaWYgKHByZSkge1xuICAgIHZhciBjdXJ2ZSA9IHRoaXMuY3VydmU7XG4gICAgdmFyIGVuZG9NdWwgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gY3VydmUucG9pbnQocC54LnJlZE11bChjdXJ2ZS5lbmRvLmJldGEpLCBwLnkpO1xuICAgIH07XG4gICAgcHJlLmJldGEgPSBiZXRhO1xuICAgIGJldGEucHJlY29tcHV0ZWQgPSB7XG4gICAgICBiZXRhOiBudWxsLFxuICAgICAgbmFmOiBwcmUubmFmICYmIHtcbiAgICAgICAgd25kOiBwcmUubmFmLnduZCxcbiAgICAgICAgcG9pbnRzOiBwcmUubmFmLnBvaW50cy5tYXAoZW5kb011bCksXG4gICAgICB9LFxuICAgICAgZG91YmxlczogcHJlLmRvdWJsZXMgJiYge1xuICAgICAgICBzdGVwOiBwcmUuZG91Ymxlcy5zdGVwLFxuICAgICAgICBwb2ludHM6IHByZS5kb3VibGVzLnBvaW50cy5tYXAoZW5kb011bCksXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGJldGE7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICBpZiAoIXRoaXMucHJlY29tcHV0ZWQpXG4gICAgcmV0dXJuIFsgdGhpcy54LCB0aGlzLnkgXTtcblxuICByZXR1cm4gWyB0aGlzLngsIHRoaXMueSwgdGhpcy5wcmVjb21wdXRlZCAmJiB7XG4gICAgZG91YmxlczogdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzICYmIHtcbiAgICAgIHN0ZXA6IHRoaXMucHJlY29tcHV0ZWQuZG91Ymxlcy5zdGVwLFxuICAgICAgcG9pbnRzOiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXMucG9pbnRzLnNsaWNlKDEpLFxuICAgIH0sXG4gICAgbmFmOiB0aGlzLnByZWNvbXB1dGVkLm5hZiAmJiB7XG4gICAgICB3bmQ6IHRoaXMucHJlY29tcHV0ZWQubmFmLnduZCxcbiAgICAgIHBvaW50czogdGhpcy5wcmVjb21wdXRlZC5uYWYucG9pbnRzLnNsaWNlKDEpLFxuICAgIH0sXG4gIH0gXTtcbn07XG5cblBvaW50LmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04oY3VydmUsIG9iaiwgcmVkKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJylcbiAgICBvYmogPSBKU09OLnBhcnNlKG9iaik7XG4gIHZhciByZXMgPSBjdXJ2ZS5wb2ludChvYmpbMF0sIG9ialsxXSwgcmVkKTtcbiAgaWYgKCFvYmpbMl0pXG4gICAgcmV0dXJuIHJlcztcblxuICBmdW5jdGlvbiBvYmoycG9pbnQob2JqKSB7XG4gICAgcmV0dXJuIGN1cnZlLnBvaW50KG9ialswXSwgb2JqWzFdLCByZWQpO1xuICB9XG5cbiAgdmFyIHByZSA9IG9ialsyXTtcbiAgcmVzLnByZWNvbXB1dGVkID0ge1xuICAgIGJldGE6IG51bGwsXG4gICAgZG91YmxlczogcHJlLmRvdWJsZXMgJiYge1xuICAgICAgc3RlcDogcHJlLmRvdWJsZXMuc3RlcCxcbiAgICAgIHBvaW50czogWyByZXMgXS5jb25jYXQocHJlLmRvdWJsZXMucG9pbnRzLm1hcChvYmoycG9pbnQpKSxcbiAgICB9LFxuICAgIG5hZjogcHJlLm5hZiAmJiB7XG4gICAgICB3bmQ6IHByZS5uYWYud25kLFxuICAgICAgcG9pbnRzOiBbIHJlcyBdLmNvbmNhdChwcmUubmFmLnBvaW50cy5tYXAob2JqMnBvaW50KSksXG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIHJlcztcbn07XG5cblBvaW50LnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCgpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiAnPEVDIFBvaW50IEluZmluaXR5Pic7XG4gIHJldHVybiAnPEVDIFBvaW50IHg6ICcgKyB0aGlzLnguZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArXG4gICAgICAnIHk6ICcgKyB0aGlzLnkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArICc+Jztcbn07XG5cblBvaW50LnByb3RvdHlwZS5pc0luZmluaXR5ID0gZnVuY3Rpb24gaXNJbmZpbml0eSgpIHtcbiAgcmV0dXJuIHRoaXMuaW5mO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChwKSB7XG4gIC8vIE8gKyBQID0gUFxuICBpZiAodGhpcy5pbmYpXG4gICAgcmV0dXJuIHA7XG5cbiAgLy8gUCArIE8gPSBQXG4gIGlmIChwLmluZilcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBQICsgUCA9IDJQXG4gIGlmICh0aGlzLmVxKHApKVxuICAgIHJldHVybiB0aGlzLmRibCgpO1xuXG4gIC8vIFAgKyAoLVApID0gT1xuICBpZiAodGhpcy5uZWcoKS5lcShwKSlcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcblxuICAvLyBQICsgUSA9IE9cbiAgaWYgKHRoaXMueC5jbXAocC54KSA9PT0gMClcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcblxuICB2YXIgYyA9IHRoaXMueS5yZWRTdWIocC55KTtcbiAgaWYgKGMuY21wbigwKSAhPT0gMClcbiAgICBjID0gYy5yZWRNdWwodGhpcy54LnJlZFN1YihwLngpLnJlZEludm0oKSk7XG4gIHZhciBueCA9IGMucmVkU3FyKCkucmVkSVN1Yih0aGlzLngpLnJlZElTdWIocC54KTtcbiAgdmFyIG55ID0gYy5yZWRNdWwodGhpcy54LnJlZFN1YihueCkpLnJlZElTdWIodGhpcy55KTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobngsIG55KTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5kYmwgPSBmdW5jdGlvbiBkYmwoKSB7XG4gIGlmICh0aGlzLmluZilcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyAyUCA9IE9cbiAgdmFyIHlzMSA9IHRoaXMueS5yZWRBZGQodGhpcy55KTtcbiAgaWYgKHlzMS5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpO1xuXG4gIHZhciBhID0gdGhpcy5jdXJ2ZS5hO1xuXG4gIHZhciB4MiA9IHRoaXMueC5yZWRTcXIoKTtcbiAgdmFyIGR5aW52ID0geXMxLnJlZEludm0oKTtcbiAgdmFyIGMgPSB4Mi5yZWRBZGQoeDIpLnJlZElBZGQoeDIpLnJlZElBZGQoYSkucmVkTXVsKGR5aW52KTtcblxuICB2YXIgbnggPSBjLnJlZFNxcigpLnJlZElTdWIodGhpcy54LnJlZEFkZCh0aGlzLngpKTtcbiAgdmFyIG55ID0gYy5yZWRNdWwodGhpcy54LnJlZFN1YihueCkpLnJlZElTdWIodGhpcy55KTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobngsIG55KTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5nZXRYID0gZnVuY3Rpb24gZ2V0WCgpIHtcbiAgcmV0dXJuIHRoaXMueC5mcm9tUmVkKCk7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUuZ2V0WSA9IGZ1bmN0aW9uIGdldFkoKSB7XG4gIHJldHVybiB0aGlzLnkuZnJvbVJlZCgpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bChrKSB7XG4gIGsgPSBuZXcgQk4oaywgMTYpO1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGVsc2UgaWYgKHRoaXMuX2hhc0RvdWJsZXMoaykpXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX2ZpeGVkTmFmTXVsKHRoaXMsIGspO1xuICBlbHNlIGlmICh0aGlzLmN1cnZlLmVuZG8pXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX2VuZG9XbmFmTXVsQWRkKFsgdGhpcyBdLCBbIGsgXSk7XG4gIGVsc2VcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5fd25hZk11bCh0aGlzLCBrKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5tdWxBZGQgPSBmdW5jdGlvbiBtdWxBZGQoazEsIHAyLCBrMikge1xuICB2YXIgcG9pbnRzID0gWyB0aGlzLCBwMiBdO1xuICB2YXIgY29lZmZzID0gWyBrMSwgazIgXTtcbiAgaWYgKHRoaXMuY3VydmUuZW5kbylcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5fZW5kb1duYWZNdWxBZGQocG9pbnRzLCBjb2VmZnMpO1xuICBlbHNlXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX3duYWZNdWxBZGQoMSwgcG9pbnRzLCBjb2VmZnMsIDIpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmptdWxBZGQgPSBmdW5jdGlvbiBqbXVsQWRkKGsxLCBwMiwgazIpIHtcbiAgdmFyIHBvaW50cyA9IFsgdGhpcywgcDIgXTtcbiAgdmFyIGNvZWZmcyA9IFsgazEsIGsyIF07XG4gIGlmICh0aGlzLmN1cnZlLmVuZG8pXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX2VuZG9XbmFmTXVsQWRkKHBvaW50cywgY29lZmZzLCB0cnVlKTtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLmN1cnZlLl93bmFmTXVsQWRkKDEsIHBvaW50cywgY29lZmZzLCAyLCB0cnVlKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uIGVxKHApIHtcbiAgcmV0dXJuIHRoaXMgPT09IHAgfHxcbiAgICAgICAgIHRoaXMuaW5mID09PSBwLmluZiAmJlxuICAgICAgICAgICAgICh0aGlzLmluZiB8fCB0aGlzLnguY21wKHAueCkgPT09IDAgJiYgdGhpcy55LmNtcChwLnkpID09PSAwKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcoX3ByZWNvbXB1dGUpIHtcbiAgaWYgKHRoaXMuaW5mKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIHZhciByZXMgPSB0aGlzLmN1cnZlLnBvaW50KHRoaXMueCwgdGhpcy55LnJlZE5lZygpKTtcbiAgaWYgKF9wcmVjb21wdXRlICYmIHRoaXMucHJlY29tcHV0ZWQpIHtcbiAgICB2YXIgcHJlID0gdGhpcy5wcmVjb21wdXRlZDtcbiAgICB2YXIgbmVnYXRlID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHAubmVnKCk7XG4gICAgfTtcbiAgICByZXMucHJlY29tcHV0ZWQgPSB7XG4gICAgICBuYWY6IHByZS5uYWYgJiYge1xuICAgICAgICB3bmQ6IHByZS5uYWYud25kLFxuICAgICAgICBwb2ludHM6IHByZS5uYWYucG9pbnRzLm1hcChuZWdhdGUpLFxuICAgICAgfSxcbiAgICAgIGRvdWJsZXM6IHByZS5kb3VibGVzICYmIHtcbiAgICAgICAgc3RlcDogcHJlLmRvdWJsZXMuc3RlcCxcbiAgICAgICAgcG9pbnRzOiBwcmUuZG91Ymxlcy5wb2ludHMubWFwKG5lZ2F0ZSksXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cblBvaW50LnByb3RvdHlwZS50b0ogPSBmdW5jdGlvbiB0b0ooKSB7XG4gIGlmICh0aGlzLmluZilcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCk7XG5cbiAgdmFyIHJlcyA9IHRoaXMuY3VydmUuanBvaW50KHRoaXMueCwgdGhpcy55LCB0aGlzLmN1cnZlLm9uZSk7XG4gIHJldHVybiByZXM7XG59O1xuXG5mdW5jdGlvbiBKUG9pbnQoY3VydmUsIHgsIHksIHopIHtcbiAgYmFzZS5CYXNlUG9pbnQuY2FsbCh0aGlzLCBjdXJ2ZSwgJ2phY29iaWFuJyk7XG4gIGlmICh4ID09PSBudWxsICYmIHkgPT09IG51bGwgJiYgeiA9PT0gbnVsbCkge1xuICAgIHRoaXMueCA9IHRoaXMuY3VydmUub25lO1xuICAgIHRoaXMueSA9IHRoaXMuY3VydmUub25lO1xuICAgIHRoaXMueiA9IG5ldyBCTigwKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnggPSBuZXcgQk4oeCwgMTYpO1xuICAgIHRoaXMueSA9IG5ldyBCTih5LCAxNik7XG4gICAgdGhpcy56ID0gbmV3IEJOKHosIDE2KTtcbiAgfVxuICBpZiAoIXRoaXMueC5yZWQpXG4gICAgdGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKTtcbiAgaWYgKCF0aGlzLnkucmVkKVxuICAgIHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCk7XG4gIGlmICghdGhpcy56LnJlZClcbiAgICB0aGlzLnogPSB0aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpO1xuXG4gIHRoaXMuek9uZSA9IHRoaXMueiA9PT0gdGhpcy5jdXJ2ZS5vbmU7XG59XG5pbmhlcml0c19icm93c2VyKEpQb2ludCwgYmFzZS5CYXNlUG9pbnQpO1xuXG5TaG9ydEN1cnZlLnByb3RvdHlwZS5qcG9pbnQgPSBmdW5jdGlvbiBqcG9pbnQoeCwgeSwgeikge1xuICByZXR1cm4gbmV3IEpQb2ludCh0aGlzLCB4LCB5LCB6KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUudG9QID0gZnVuY3Rpb24gdG9QKCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobnVsbCwgbnVsbCk7XG5cbiAgdmFyIHppbnYgPSB0aGlzLnoucmVkSW52bSgpO1xuICB2YXIgemludjIgPSB6aW52LnJlZFNxcigpO1xuICB2YXIgYXggPSB0aGlzLngucmVkTXVsKHppbnYyKTtcbiAgdmFyIGF5ID0gdGhpcy55LnJlZE11bCh6aW52MikucmVkTXVsKHppbnYpO1xuXG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KGF4LCBheSk7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLm5lZyA9IGZ1bmN0aW9uIG5lZygpIHtcbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KHRoaXMueCwgdGhpcy55LnJlZE5lZygpLCB0aGlzLnopO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQocCkge1xuICAvLyBPICsgUCA9IFBcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiBwO1xuXG4gIC8vIFAgKyBPID0gUFxuICBpZiAocC5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gMTJNICsgNFMgKyA3QVxuICB2YXIgcHoyID0gcC56LnJlZFNxcigpO1xuICB2YXIgejIgPSB0aGlzLnoucmVkU3FyKCk7XG4gIHZhciB1MSA9IHRoaXMueC5yZWRNdWwocHoyKTtcbiAgdmFyIHUyID0gcC54LnJlZE11bCh6Mik7XG4gIHZhciBzMSA9IHRoaXMueS5yZWRNdWwocHoyLnJlZE11bChwLnopKTtcbiAgdmFyIHMyID0gcC55LnJlZE11bCh6Mi5yZWRNdWwodGhpcy56KSk7XG5cbiAgdmFyIGggPSB1MS5yZWRTdWIodTIpO1xuICB2YXIgciA9IHMxLnJlZFN1YihzMik7XG4gIGlmIChoLmNtcG4oMCkgPT09IDApIHtcbiAgICBpZiAoci5jbXBuKDApICE9PSAwKVxuICAgICAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG51bGwsIG51bGwsIG51bGwpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiB0aGlzLmRibCgpO1xuICB9XG5cbiAgdmFyIGgyID0gaC5yZWRTcXIoKTtcbiAgdmFyIGgzID0gaDIucmVkTXVsKGgpO1xuICB2YXIgdiA9IHUxLnJlZE11bChoMik7XG5cbiAgdmFyIG54ID0gci5yZWRTcXIoKS5yZWRJQWRkKGgzKS5yZWRJU3ViKHYpLnJlZElTdWIodik7XG4gIHZhciBueSA9IHIucmVkTXVsKHYucmVkSVN1YihueCkpLnJlZElTdWIoczEucmVkTXVsKGgzKSk7XG4gIHZhciBueiA9IHRoaXMuei5yZWRNdWwocC56KS5yZWRNdWwoaCk7XG5cbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG54LCBueSwgbnopO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5taXhlZEFkZCA9IGZ1bmN0aW9uIG1peGVkQWRkKHApIHtcbiAgLy8gTyArIFAgPSBQXG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gcC50b0ooKTtcblxuICAvLyBQICsgTyA9IFBcbiAgaWYgKHAuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIDhNICsgM1MgKyA3QVxuICB2YXIgejIgPSB0aGlzLnoucmVkU3FyKCk7XG4gIHZhciB1MSA9IHRoaXMueDtcbiAgdmFyIHUyID0gcC54LnJlZE11bCh6Mik7XG4gIHZhciBzMSA9IHRoaXMueTtcbiAgdmFyIHMyID0gcC55LnJlZE11bCh6MikucmVkTXVsKHRoaXMueik7XG5cbiAgdmFyIGggPSB1MS5yZWRTdWIodTIpO1xuICB2YXIgciA9IHMxLnJlZFN1YihzMik7XG4gIGlmIChoLmNtcG4oMCkgPT09IDApIHtcbiAgICBpZiAoci5jbXBuKDApICE9PSAwKVxuICAgICAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG51bGwsIG51bGwsIG51bGwpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiB0aGlzLmRibCgpO1xuICB9XG5cbiAgdmFyIGgyID0gaC5yZWRTcXIoKTtcbiAgdmFyIGgzID0gaDIucmVkTXVsKGgpO1xuICB2YXIgdiA9IHUxLnJlZE11bChoMik7XG5cbiAgdmFyIG54ID0gci5yZWRTcXIoKS5yZWRJQWRkKGgzKS5yZWRJU3ViKHYpLnJlZElTdWIodik7XG4gIHZhciBueSA9IHIucmVkTXVsKHYucmVkSVN1YihueCkpLnJlZElTdWIoczEucmVkTXVsKGgzKSk7XG4gIHZhciBueiA9IHRoaXMuei5yZWRNdWwoaCk7XG5cbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG54LCBueSwgbnopO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5kYmxwID0gZnVuY3Rpb24gZGJscChwb3cpIHtcbiAgaWYgKHBvdyA9PT0gMClcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAoIXBvdylcbiAgICByZXR1cm4gdGhpcy5kYmwoKTtcblxuICB2YXIgaTtcbiAgaWYgKHRoaXMuY3VydmUuemVyb0EgfHwgdGhpcy5jdXJ2ZS50aHJlZUEpIHtcbiAgICB2YXIgciA9IHRoaXM7XG4gICAgZm9yIChpID0gMDsgaSA8IHBvdzsgaSsrKVxuICAgICAgciA9IHIuZGJsKCk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICAvLyAxTSArIDJTICsgMUEgKyBOICogKDRTICsgNU0gKyA4QSlcbiAgLy8gTiA9IDEgPT4gNk0gKyA2UyArIDlBXG4gIHZhciBhID0gdGhpcy5jdXJ2ZS5hO1xuICB2YXIgdGludiA9IHRoaXMuY3VydmUudGludjtcblxuICB2YXIganggPSB0aGlzLng7XG4gIHZhciBqeSA9IHRoaXMueTtcbiAgdmFyIGp6ID0gdGhpcy56O1xuICB2YXIgano0ID0ganoucmVkU3FyKCkucmVkU3FyKCk7XG5cbiAgLy8gUmV1c2UgcmVzdWx0c1xuICB2YXIganlkID0gankucmVkQWRkKGp5KTtcbiAgZm9yIChpID0gMDsgaSA8IHBvdzsgaSsrKSB7XG4gICAgdmFyIGp4MiA9IGp4LnJlZFNxcigpO1xuICAgIHZhciBqeWQyID0ganlkLnJlZFNxcigpO1xuICAgIHZhciBqeWQ0ID0ganlkMi5yZWRTcXIoKTtcbiAgICB2YXIgYyA9IGp4Mi5yZWRBZGQoangyKS5yZWRJQWRkKGp4MikucmVkSUFkZChhLnJlZE11bChqejQpKTtcblxuICAgIHZhciB0MSA9IGp4LnJlZE11bChqeWQyKTtcbiAgICB2YXIgbnggPSBjLnJlZFNxcigpLnJlZElTdWIodDEucmVkQWRkKHQxKSk7XG4gICAgdmFyIHQyID0gdDEucmVkSVN1YihueCk7XG4gICAgdmFyIGRueSA9IGMucmVkTXVsKHQyKTtcbiAgICBkbnkgPSBkbnkucmVkSUFkZChkbnkpLnJlZElTdWIoanlkNCk7XG4gICAgdmFyIG56ID0ganlkLnJlZE11bChqeik7XG4gICAgaWYgKGkgKyAxIDwgcG93KVxuICAgICAgano0ID0gano0LnJlZE11bChqeWQ0KTtcblxuICAgIGp4ID0gbng7XG4gICAganogPSBuejtcbiAgICBqeWQgPSBkbnk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoangsIGp5ZC5yZWRNdWwodGludiksIGp6KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUuZGJsID0gZnVuY3Rpb24gZGJsKCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgaWYgKHRoaXMuY3VydmUuemVyb0EpXG4gICAgcmV0dXJuIHRoaXMuX3plcm9EYmwoKTtcbiAgZWxzZSBpZiAodGhpcy5jdXJ2ZS50aHJlZUEpXG4gICAgcmV0dXJuIHRoaXMuX3RocmVlRGJsKCk7XG4gIGVsc2VcbiAgICByZXR1cm4gdGhpcy5fZGJsKCk7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLl96ZXJvRGJsID0gZnVuY3Rpb24gX3plcm9EYmwoKSB7XG4gIHZhciBueDtcbiAgdmFyIG55O1xuICB2YXIgbno7XG4gIC8vIFogPSAxXG4gIGlmICh0aGlzLnpPbmUpIHtcbiAgICAvLyBoeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tc2hvcnR3LWphY29iaWFuLTAuaHRtbFxuICAgIC8vICAgICAjZG91YmxpbmctbWRibC0yMDA3LWJsXG4gICAgLy8gMU0gKyA1UyArIDE0QVxuXG4gICAgLy8gWFggPSBYMV4yXG4gICAgdmFyIHh4ID0gdGhpcy54LnJlZFNxcigpO1xuICAgIC8vIFlZID0gWTFeMlxuICAgIHZhciB5eSA9IHRoaXMueS5yZWRTcXIoKTtcbiAgICAvLyBZWVlZID0gWVleMlxuICAgIHZhciB5eXl5ID0geXkucmVkU3FyKCk7XG4gICAgLy8gUyA9IDIgKiAoKFgxICsgWVkpXjIgLSBYWCAtIFlZWVkpXG4gICAgdmFyIHMgPSB0aGlzLngucmVkQWRkKHl5KS5yZWRTcXIoKS5yZWRJU3ViKHh4KS5yZWRJU3ViKHl5eXkpO1xuICAgIHMgPSBzLnJlZElBZGQocyk7XG4gICAgLy8gTSA9IDMgKiBYWCArIGE7IGEgPSAwXG4gICAgdmFyIG0gPSB4eC5yZWRBZGQoeHgpLnJlZElBZGQoeHgpO1xuICAgIC8vIFQgPSBNIF4gMiAtIDIqU1xuICAgIHZhciB0ID0gbS5yZWRTcXIoKS5yZWRJU3ViKHMpLnJlZElTdWIocyk7XG5cbiAgICAvLyA4ICogWVlZWVxuICAgIHZhciB5eXl5OCA9IHl5eXkucmVkSUFkZCh5eXl5KTtcbiAgICB5eXl5OCA9IHl5eXk4LnJlZElBZGQoeXl5eTgpO1xuICAgIHl5eXk4ID0geXl5eTgucmVkSUFkZCh5eXl5OCk7XG5cbiAgICAvLyBYMyA9IFRcbiAgICBueCA9IHQ7XG4gICAgLy8gWTMgPSBNICogKFMgLSBUKSAtIDggKiBZWVlZXG4gICAgbnkgPSBtLnJlZE11bChzLnJlZElTdWIodCkpLnJlZElTdWIoeXl5eTgpO1xuICAgIC8vIFozID0gMipZMVxuICAgIG56ID0gdGhpcy55LnJlZEFkZCh0aGlzLnkpO1xuICB9IGVsc2Uge1xuICAgIC8vIGh5cGVyZWxsaXB0aWMub3JnL0VGRC9nMXAvYXV0by1zaG9ydHctamFjb2JpYW4tMC5odG1sXG4gICAgLy8gICAgICNkb3VibGluZy1kYmwtMjAwOS1sXG4gICAgLy8gMk0gKyA1UyArIDEzQVxuXG4gICAgLy8gQSA9IFgxXjJcbiAgICB2YXIgYSA9IHRoaXMueC5yZWRTcXIoKTtcbiAgICAvLyBCID0gWTFeMlxuICAgIHZhciBiID0gdGhpcy55LnJlZFNxcigpO1xuICAgIC8vIEMgPSBCXjJcbiAgICB2YXIgYyA9IGIucmVkU3FyKCk7XG4gICAgLy8gRCA9IDIgKiAoKFgxICsgQileMiAtIEEgLSBDKVxuICAgIHZhciBkID0gdGhpcy54LnJlZEFkZChiKS5yZWRTcXIoKS5yZWRJU3ViKGEpLnJlZElTdWIoYyk7XG4gICAgZCA9IGQucmVkSUFkZChkKTtcbiAgICAvLyBFID0gMyAqIEFcbiAgICB2YXIgZSA9IGEucmVkQWRkKGEpLnJlZElBZGQoYSk7XG4gICAgLy8gRiA9IEVeMlxuICAgIHZhciBmID0gZS5yZWRTcXIoKTtcblxuICAgIC8vIDggKiBDXG4gICAgdmFyIGM4ID0gYy5yZWRJQWRkKGMpO1xuICAgIGM4ID0gYzgucmVkSUFkZChjOCk7XG4gICAgYzggPSBjOC5yZWRJQWRkKGM4KTtcblxuICAgIC8vIFgzID0gRiAtIDIgKiBEXG4gICAgbnggPSBmLnJlZElTdWIoZCkucmVkSVN1YihkKTtcbiAgICAvLyBZMyA9IEUgKiAoRCAtIFgzKSAtIDggKiBDXG4gICAgbnkgPSBlLnJlZE11bChkLnJlZElTdWIobngpKS5yZWRJU3ViKGM4KTtcbiAgICAvLyBaMyA9IDIgKiBZMSAqIFoxXG4gICAgbnogPSB0aGlzLnkucmVkTXVsKHRoaXMueik7XG4gICAgbnogPSBuei5yZWRJQWRkKG56KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChueCwgbnksIG56KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUuX3RocmVlRGJsID0gZnVuY3Rpb24gX3RocmVlRGJsKCkge1xuICB2YXIgbng7XG4gIHZhciBueTtcbiAgdmFyIG56O1xuICAvLyBaID0gMVxuICBpZiAodGhpcy56T25lKSB7XG4gICAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXNob3J0dy1qYWNvYmlhbi0zLmh0bWxcbiAgICAvLyAgICAgI2RvdWJsaW5nLW1kYmwtMjAwNy1ibFxuICAgIC8vIDFNICsgNVMgKyAxNUFcblxuICAgIC8vIFhYID0gWDFeMlxuICAgIHZhciB4eCA9IHRoaXMueC5yZWRTcXIoKTtcbiAgICAvLyBZWSA9IFkxXjJcbiAgICB2YXIgeXkgPSB0aGlzLnkucmVkU3FyKCk7XG4gICAgLy8gWVlZWSA9IFlZXjJcbiAgICB2YXIgeXl5eSA9IHl5LnJlZFNxcigpO1xuICAgIC8vIFMgPSAyICogKChYMSArIFlZKV4yIC0gWFggLSBZWVlZKVxuICAgIHZhciBzID0gdGhpcy54LnJlZEFkZCh5eSkucmVkU3FyKCkucmVkSVN1Yih4eCkucmVkSVN1Yih5eXl5KTtcbiAgICBzID0gcy5yZWRJQWRkKHMpO1xuICAgIC8vIE0gPSAzICogWFggKyBhXG4gICAgdmFyIG0gPSB4eC5yZWRBZGQoeHgpLnJlZElBZGQoeHgpLnJlZElBZGQodGhpcy5jdXJ2ZS5hKTtcbiAgICAvLyBUID0gTV4yIC0gMiAqIFNcbiAgICB2YXIgdCA9IG0ucmVkU3FyKCkucmVkSVN1YihzKS5yZWRJU3ViKHMpO1xuICAgIC8vIFgzID0gVFxuICAgIG54ID0gdDtcbiAgICAvLyBZMyA9IE0gKiAoUyAtIFQpIC0gOCAqIFlZWVlcbiAgICB2YXIgeXl5eTggPSB5eXl5LnJlZElBZGQoeXl5eSk7XG4gICAgeXl5eTggPSB5eXl5OC5yZWRJQWRkKHl5eXk4KTtcbiAgICB5eXl5OCA9IHl5eXk4LnJlZElBZGQoeXl5eTgpO1xuICAgIG55ID0gbS5yZWRNdWwocy5yZWRJU3ViKHQpKS5yZWRJU3ViKHl5eXk4KTtcbiAgICAvLyBaMyA9IDIgKiBZMVxuICAgIG56ID0gdGhpcy55LnJlZEFkZCh0aGlzLnkpO1xuICB9IGVsc2Uge1xuICAgIC8vIGh5cGVyZWxsaXB0aWMub3JnL0VGRC9nMXAvYXV0by1zaG9ydHctamFjb2JpYW4tMy5odG1sI2RvdWJsaW5nLWRibC0yMDAxLWJcbiAgICAvLyAzTSArIDVTXG5cbiAgICAvLyBkZWx0YSA9IFoxXjJcbiAgICB2YXIgZGVsdGEgPSB0aGlzLnoucmVkU3FyKCk7XG4gICAgLy8gZ2FtbWEgPSBZMV4yXG4gICAgdmFyIGdhbW1hID0gdGhpcy55LnJlZFNxcigpO1xuICAgIC8vIGJldGEgPSBYMSAqIGdhbW1hXG4gICAgdmFyIGJldGEgPSB0aGlzLngucmVkTXVsKGdhbW1hKTtcbiAgICAvLyBhbHBoYSA9IDMgKiAoWDEgLSBkZWx0YSkgKiAoWDEgKyBkZWx0YSlcbiAgICB2YXIgYWxwaGEgPSB0aGlzLngucmVkU3ViKGRlbHRhKS5yZWRNdWwodGhpcy54LnJlZEFkZChkZWx0YSkpO1xuICAgIGFscGhhID0gYWxwaGEucmVkQWRkKGFscGhhKS5yZWRJQWRkKGFscGhhKTtcbiAgICAvLyBYMyA9IGFscGhhXjIgLSA4ICogYmV0YVxuICAgIHZhciBiZXRhNCA9IGJldGEucmVkSUFkZChiZXRhKTtcbiAgICBiZXRhNCA9IGJldGE0LnJlZElBZGQoYmV0YTQpO1xuICAgIHZhciBiZXRhOCA9IGJldGE0LnJlZEFkZChiZXRhNCk7XG4gICAgbnggPSBhbHBoYS5yZWRTcXIoKS5yZWRJU3ViKGJldGE4KTtcbiAgICAvLyBaMyA9IChZMSArIFoxKV4yIC0gZ2FtbWEgLSBkZWx0YVxuICAgIG56ID0gdGhpcy55LnJlZEFkZCh0aGlzLnopLnJlZFNxcigpLnJlZElTdWIoZ2FtbWEpLnJlZElTdWIoZGVsdGEpO1xuICAgIC8vIFkzID0gYWxwaGEgKiAoNCAqIGJldGEgLSBYMykgLSA4ICogZ2FtbWFeMlxuICAgIHZhciBnZ2FtbWE4ID0gZ2FtbWEucmVkU3FyKCk7XG4gICAgZ2dhbW1hOCA9IGdnYW1tYTgucmVkSUFkZChnZ2FtbWE4KTtcbiAgICBnZ2FtbWE4ID0gZ2dhbW1hOC5yZWRJQWRkKGdnYW1tYTgpO1xuICAgIGdnYW1tYTggPSBnZ2FtbWE4LnJlZElBZGQoZ2dhbW1hOCk7XG4gICAgbnkgPSBhbHBoYS5yZWRNdWwoYmV0YTQucmVkSVN1YihueCkpLnJlZElTdWIoZ2dhbW1hOCk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobngsIG55LCBueik7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLl9kYmwgPSBmdW5jdGlvbiBfZGJsKCkge1xuICB2YXIgYSA9IHRoaXMuY3VydmUuYTtcblxuICAvLyA0TSArIDZTICsgMTBBXG4gIHZhciBqeCA9IHRoaXMueDtcbiAgdmFyIGp5ID0gdGhpcy55O1xuICB2YXIganogPSB0aGlzLno7XG4gIHZhciBqejQgPSBqei5yZWRTcXIoKS5yZWRTcXIoKTtcblxuICB2YXIgangyID0gangucmVkU3FyKCk7XG4gIHZhciBqeTIgPSBqeS5yZWRTcXIoKTtcblxuICB2YXIgYyA9IGp4Mi5yZWRBZGQoangyKS5yZWRJQWRkKGp4MikucmVkSUFkZChhLnJlZE11bChqejQpKTtcblxuICB2YXIganhkNCA9IGp4LnJlZEFkZChqeCk7XG4gIGp4ZDQgPSBqeGQ0LnJlZElBZGQoanhkNCk7XG4gIHZhciB0MSA9IGp4ZDQucmVkTXVsKGp5Mik7XG4gIHZhciBueCA9IGMucmVkU3FyKCkucmVkSVN1Yih0MS5yZWRBZGQodDEpKTtcbiAgdmFyIHQyID0gdDEucmVkSVN1YihueCk7XG5cbiAgdmFyIGp5ZDggPSBqeTIucmVkU3FyKCk7XG4gIGp5ZDggPSBqeWQ4LnJlZElBZGQoanlkOCk7XG4gIGp5ZDggPSBqeWQ4LnJlZElBZGQoanlkOCk7XG4gIGp5ZDggPSBqeWQ4LnJlZElBZGQoanlkOCk7XG4gIHZhciBueSA9IGMucmVkTXVsKHQyKS5yZWRJU3ViKGp5ZDgpO1xuICB2YXIgbnogPSBqeS5yZWRBZGQoankpLnJlZE11bChqeik7XG5cbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG54LCBueSwgbnopO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS50cnBsID0gZnVuY3Rpb24gdHJwbCgpIHtcbiAgaWYgKCF0aGlzLmN1cnZlLnplcm9BKVxuICAgIHJldHVybiB0aGlzLmRibCgpLmFkZCh0aGlzKTtcblxuICAvLyBoeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tc2hvcnR3LWphY29iaWFuLTAuaHRtbCN0cmlwbGluZy10cGwtMjAwNy1ibFxuICAvLyA1TSArIDEwUyArIC4uLlxuXG4gIC8vIFhYID0gWDFeMlxuICB2YXIgeHggPSB0aGlzLngucmVkU3FyKCk7XG4gIC8vIFlZID0gWTFeMlxuICB2YXIgeXkgPSB0aGlzLnkucmVkU3FyKCk7XG4gIC8vIFpaID0gWjFeMlxuICB2YXIgenogPSB0aGlzLnoucmVkU3FyKCk7XG4gIC8vIFlZWVkgPSBZWV4yXG4gIHZhciB5eXl5ID0geXkucmVkU3FyKCk7XG4gIC8vIE0gPSAzICogWFggKyBhICogWloyOyBhID0gMFxuICB2YXIgbSA9IHh4LnJlZEFkZCh4eCkucmVkSUFkZCh4eCk7XG4gIC8vIE1NID0gTV4yXG4gIHZhciBtbSA9IG0ucmVkU3FyKCk7XG4gIC8vIEUgPSA2ICogKChYMSArIFlZKV4yIC0gWFggLSBZWVlZKSAtIE1NXG4gIHZhciBlID0gdGhpcy54LnJlZEFkZCh5eSkucmVkU3FyKCkucmVkSVN1Yih4eCkucmVkSVN1Yih5eXl5KTtcbiAgZSA9IGUucmVkSUFkZChlKTtcbiAgZSA9IGUucmVkQWRkKGUpLnJlZElBZGQoZSk7XG4gIGUgPSBlLnJlZElTdWIobW0pO1xuICAvLyBFRSA9IEVeMlxuICB2YXIgZWUgPSBlLnJlZFNxcigpO1xuICAvLyBUID0gMTYqWVlZWVxuICB2YXIgdCA9IHl5eXkucmVkSUFkZCh5eXl5KTtcbiAgdCA9IHQucmVkSUFkZCh0KTtcbiAgdCA9IHQucmVkSUFkZCh0KTtcbiAgdCA9IHQucmVkSUFkZCh0KTtcbiAgLy8gVSA9IChNICsgRSleMiAtIE1NIC0gRUUgLSBUXG4gIHZhciB1ID0gbS5yZWRJQWRkKGUpLnJlZFNxcigpLnJlZElTdWIobW0pLnJlZElTdWIoZWUpLnJlZElTdWIodCk7XG4gIC8vIFgzID0gNCAqIChYMSAqIEVFIC0gNCAqIFlZICogVSlcbiAgdmFyIHl5dTQgPSB5eS5yZWRNdWwodSk7XG4gIHl5dTQgPSB5eXU0LnJlZElBZGQoeXl1NCk7XG4gIHl5dTQgPSB5eXU0LnJlZElBZGQoeXl1NCk7XG4gIHZhciBueCA9IHRoaXMueC5yZWRNdWwoZWUpLnJlZElTdWIoeXl1NCk7XG4gIG54ID0gbngucmVkSUFkZChueCk7XG4gIG54ID0gbngucmVkSUFkZChueCk7XG4gIC8vIFkzID0gOCAqIFkxICogKFUgKiAoVCAtIFUpIC0gRSAqIEVFKVxuICB2YXIgbnkgPSB0aGlzLnkucmVkTXVsKHUucmVkTXVsKHQucmVkSVN1Yih1KSkucmVkSVN1YihlLnJlZE11bChlZSkpKTtcbiAgbnkgPSBueS5yZWRJQWRkKG55KTtcbiAgbnkgPSBueS5yZWRJQWRkKG55KTtcbiAgbnkgPSBueS5yZWRJQWRkKG55KTtcbiAgLy8gWjMgPSAoWjEgKyBFKV4yIC0gWlogLSBFRVxuICB2YXIgbnogPSB0aGlzLnoucmVkQWRkKGUpLnJlZFNxcigpLnJlZElTdWIoenopLnJlZElTdWIoZWUpO1xuXG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChueCwgbnksIG56KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUubXVsID0gZnVuY3Rpb24gbXVsKGssIGtiYXNlKSB7XG4gIGsgPSBuZXcgQk4oaywga2Jhc2UpO1xuXG4gIHJldHVybiB0aGlzLmN1cnZlLl93bmFmTXVsKHRoaXMsIGspO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uIGVxKHApIHtcbiAgaWYgKHAudHlwZSA9PT0gJ2FmZmluZScpXG4gICAgcmV0dXJuIHRoaXMuZXEocC50b0ooKSk7XG5cbiAgaWYgKHRoaXMgPT09IHApXG4gICAgcmV0dXJuIHRydWU7XG5cbiAgLy8geDEgKiB6Ml4yID09IHgyICogejFeMlxuICB2YXIgejIgPSB0aGlzLnoucmVkU3FyKCk7XG4gIHZhciBwejIgPSBwLnoucmVkU3FyKCk7XG4gIGlmICh0aGlzLngucmVkTXVsKHB6MikucmVkSVN1YihwLngucmVkTXVsKHoyKSkuY21wbigwKSAhPT0gMClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8geTEgKiB6Ml4zID09IHkyICogejFeM1xuICB2YXIgejMgPSB6Mi5yZWRNdWwodGhpcy56KTtcbiAgdmFyIHB6MyA9IHB6Mi5yZWRNdWwocC56KTtcbiAgcmV0dXJuIHRoaXMueS5yZWRNdWwocHozKS5yZWRJU3ViKHAueS5yZWRNdWwoejMpKS5jbXBuKDApID09PSAwO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5lcVhUb1AgPSBmdW5jdGlvbiBlcVhUb1AoeCkge1xuICB2YXIgenMgPSB0aGlzLnoucmVkU3FyKCk7XG4gIHZhciByeCA9IHgudG9SZWQodGhpcy5jdXJ2ZS5yZWQpLnJlZE11bCh6cyk7XG4gIGlmICh0aGlzLnguY21wKHJ4KSA9PT0gMClcbiAgICByZXR1cm4gdHJ1ZTtcblxuICB2YXIgeGMgPSB4LmNsb25lKCk7XG4gIHZhciB0ID0gdGhpcy5jdXJ2ZS5yZWROLnJlZE11bCh6cyk7XG4gIGZvciAoOzspIHtcbiAgICB4Yy5pYWRkKHRoaXMuY3VydmUubik7XG4gICAgaWYgKHhjLmNtcCh0aGlzLmN1cnZlLnApID49IDApXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICByeC5yZWRJQWRkKHQpO1xuICAgIGlmICh0aGlzLnguY21wKHJ4KSA9PT0gMClcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuICc8RUMgSlBvaW50IEluZmluaXR5Pic7XG4gIHJldHVybiAnPEVDIEpQb2ludCB4OiAnICsgdGhpcy54LnRvU3RyaW5nKDE2LCAyKSArXG4gICAgICAnIHk6ICcgKyB0aGlzLnkudG9TdHJpbmcoMTYsIDIpICtcbiAgICAgICcgejogJyArIHRoaXMuei50b1N0cmluZygxNiwgMikgKyAnPic7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLmlzSW5maW5pdHkgPSBmdW5jdGlvbiBpc0luZmluaXR5KCkge1xuICAvLyBYWFggVGhpcyBjb2RlIGFzc3VtZXMgdGhhdCB6ZXJvIGlzIGFsd2F5cyB6ZXJvIGluIHJlZFxuICByZXR1cm4gdGhpcy56LmNtcG4oMCkgPT09IDA7XG59O1xuXG52YXIgY3VydmVfMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIGN1cnZlID0gZXhwb3J0cztcblxuY3VydmUuYmFzZSA9IGJhc2U7XG5jdXJ2ZS5zaG9ydCA9IHNob3J0XzE7XG5jdXJ2ZS5tb250ID0gLypSaWNNb286ZXRoZXJzOnJlcXVpcmUoLi9tb250KSovKG51bGwpO1xuY3VydmUuZWR3YXJkcyA9IC8qUmljTW9vOmV0aGVyczpyZXF1aXJlKC4vZWR3YXJkcykqLyhudWxsKTtcbn0pO1xuXG52YXIgY3VydmVzXzEgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBjdXJ2ZXMgPSBleHBvcnRzO1xuXG5cblxuXG5cbnZhciBhc3NlcnQgPSB1dGlsc18xJDEuYXNzZXJ0O1xuXG5mdW5jdGlvbiBQcmVzZXRDdXJ2ZShvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zLnR5cGUgPT09ICdzaG9ydCcpXG4gICAgdGhpcy5jdXJ2ZSA9IG5ldyBjdXJ2ZV8xLnNob3J0KG9wdGlvbnMpO1xuICBlbHNlIGlmIChvcHRpb25zLnR5cGUgPT09ICdlZHdhcmRzJylcbiAgICB0aGlzLmN1cnZlID0gbmV3IGN1cnZlXzEuZWR3YXJkcyhvcHRpb25zKTtcbiAgZWxzZVxuICAgIHRoaXMuY3VydmUgPSBuZXcgY3VydmVfMS5tb250KG9wdGlvbnMpO1xuICB0aGlzLmcgPSB0aGlzLmN1cnZlLmc7XG4gIHRoaXMubiA9IHRoaXMuY3VydmUubjtcbiAgdGhpcy5oYXNoID0gb3B0aW9ucy5oYXNoO1xuXG4gIGFzc2VydCh0aGlzLmcudmFsaWRhdGUoKSwgJ0ludmFsaWQgY3VydmUnKTtcbiAgYXNzZXJ0KHRoaXMuZy5tdWwodGhpcy5uKS5pc0luZmluaXR5KCksICdJbnZhbGlkIGN1cnZlLCBHKk4gIT0gTycpO1xufVxuY3VydmVzLlByZXNldEN1cnZlID0gUHJlc2V0Q3VydmU7XG5cbmZ1bmN0aW9uIGRlZmluZUN1cnZlKG5hbWUsIG9wdGlvbnMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1cnZlcywgbmFtZSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VydmUgPSBuZXcgUHJlc2V0Q3VydmUob3B0aW9ucyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VydmVzLCBuYW1lLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGN1cnZlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY3VydmU7XG4gICAgfSxcbiAgfSk7XG59XG5cbmRlZmluZUN1cnZlKCdwMTkyJywge1xuICB0eXBlOiAnc2hvcnQnLFxuICBwcmltZTogJ3AxOTInLFxuICBwOiAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgZmZmZmZmZmYnLFxuICBhOiAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgZmZmZmZmZmMnLFxuICBiOiAnNjQyMTA1MTkgZTU5YzgwZTcgMGZhN2U5YWIgNzIyNDMwNDkgZmViOGRlZWMgYzE0NmI5YjEnLFxuICBuOiAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgOTlkZWY4MzYgMTQ2YmM5YjEgYjRkMjI4MzEnLFxuICBoYXNoOiBoYXNoLnNoYTI1NixcbiAgZ1JlZDogZmFsc2UsXG4gIGc6IFtcbiAgICAnMTg4ZGE4MGUgYjAzMDkwZjYgN2NiZjIwZWIgNDNhMTg4MDAgZjRmZjBhZmQgODJmZjEwMTInLFxuICAgICcwNzE5MmI5NSBmZmM4ZGE3OCA2MzEwMTFlZCA2YjI0Y2RkNSA3M2Y5NzdhMSAxZTc5NDgxMScsXG4gIF0sXG59KTtcblxuZGVmaW5lQ3VydmUoJ3AyMjQnLCB7XG4gIHR5cGU6ICdzaG9ydCcsXG4gIHByaW1lOiAncDIyNCcsXG4gIHA6ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMScsXG4gIGE6ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZScsXG4gIGI6ICdiNDA1MGE4NSAwYzA0YjNhYiBmNTQxMzI1NiA1MDQ0YjBiNyBkN2JmZDhiYSAyNzBiMzk0MyAyMzU1ZmZiNCcsXG4gIG46ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmMTZhMiBlMGI4ZjAzZSAxM2RkMjk0NSA1YzVjMmEzZCcsXG4gIGhhc2g6IGhhc2guc2hhMjU2LFxuICBnUmVkOiBmYWxzZSxcbiAgZzogW1xuICAgICdiNzBlMGNiZCA2YmI0YmY3ZiAzMjEzOTBiOSA0YTAzYzFkMyA1NmMyMTEyMiAzNDMyODBkNiAxMTVjMWQyMScsXG4gICAgJ2JkMzc2Mzg4IGI1ZjcyM2ZiIDRjMjJkZmU2IGNkNDM3NWEwIDVhMDc0NzY0IDQ0ZDU4MTk5IDg1MDA3ZTM0JyxcbiAgXSxcbn0pO1xuXG5kZWZpbmVDdXJ2ZSgncDI1NicsIHtcbiAgdHlwZTogJ3Nob3J0JyxcbiAgcHJpbWU6IG51bGwsXG4gIHA6ICdmZmZmZmZmZiAwMDAwMDAwMSAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZicsXG4gIGE6ICdmZmZmZmZmZiAwMDAwMDAwMSAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmYycsXG4gIGI6ICc1YWM2MzVkOCBhYTNhOTNlNyBiM2ViYmQ1NSA3Njk4ODZiYyA2NTFkMDZiMCBjYzUzYjBmNiAzYmNlM2MzZSAyN2QyNjA0YicsXG4gIG46ICdmZmZmZmZmZiAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBiY2U2ZmFhZCBhNzE3OWU4NCBmM2I5Y2FjMiBmYzYzMjU1MScsXG4gIGhhc2g6IGhhc2guc2hhMjU2LFxuICBnUmVkOiBmYWxzZSxcbiAgZzogW1xuICAgICc2YjE3ZDFmMiBlMTJjNDI0NyBmOGJjZTZlNSA2M2E0NDBmMiA3NzAzN2Q4MSAyZGViMzNhMCBmNGExMzk0NSBkODk4YzI5NicsXG4gICAgJzRmZTM0MmUyIGZlMWE3ZjliIDhlZTdlYjRhIDdjMGY5ZTE2IDJiY2UzMzU3IDZiMzE1ZWNlIGNiYjY0MDY4IDM3YmY1MWY1JyxcbiAgXSxcbn0pO1xuXG5kZWZpbmVDdXJ2ZSgncDM4NCcsIHtcbiAgdHlwZTogJ3Nob3J0JyxcbiAgcHJpbWU6IG51bGwsXG4gIHA6ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAnICtcbiAgICAgJ2ZmZmZmZmZlIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIGZmZmZmZmZmJyxcbiAgYTogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmICcgK1xuICAgICAnZmZmZmZmZmUgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmMnLFxuICBiOiAnYjMzMTJmYTcgZTIzZWU3ZTQgOTg4ZTA1NmIgZTNmODJkMTkgMTgxZDljNmUgZmU4MTQxMTIgMDMxNDA4OGYgJyArXG4gICAgICc1MDEzODc1YSBjNjU2Mzk4ZCA4YTJlZDE5ZCAyYTg1YzhlZCBkM2VjMmFlZicsXG4gIG46ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBjNzYzNGQ4MSAnICtcbiAgICAgJ2Y0MzcyZGRmIDU4MWEwZGIyIDQ4YjBhNzdhIGVjZWMxOTZhIGNjYzUyOTczJyxcbiAgaGFzaDogaGFzaC5zaGEzODQsXG4gIGdSZWQ6IGZhbHNlLFxuICBnOiBbXG4gICAgJ2FhODdjYTIyIGJlOGIwNTM3IDhlYjFjNzFlIGYzMjBhZDc0IDZlMWQzYjYyIDhiYTc5Yjk4IDU5Zjc0MWUwIDgyNTQyYTM4ICcgK1xuICAgICc1NTAyZjI1ZCBiZjU1Mjk2YyAzYTU0NWUzOCA3Mjc2MGFiNycsXG4gICAgJzM2MTdkZTRhIDk2MjYyYzZmIDVkOWU5OGJmIDkyOTJkYzI5IGY4ZjQxZGJkIDI4OWExNDdjIGU5ZGEzMTEzIGI1ZjBiOGMwICcgK1xuICAgICcwYTYwYjFjZSAxZDdlODE5ZCA3YTQzMWQ3YyA5MGVhMGU1ZicsXG4gIF0sXG59KTtcblxuZGVmaW5lQ3VydmUoJ3A1MjEnLCB7XG4gIHR5cGU6ICdzaG9ydCcsXG4gIHByaW1lOiBudWxsLFxuICBwOiAnMDAwMDAxZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgJyArXG4gICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAnICtcbiAgICAgJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmJyxcbiAgYTogJzAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmICcgK1xuICAgICAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgJyArXG4gICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmYycsXG4gIGI6ICcwMDAwMDA1MSA5NTNlYjk2MSA4ZTFjOWExZiA5MjlhMjFhMCBiNjg1NDBlZSBhMmRhNzI1YiAnICtcbiAgICAgJzk5YjMxNWYzIGI4YjQ4OTkxIDhlZjEwOWUxIDU2MTkzOTUxIGVjN2U5MzdiIDE2NTJjMGJkICcgK1xuICAgICAnM2JiMWJmMDcgMzU3M2RmODggM2QyYzM0ZjEgZWY0NTFmZDQgNmI1MDNmMDAnLFxuICBuOiAnMDAwMDAxZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgJyArXG4gICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmYSA1MTg2ODc4MyBiZjJmOTY2YiA3ZmNjMDE0OCAnICtcbiAgICAgJ2Y3MDlhNWQwIDNiYjVjOWI4IDg5OWM0N2FlIGJiNmZiNzFlIDkxMzg2NDA5JyxcbiAgaGFzaDogaGFzaC5zaGE1MTIsXG4gIGdSZWQ6IGZhbHNlLFxuICBnOiBbXG4gICAgJzAwMDAwMGM2IDg1OGUwNmI3IDA0MDRlOWNkIDllM2VjYjY2IDIzOTViNDQyIDljNjQ4MTM5ICcgK1xuICAgICcwNTNmYjUyMSBmODI4YWY2MCA2YjRkM2RiYSBhMTRiNWU3NyBlZmU3NTkyOCBmZTFkYzEyNyAnICtcbiAgICAnYTJmZmE4ZGUgMzM0OGIzYzEgODU2YTQyOWIgZjk3ZTdlMzEgYzJlNWJkNjYnLFxuICAgICcwMDAwMDExOCAzOTI5NmE3OCA5YTNiYzAwNCA1YzhhNWZiNCAyYzdkMWJkOSA5OGY1NDQ0OSAnICtcbiAgICAnNTc5YjQ0NjggMTdhZmJkMTcgMjczZTY2MmMgOTdlZTcyOTkgNWVmNDI2NDAgYzU1MGI5MDEgJyArXG4gICAgJzNmYWQwNzYxIDM1M2M3MDg2IGEyNzJjMjQwIDg4YmU5NDc2IDlmZDE2NjUwJyxcbiAgXSxcbn0pO1xuXG5kZWZpbmVDdXJ2ZSgnY3VydmUyNTUxOScsIHtcbiAgdHlwZTogJ21vbnQnLFxuICBwcmltZTogJ3AyNTUxOScsXG4gIHA6ICc3ZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmVkJyxcbiAgYTogJzc2ZDA2JyxcbiAgYjogJzEnLFxuICBuOiAnMTAwMDAwMDAwMDAwMDAwMCAwMDAwMDAwMDAwMDAwMDAwIDE0ZGVmOWRlYTJmNzljZDYgNTgxMjYzMWE1Y2Y1ZDNlZCcsXG4gIGhhc2g6IGhhc2guc2hhMjU2LFxuICBnUmVkOiBmYWxzZSxcbiAgZzogW1xuICAgICc5JyxcbiAgXSxcbn0pO1xuXG5kZWZpbmVDdXJ2ZSgnZWQyNTUxOScsIHtcbiAgdHlwZTogJ2Vkd2FyZHMnLFxuICBwcmltZTogJ3AyNTUxOScsXG4gIHA6ICc3ZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmVkJyxcbiAgYTogJy0xJyxcbiAgYzogJzEnLFxuICAvLyAtMTIxNjY1ICogKDEyMTY2Nl4oLTEpKSAobW9kIFApXG4gIGQ6ICc1MjAzNmNlZTJiNmZmZTczIDhjYzc0MDc5Nzc3OWU4OTggMDA3MDBhNGQ0MTQxZDhhYiA3NWViNGRjYTEzNTk3OGEzJyxcbiAgbjogJzEwMDAwMDAwMDAwMDAwMDAgMDAwMDAwMDAwMDAwMDAwMCAxNGRlZjlkZWEyZjc5Y2Q2IDU4MTI2MzFhNWNmNWQzZWQnLFxuICBoYXNoOiBoYXNoLnNoYTI1NixcbiAgZ1JlZDogZmFsc2UsXG4gIGc6IFtcbiAgICAnMjE2OTM2ZDNjZDZlNTNmZWMwYTRlMjMxZmRkNmRjNWM2OTJjYzc2MDk1MjVhN2IyYzk1NjJkNjA4ZjI1ZDUxYScsXG5cbiAgICAvLyA0LzVcbiAgICAnNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY1OCcsXG4gIF0sXG59KTtcblxudmFyIHByZTtcbnRyeSB7XG4gIHByZSA9IC8qUmljTW9vOmV0aGVyczpyZXF1aXJlKC4vcHJlY29tcHV0ZWQvc2VjcDI1NmsxKSovKG51bGwpLmNyYXNoKCk7XG59IGNhdGNoIChlKSB7XG4gIHByZSA9IHVuZGVmaW5lZDtcbn1cblxuZGVmaW5lQ3VydmUoJ3NlY3AyNTZrMScsIHtcbiAgdHlwZTogJ3Nob3J0JyxcbiAgcHJpbWU6ICdrMjU2JyxcbiAgcDogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmYzJmJyxcbiAgYTogJzAnLFxuICBiOiAnNycsXG4gIG46ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBiYWFlZGNlNiBhZjQ4YTAzYiBiZmQyNWU4YyBkMDM2NDE0MScsXG4gIGg6ICcxJyxcbiAgaGFzaDogaGFzaC5zaGEyNTYsXG5cbiAgLy8gUHJlY29tcHV0ZWQgZW5kb21vcnBoaXNtXG4gIGJldGE6ICc3YWU5NmEyYjY1N2MwNzEwNmU2NDQ3OWVhYzM0MzRlOTljZjA0OTc1MTJmNTg5OTVjMTM5NmMyODcxOTUwMWVlJyxcbiAgbGFtYmRhOiAnNTM2M2FkNGNjMDVjMzBlMGE1MjYxYzAyODgxMjY0NWExMjJlMjJlYTIwODE2Njc4ZGYwMjk2N2MxYjIzYmQ3MicsXG4gIGJhc2lzOiBbXG4gICAge1xuICAgICAgYTogJzMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1JyxcbiAgICAgIGI6ICctZTQ0MzdlZDYwMTBlODgyODZmNTQ3ZmE5MGFiZmU0YzMnLFxuICAgIH0sXG4gICAge1xuICAgICAgYTogJzExNGNhNTBmN2E4ZTJmM2Y2NTdjMTEwOGQ5ZDQ0Y2ZkOCcsXG4gICAgICBiOiAnMzA4NmQyMjFhN2Q0NmJjZGU4NmM5MGU0OTI4NGViMTUnLFxuICAgIH0sXG4gIF0sXG5cbiAgZ1JlZDogZmFsc2UsXG4gIGc6IFtcbiAgICAnNzliZTY2N2VmOWRjYmJhYzU1YTA2Mjk1Y2U4NzBiMDcwMjliZmNkYjJkY2UyOGQ5NTlmMjgxNWIxNmY4MTc5OCcsXG4gICAgJzQ4M2FkYTc3MjZhM2M0NjU1ZGE0ZmJmYzBlMTEwOGE4ZmQxN2I0NDhhNjg1NTQxOTljNDdkMDhmZmIxMGQ0YjgnLFxuICAgIHByZSxcbiAgXSxcbn0pO1xufSk7XG5cbid1c2Ugc3RyaWN0JztcblxuXG5cblxuXG5mdW5jdGlvbiBIbWFjRFJCRyhvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBIbWFjRFJCRykpXG4gICAgcmV0dXJuIG5ldyBIbWFjRFJCRyhvcHRpb25zKTtcbiAgdGhpcy5oYXNoID0gb3B0aW9ucy5oYXNoO1xuICB0aGlzLnByZWRSZXNpc3QgPSAhIW9wdGlvbnMucHJlZFJlc2lzdDtcblxuICB0aGlzLm91dExlbiA9IHRoaXMuaGFzaC5vdXRTaXplO1xuICB0aGlzLm1pbkVudHJvcHkgPSBvcHRpb25zLm1pbkVudHJvcHkgfHwgdGhpcy5oYXNoLmhtYWNTdHJlbmd0aDtcblxuICB0aGlzLl9yZXNlZWQgPSBudWxsO1xuICB0aGlzLnJlc2VlZEludGVydmFsID0gbnVsbDtcbiAgdGhpcy5LID0gbnVsbDtcbiAgdGhpcy5WID0gbnVsbDtcblxuICB2YXIgZW50cm9weSA9IHV0aWxzXzEudG9BcnJheShvcHRpb25zLmVudHJvcHksIG9wdGlvbnMuZW50cm9weUVuYyB8fCAnaGV4Jyk7XG4gIHZhciBub25jZSA9IHV0aWxzXzEudG9BcnJheShvcHRpb25zLm5vbmNlLCBvcHRpb25zLm5vbmNlRW5jIHx8ICdoZXgnKTtcbiAgdmFyIHBlcnMgPSB1dGlsc18xLnRvQXJyYXkob3B0aW9ucy5wZXJzLCBvcHRpb25zLnBlcnNFbmMgfHwgJ2hleCcpO1xuICBtaW5pbWFsaXN0aWNBc3NlcnQoZW50cm9weS5sZW5ndGggPj0gKHRoaXMubWluRW50cm9weSAvIDgpLFxuICAgICAgICAgJ05vdCBlbm91Z2ggZW50cm9weS4gTWluaW11bSBpczogJyArIHRoaXMubWluRW50cm9weSArICcgYml0cycpO1xuICB0aGlzLl9pbml0KGVudHJvcHksIG5vbmNlLCBwZXJzKTtcbn1cbnZhciBobWFjRHJiZyA9IEhtYWNEUkJHO1xuXG5IbWFjRFJCRy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0KGVudHJvcHksIG5vbmNlLCBwZXJzKSB7XG4gIHZhciBzZWVkID0gZW50cm9weS5jb25jYXQobm9uY2UpLmNvbmNhdChwZXJzKTtcblxuICB0aGlzLksgPSBuZXcgQXJyYXkodGhpcy5vdXRMZW4gLyA4KTtcbiAgdGhpcy5WID0gbmV3IEFycmF5KHRoaXMub3V0TGVuIC8gOCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5WLmxlbmd0aDsgaSsrKSB7XG4gICAgdGhpcy5LW2ldID0gMHgwMDtcbiAgICB0aGlzLlZbaV0gPSAweDAxO1xuICB9XG5cbiAgdGhpcy5fdXBkYXRlKHNlZWQpO1xuICB0aGlzLl9yZXNlZWQgPSAxO1xuICB0aGlzLnJlc2VlZEludGVydmFsID0gMHgxMDAwMDAwMDAwMDAwOyAgLy8gMl40OFxufTtcblxuSG1hY0RSQkcucHJvdG90eXBlLl9obWFjID0gZnVuY3Rpb24gaG1hYygpIHtcbiAgcmV0dXJuIG5ldyBoYXNoLmhtYWModGhpcy5oYXNoLCB0aGlzLkspO1xufTtcblxuSG1hY0RSQkcucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc2VlZCkge1xuICB2YXIga21hYyA9IHRoaXMuX2htYWMoKVxuICAgICAgICAgICAgICAgICAudXBkYXRlKHRoaXMuVilcbiAgICAgICAgICAgICAgICAgLnVwZGF0ZShbIDB4MDAgXSk7XG4gIGlmIChzZWVkKVxuICAgIGttYWMgPSBrbWFjLnVwZGF0ZShzZWVkKTtcbiAgdGhpcy5LID0ga21hYy5kaWdlc3QoKTtcbiAgdGhpcy5WID0gdGhpcy5faG1hYygpLnVwZGF0ZSh0aGlzLlYpLmRpZ2VzdCgpO1xuICBpZiAoIXNlZWQpXG4gICAgcmV0dXJuO1xuXG4gIHRoaXMuSyA9IHRoaXMuX2htYWMoKVxuICAgICAgICAgICAgICAgLnVwZGF0ZSh0aGlzLlYpXG4gICAgICAgICAgICAgICAudXBkYXRlKFsgMHgwMSBdKVxuICAgICAgICAgICAgICAgLnVwZGF0ZShzZWVkKVxuICAgICAgICAgICAgICAgLmRpZ2VzdCgpO1xuICB0aGlzLlYgPSB0aGlzLl9obWFjKCkudXBkYXRlKHRoaXMuVikuZGlnZXN0KCk7XG59O1xuXG5IbWFjRFJCRy5wcm90b3R5cGUucmVzZWVkID0gZnVuY3Rpb24gcmVzZWVkKGVudHJvcHksIGVudHJvcHlFbmMsIGFkZCwgYWRkRW5jKSB7XG4gIC8vIE9wdGlvbmFsIGVudHJvcHkgZW5jXG4gIGlmICh0eXBlb2YgZW50cm9weUVuYyAhPT0gJ3N0cmluZycpIHtcbiAgICBhZGRFbmMgPSBhZGQ7XG4gICAgYWRkID0gZW50cm9weUVuYztcbiAgICBlbnRyb3B5RW5jID0gbnVsbDtcbiAgfVxuXG4gIGVudHJvcHkgPSB1dGlsc18xLnRvQXJyYXkoZW50cm9weSwgZW50cm9weUVuYyk7XG4gIGFkZCA9IHV0aWxzXzEudG9BcnJheShhZGQsIGFkZEVuYyk7XG5cbiAgbWluaW1hbGlzdGljQXNzZXJ0KGVudHJvcHkubGVuZ3RoID49ICh0aGlzLm1pbkVudHJvcHkgLyA4KSxcbiAgICAgICAgICdOb3QgZW5vdWdoIGVudHJvcHkuIE1pbmltdW0gaXM6ICcgKyB0aGlzLm1pbkVudHJvcHkgKyAnIGJpdHMnKTtcblxuICB0aGlzLl91cGRhdGUoZW50cm9weS5jb25jYXQoYWRkIHx8IFtdKSk7XG4gIHRoaXMuX3Jlc2VlZCA9IDE7XG59O1xuXG5IbWFjRFJCRy5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiBnZW5lcmF0ZShsZW4sIGVuYywgYWRkLCBhZGRFbmMpIHtcbiAgaWYgKHRoaXMuX3Jlc2VlZCA+IHRoaXMucmVzZWVkSW50ZXJ2YWwpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZXNlZWQgaXMgcmVxdWlyZWQnKTtcblxuICAvLyBPcHRpb25hbCBlbmNvZGluZ1xuICBpZiAodHlwZW9mIGVuYyAhPT0gJ3N0cmluZycpIHtcbiAgICBhZGRFbmMgPSBhZGQ7XG4gICAgYWRkID0gZW5jO1xuICAgIGVuYyA9IG51bGw7XG4gIH1cblxuICAvLyBPcHRpb25hbCBhZGRpdGlvbmFsIGRhdGFcbiAgaWYgKGFkZCkge1xuICAgIGFkZCA9IHV0aWxzXzEudG9BcnJheShhZGQsIGFkZEVuYyB8fCAnaGV4Jyk7XG4gICAgdGhpcy5fdXBkYXRlKGFkZCk7XG4gIH1cblxuICB2YXIgdGVtcCA9IFtdO1xuICB3aGlsZSAodGVtcC5sZW5ndGggPCBsZW4pIHtcbiAgICB0aGlzLlYgPSB0aGlzLl9obWFjKCkudXBkYXRlKHRoaXMuVikuZGlnZXN0KCk7XG4gICAgdGVtcCA9IHRlbXAuY29uY2F0KHRoaXMuVik7XG4gIH1cblxuICB2YXIgcmVzID0gdGVtcC5zbGljZSgwLCBsZW4pO1xuICB0aGlzLl91cGRhdGUoYWRkKTtcbiAgdGhpcy5fcmVzZWVkKys7XG4gIHJldHVybiB1dGlsc18xLmVuY29kZShyZXMsIGVuYyk7XG59O1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG52YXIgYXNzZXJ0JDMgPSB1dGlsc18xJDEuYXNzZXJ0O1xuXG5mdW5jdGlvbiBLZXlQYWlyKGVjLCBvcHRpb25zKSB7XG4gIHRoaXMuZWMgPSBlYztcbiAgdGhpcy5wcml2ID0gbnVsbDtcbiAgdGhpcy5wdWIgPSBudWxsO1xuXG4gIC8vIEtleVBhaXIoZWMsIHsgcHJpdjogLi4uLCBwdWI6IC4uLiB9KVxuICBpZiAob3B0aW9ucy5wcml2KVxuICAgIHRoaXMuX2ltcG9ydFByaXZhdGUob3B0aW9ucy5wcml2LCBvcHRpb25zLnByaXZFbmMpO1xuICBpZiAob3B0aW9ucy5wdWIpXG4gICAgdGhpcy5faW1wb3J0UHVibGljKG9wdGlvbnMucHViLCBvcHRpb25zLnB1YkVuYyk7XG59XG52YXIga2V5ID0gS2V5UGFpcjtcblxuS2V5UGFpci5mcm9tUHVibGljID0gZnVuY3Rpb24gZnJvbVB1YmxpYyhlYywgcHViLCBlbmMpIHtcbiAgaWYgKHB1YiBpbnN0YW5jZW9mIEtleVBhaXIpXG4gICAgcmV0dXJuIHB1YjtcblxuICByZXR1cm4gbmV3IEtleVBhaXIoZWMsIHtcbiAgICBwdWI6IHB1YixcbiAgICBwdWJFbmM6IGVuYyxcbiAgfSk7XG59O1xuXG5LZXlQYWlyLmZyb21Qcml2YXRlID0gZnVuY3Rpb24gZnJvbVByaXZhdGUoZWMsIHByaXYsIGVuYykge1xuICBpZiAocHJpdiBpbnN0YW5jZW9mIEtleVBhaXIpXG4gICAgcmV0dXJuIHByaXY7XG5cbiAgcmV0dXJuIG5ldyBLZXlQYWlyKGVjLCB7XG4gICAgcHJpdjogcHJpdixcbiAgICBwcml2RW5jOiBlbmMsXG4gIH0pO1xufTtcblxuS2V5UGFpci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcbiAgdmFyIHB1YiA9IHRoaXMuZ2V0UHVibGljKCk7XG5cbiAgaWYgKHB1Yi5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHsgcmVzdWx0OiBmYWxzZSwgcmVhc29uOiAnSW52YWxpZCBwdWJsaWMga2V5JyB9O1xuICBpZiAoIXB1Yi52YWxpZGF0ZSgpKVxuICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbjogJ1B1YmxpYyBrZXkgaXMgbm90IGEgcG9pbnQnIH07XG4gIGlmICghcHViLm11bCh0aGlzLmVjLmN1cnZlLm4pLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4geyByZXN1bHQ6IGZhbHNlLCByZWFzb246ICdQdWJsaWMga2V5ICogTiAhPSBPJyB9O1xuXG4gIHJldHVybiB7IHJlc3VsdDogdHJ1ZSwgcmVhc29uOiBudWxsIH07XG59O1xuXG5LZXlQYWlyLnByb3RvdHlwZS5nZXRQdWJsaWMgPSBmdW5jdGlvbiBnZXRQdWJsaWMoY29tcGFjdCwgZW5jKSB7XG4gIC8vIGNvbXBhY3QgaXMgb3B0aW9uYWwgYXJndW1lbnRcbiAgaWYgKHR5cGVvZiBjb21wYWN0ID09PSAnc3RyaW5nJykge1xuICAgIGVuYyA9IGNvbXBhY3Q7XG4gICAgY29tcGFjdCA9IG51bGw7XG4gIH1cblxuICBpZiAoIXRoaXMucHViKVxuICAgIHRoaXMucHViID0gdGhpcy5lYy5nLm11bCh0aGlzLnByaXYpO1xuXG4gIGlmICghZW5jKVxuICAgIHJldHVybiB0aGlzLnB1YjtcblxuICByZXR1cm4gdGhpcy5wdWIuZW5jb2RlKGVuYywgY29tcGFjdCk7XG59O1xuXG5LZXlQYWlyLnByb3RvdHlwZS5nZXRQcml2YXRlID0gZnVuY3Rpb24gZ2V0UHJpdmF0ZShlbmMpIHtcbiAgaWYgKGVuYyA9PT0gJ2hleCcpXG4gICAgcmV0dXJuIHRoaXMucHJpdi50b1N0cmluZygxNiwgMik7XG4gIGVsc2VcbiAgICByZXR1cm4gdGhpcy5wcml2O1xufTtcblxuS2V5UGFpci5wcm90b3R5cGUuX2ltcG9ydFByaXZhdGUgPSBmdW5jdGlvbiBfaW1wb3J0UHJpdmF0ZShrZXksIGVuYykge1xuICB0aGlzLnByaXYgPSBuZXcgQk4oa2V5LCBlbmMgfHwgMTYpO1xuXG4gIC8vIEVuc3VyZSB0aGF0IHRoZSBwcml2IHdvbid0IGJlIGJpZ2dlciB0aGFuIG4sIG90aGVyd2lzZSB3ZSBtYXkgZmFpbFxuICAvLyBpbiBmaXhlZCBtdWx0aXBsaWNhdGlvbiBtZXRob2RcbiAgdGhpcy5wcml2ID0gdGhpcy5wcml2LnVtb2QodGhpcy5lYy5jdXJ2ZS5uKTtcbn07XG5cbktleVBhaXIucHJvdG90eXBlLl9pbXBvcnRQdWJsaWMgPSBmdW5jdGlvbiBfaW1wb3J0UHVibGljKGtleSwgZW5jKSB7XG4gIGlmIChrZXkueCB8fCBrZXkueSkge1xuICAgIC8vIE1vbnRnb21lcnkgcG9pbnRzIG9ubHkgaGF2ZSBhbiBgeGAgY29vcmRpbmF0ZS5cbiAgICAvLyBXZWllcnN0cmFzcy9FZHdhcmRzIHBvaW50cyBvbiB0aGUgb3RoZXIgaGFuZCBoYXZlIGJvdGggYHhgIGFuZFxuICAgIC8vIGB5YCBjb29yZGluYXRlcy5cbiAgICBpZiAodGhpcy5lYy5jdXJ2ZS50eXBlID09PSAnbW9udCcpIHtcbiAgICAgIGFzc2VydCQzKGtleS54LCAnTmVlZCB4IGNvb3JkaW5hdGUnKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZWMuY3VydmUudHlwZSA9PT0gJ3Nob3J0JyB8fFxuICAgICAgICAgICAgICAgdGhpcy5lYy5jdXJ2ZS50eXBlID09PSAnZWR3YXJkcycpIHtcbiAgICAgIGFzc2VydCQzKGtleS54ICYmIGtleS55LCAnTmVlZCBib3RoIHggYW5kIHkgY29vcmRpbmF0ZScpO1xuICAgIH1cbiAgICB0aGlzLnB1YiA9IHRoaXMuZWMuY3VydmUucG9pbnQoa2V5LngsIGtleS55KTtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5wdWIgPSB0aGlzLmVjLmN1cnZlLmRlY29kZVBvaW50KGtleSwgZW5jKTtcbn07XG5cbi8vIEVDREhcbktleVBhaXIucHJvdG90eXBlLmRlcml2ZSA9IGZ1bmN0aW9uIGRlcml2ZShwdWIpIHtcbiAgaWYoIXB1Yi52YWxpZGF0ZSgpKSB7XG4gICAgYXNzZXJ0JDMocHViLnZhbGlkYXRlKCksICdwdWJsaWMgcG9pbnQgbm90IHZhbGlkYXRlZCcpO1xuICB9XG4gIHJldHVybiBwdWIubXVsKHRoaXMucHJpdikuZ2V0WCgpO1xufTtcblxuLy8gRUNEU0FcbktleVBhaXIucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbiBzaWduKG1zZywgZW5jLCBvcHRpb25zKSB7XG4gIHJldHVybiB0aGlzLmVjLnNpZ24obXNnLCB0aGlzLCBlbmMsIG9wdGlvbnMpO1xufTtcblxuS2V5UGFpci5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1zZywgc2lnbmF0dXJlKSB7XG4gIHJldHVybiB0aGlzLmVjLnZlcmlmeShtc2csIHNpZ25hdHVyZSwgdGhpcyk7XG59O1xuXG5LZXlQYWlyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCgpIHtcbiAgcmV0dXJuICc8S2V5IHByaXY6ICcgKyAodGhpcy5wcml2ICYmIHRoaXMucHJpdi50b1N0cmluZygxNiwgMikpICtcbiAgICAgICAgICcgcHViOiAnICsgKHRoaXMucHViICYmIHRoaXMucHViLmluc3BlY3QoKSkgKyAnID4nO1xufTtcblxuJ3VzZSBzdHJpY3QnO1xuXG5cblxuXG52YXIgYXNzZXJ0JDQgPSB1dGlsc18xJDEuYXNzZXJ0O1xuXG5mdW5jdGlvbiBTaWduYXR1cmUob3B0aW9ucywgZW5jKSB7XG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgU2lnbmF0dXJlKVxuICAgIHJldHVybiBvcHRpb25zO1xuXG4gIGlmICh0aGlzLl9pbXBvcnRERVIob3B0aW9ucywgZW5jKSlcbiAgICByZXR1cm47XG5cbiAgYXNzZXJ0JDQob3B0aW9ucy5yICYmIG9wdGlvbnMucywgJ1NpZ25hdHVyZSB3aXRob3V0IHIgb3IgcycpO1xuICB0aGlzLnIgPSBuZXcgQk4ob3B0aW9ucy5yLCAxNik7XG4gIHRoaXMucyA9IG5ldyBCTihvcHRpb25zLnMsIDE2KTtcbiAgaWYgKG9wdGlvbnMucmVjb3ZlcnlQYXJhbSA9PT0gdW5kZWZpbmVkKVxuICAgIHRoaXMucmVjb3ZlcnlQYXJhbSA9IG51bGw7XG4gIGVsc2VcbiAgICB0aGlzLnJlY292ZXJ5UGFyYW0gPSBvcHRpb25zLnJlY292ZXJ5UGFyYW07XG59XG52YXIgc2lnbmF0dXJlID0gU2lnbmF0dXJlO1xuXG5mdW5jdGlvbiBQb3NpdGlvbigpIHtcbiAgdGhpcy5wbGFjZSA9IDA7XG59XG5cbmZ1bmN0aW9uIGdldExlbmd0aChidWYsIHApIHtcbiAgdmFyIGluaXRpYWwgPSBidWZbcC5wbGFjZSsrXTtcbiAgaWYgKCEoaW5pdGlhbCAmIDB4ODApKSB7XG4gICAgcmV0dXJuIGluaXRpYWw7XG4gIH1cbiAgdmFyIG9jdGV0TGVuID0gaW5pdGlhbCAmIDB4ZjtcblxuICAvLyBJbmRlZmluaXRlIGxlbmd0aCBvciBvdmVyZmxvd1xuICBpZiAob2N0ZXRMZW4gPT09IDAgfHwgb2N0ZXRMZW4gPiA0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHZhbCA9IDA7XG4gIGZvciAodmFyIGkgPSAwLCBvZmYgPSBwLnBsYWNlOyBpIDwgb2N0ZXRMZW47IGkrKywgb2ZmKyspIHtcbiAgICB2YWwgPDw9IDg7XG4gICAgdmFsIHw9IGJ1ZltvZmZdO1xuICAgIHZhbCA+Pj49IDA7XG4gIH1cblxuICAvLyBMZWFkaW5nIHplcm9lc1xuICBpZiAodmFsIDw9IDB4N2YpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwLnBsYWNlID0gb2ZmO1xuICByZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBybVBhZGRpbmcoYnVmKSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGggLSAxO1xuICB3aGlsZSAoIWJ1ZltpXSAmJiAhKGJ1ZltpICsgMV0gJiAweDgwKSAmJiBpIDwgbGVuKSB7XG4gICAgaSsrO1xuICB9XG4gIGlmIChpID09PSAwKSB7XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuICByZXR1cm4gYnVmLnNsaWNlKGkpO1xufVxuXG5TaWduYXR1cmUucHJvdG90eXBlLl9pbXBvcnRERVIgPSBmdW5jdGlvbiBfaW1wb3J0REVSKGRhdGEsIGVuYykge1xuICBkYXRhID0gdXRpbHNfMSQxLnRvQXJyYXkoZGF0YSwgZW5jKTtcbiAgdmFyIHAgPSBuZXcgUG9zaXRpb24oKTtcbiAgaWYgKGRhdGFbcC5wbGFjZSsrXSAhPT0gMHgzMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgbGVuID0gZ2V0TGVuZ3RoKGRhdGEsIHApO1xuICBpZiAobGVuID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoKGxlbiArIHAucGxhY2UpICE9PSBkYXRhLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZGF0YVtwLnBsYWNlKytdICE9PSAweDAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBybGVuID0gZ2V0TGVuZ3RoKGRhdGEsIHApO1xuICBpZiAocmxlbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHIgPSBkYXRhLnNsaWNlKHAucGxhY2UsIHJsZW4gKyBwLnBsYWNlKTtcbiAgcC5wbGFjZSArPSBybGVuO1xuICBpZiAoZGF0YVtwLnBsYWNlKytdICE9PSAweDAyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBzbGVuID0gZ2V0TGVuZ3RoKGRhdGEsIHApO1xuICBpZiAoc2xlbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGRhdGEubGVuZ3RoICE9PSBzbGVuICsgcC5wbGFjZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcyA9IGRhdGEuc2xpY2UocC5wbGFjZSwgc2xlbiArIHAucGxhY2UpO1xuICBpZiAoclswXSA9PT0gMCkge1xuICAgIGlmIChyWzFdICYgMHg4MCkge1xuICAgICAgciA9IHIuc2xpY2UoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExlYWRpbmcgemVyb2VzXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChzWzBdID09PSAwKSB7XG4gICAgaWYgKHNbMV0gJiAweDgwKSB7XG4gICAgICBzID0gcy5zbGljZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGVhZGluZyB6ZXJvZXNcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0aGlzLnIgPSBuZXcgQk4ocik7XG4gIHRoaXMucyA9IG5ldyBCTihzKTtcbiAgdGhpcy5yZWNvdmVyeVBhcmFtID0gbnVsbDtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdExlbmd0aChhcnIsIGxlbikge1xuICBpZiAobGVuIDwgMHg4MCkge1xuICAgIGFyci5wdXNoKGxlbik7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBvY3RldHMgPSAxICsgKE1hdGgubG9nKGxlbikgLyBNYXRoLkxOMiA+Pj4gMyk7XG4gIGFyci5wdXNoKG9jdGV0cyB8IDB4ODApO1xuICB3aGlsZSAoLS1vY3RldHMpIHtcbiAgICBhcnIucHVzaCgobGVuID4+PiAob2N0ZXRzIDw8IDMpKSAmIDB4ZmYpO1xuICB9XG4gIGFyci5wdXNoKGxlbik7XG59XG5cblNpZ25hdHVyZS5wcm90b3R5cGUudG9ERVIgPSBmdW5jdGlvbiB0b0RFUihlbmMpIHtcbiAgdmFyIHIgPSB0aGlzLnIudG9BcnJheSgpO1xuICB2YXIgcyA9IHRoaXMucy50b0FycmF5KCk7XG5cbiAgLy8gUGFkIHZhbHVlc1xuICBpZiAoclswXSAmIDB4ODApXG4gICAgciA9IFsgMCBdLmNvbmNhdChyKTtcbiAgLy8gUGFkIHZhbHVlc1xuICBpZiAoc1swXSAmIDB4ODApXG4gICAgcyA9IFsgMCBdLmNvbmNhdChzKTtcblxuICByID0gcm1QYWRkaW5nKHIpO1xuICBzID0gcm1QYWRkaW5nKHMpO1xuXG4gIHdoaWxlICghc1swXSAmJiAhKHNbMV0gJiAweDgwKSkge1xuICAgIHMgPSBzLnNsaWNlKDEpO1xuICB9XG4gIHZhciBhcnIgPSBbIDB4MDIgXTtcbiAgY29uc3RydWN0TGVuZ3RoKGFyciwgci5sZW5ndGgpO1xuICBhcnIgPSBhcnIuY29uY2F0KHIpO1xuICBhcnIucHVzaCgweDAyKTtcbiAgY29uc3RydWN0TGVuZ3RoKGFyciwgcy5sZW5ndGgpO1xuICB2YXIgYmFja0hhbGYgPSBhcnIuY29uY2F0KHMpO1xuICB2YXIgcmVzID0gWyAweDMwIF07XG4gIGNvbnN0cnVjdExlbmd0aChyZXMsIGJhY2tIYWxmLmxlbmd0aCk7XG4gIHJlcyA9IHJlcy5jb25jYXQoYmFja0hhbGYpO1xuICByZXR1cm4gdXRpbHNfMSQxLmVuY29kZShyZXMsIGVuYyk7XG59O1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5cblxudmFyIHJhbmQgPSAvKlJpY01vbzpldGhlcnM6cmVxdWlyZShicm9yYW5kKSovKGZ1bmN0aW9uKCkgeyB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkJyk7IH0pO1xudmFyIGFzc2VydCQ1ID0gdXRpbHNfMSQxLmFzc2VydDtcblxuXG5cblxuZnVuY3Rpb24gRUMob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRUMpKVxuICAgIHJldHVybiBuZXcgRUMob3B0aW9ucyk7XG5cbiAgLy8gU2hvcnRjdXQgYGVsbGlwdGljLmVjKGN1cnZlLW5hbWUpYFxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgYXNzZXJ0JDUoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGN1cnZlc18xLCBvcHRpb25zKSxcbiAgICAgICdVbmtub3duIGN1cnZlICcgKyBvcHRpb25zKTtcblxuICAgIG9wdGlvbnMgPSBjdXJ2ZXNfMVtvcHRpb25zXTtcbiAgfVxuXG4gIC8vIFNob3J0Y3V0IGZvciBgZWxsaXB0aWMuZWMoZWxsaXB0aWMuY3VydmVzLmN1cnZlTmFtZSlgXG4gIGlmIChvcHRpb25zIGluc3RhbmNlb2YgY3VydmVzXzEuUHJlc2V0Q3VydmUpXG4gICAgb3B0aW9ucyA9IHsgY3VydmU6IG9wdGlvbnMgfTtcblxuICB0aGlzLmN1cnZlID0gb3B0aW9ucy5jdXJ2ZS5jdXJ2ZTtcbiAgdGhpcy5uID0gdGhpcy5jdXJ2ZS5uO1xuICB0aGlzLm5oID0gdGhpcy5uLnVzaHJuKDEpO1xuICB0aGlzLmcgPSB0aGlzLmN1cnZlLmc7XG5cbiAgLy8gUG9pbnQgb24gY3VydmVcbiAgdGhpcy5nID0gb3B0aW9ucy5jdXJ2ZS5nO1xuICB0aGlzLmcucHJlY29tcHV0ZShvcHRpb25zLmN1cnZlLm4uYml0TGVuZ3RoKCkgKyAxKTtcblxuICAvLyBIYXNoIGZvciBmdW5jdGlvbiBmb3IgRFJCR1xuICB0aGlzLmhhc2ggPSBvcHRpb25zLmhhc2ggfHwgb3B0aW9ucy5jdXJ2ZS5oYXNoO1xufVxudmFyIGVjID0gRUM7XG5cbkVDLnByb3RvdHlwZS5rZXlQYWlyID0gZnVuY3Rpb24ga2V5UGFpcihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcga2V5KHRoaXMsIG9wdGlvbnMpO1xufTtcblxuRUMucHJvdG90eXBlLmtleUZyb21Qcml2YXRlID0gZnVuY3Rpb24ga2V5RnJvbVByaXZhdGUocHJpdiwgZW5jKSB7XG4gIHJldHVybiBrZXkuZnJvbVByaXZhdGUodGhpcywgcHJpdiwgZW5jKTtcbn07XG5cbkVDLnByb3RvdHlwZS5rZXlGcm9tUHVibGljID0gZnVuY3Rpb24ga2V5RnJvbVB1YmxpYyhwdWIsIGVuYykge1xuICByZXR1cm4ga2V5LmZyb21QdWJsaWModGhpcywgcHViLCBlbmMpO1xufTtcblxuRUMucHJvdG90eXBlLmdlbktleVBhaXIgPSBmdW5jdGlvbiBnZW5LZXlQYWlyKG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKVxuICAgIG9wdGlvbnMgPSB7fTtcblxuICAvLyBJbnN0YW50aWF0ZSBIbWFjX0RSQkdcbiAgdmFyIGRyYmcgPSBuZXcgaG1hY0RyYmcoe1xuICAgIGhhc2g6IHRoaXMuaGFzaCxcbiAgICBwZXJzOiBvcHRpb25zLnBlcnMsXG4gICAgcGVyc0VuYzogb3B0aW9ucy5wZXJzRW5jIHx8ICd1dGY4JyxcbiAgICBlbnRyb3B5OiBvcHRpb25zLmVudHJvcHkgfHwgcmFuZCh0aGlzLmhhc2guaG1hY1N0cmVuZ3RoKSxcbiAgICBlbnRyb3B5RW5jOiBvcHRpb25zLmVudHJvcHkgJiYgb3B0aW9ucy5lbnRyb3B5RW5jIHx8ICd1dGY4JyxcbiAgICBub25jZTogdGhpcy5uLnRvQXJyYXkoKSxcbiAgfSk7XG5cbiAgdmFyIGJ5dGVzID0gdGhpcy5uLmJ5dGVMZW5ndGgoKTtcbiAgdmFyIG5zMiA9IHRoaXMubi5zdWIobmV3IEJOKDIpKTtcbiAgZm9yICg7Oykge1xuICAgIHZhciBwcml2ID0gbmV3IEJOKGRyYmcuZ2VuZXJhdGUoYnl0ZXMpKTtcbiAgICBpZiAocHJpdi5jbXAobnMyKSA+IDApXG4gICAgICBjb250aW51ZTtcblxuICAgIHByaXYuaWFkZG4oMSk7XG4gICAgcmV0dXJuIHRoaXMua2V5RnJvbVByaXZhdGUocHJpdik7XG4gIH1cbn07XG5cbkVDLnByb3RvdHlwZS5fdHJ1bmNhdGVUb04gPSBmdW5jdGlvbiBfdHJ1bmNhdGVUb04obXNnLCB0cnVuY09ubHkpIHtcbiAgdmFyIGRlbHRhID0gbXNnLmJ5dGVMZW5ndGgoKSAqIDggLSB0aGlzLm4uYml0TGVuZ3RoKCk7XG4gIGlmIChkZWx0YSA+IDApXG4gICAgbXNnID0gbXNnLnVzaHJuKGRlbHRhKTtcbiAgaWYgKCF0cnVuY09ubHkgJiYgbXNnLmNtcCh0aGlzLm4pID49IDApXG4gICAgcmV0dXJuIG1zZy5zdWIodGhpcy5uKTtcbiAgZWxzZVxuICAgIHJldHVybiBtc2c7XG59O1xuXG5FQy5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uIHNpZ24obXNnLCBrZXksIGVuYywgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIGVuYyA9PT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0gZW5jO1xuICAgIGVuYyA9IG51bGw7XG4gIH1cbiAgaWYgKCFvcHRpb25zKVxuICAgIG9wdGlvbnMgPSB7fTtcblxuICBrZXkgPSB0aGlzLmtleUZyb21Qcml2YXRlKGtleSwgZW5jKTtcbiAgbXNnID0gdGhpcy5fdHJ1bmNhdGVUb04obmV3IEJOKG1zZywgMTYpKTtcblxuICAvLyBaZXJvLWV4dGVuZCBrZXkgdG8gcHJvdmlkZSBlbm91Z2ggZW50cm9weVxuICB2YXIgYnl0ZXMgPSB0aGlzLm4uYnl0ZUxlbmd0aCgpO1xuICB2YXIgYmtleSA9IGtleS5nZXRQcml2YXRlKCkudG9BcnJheSgnYmUnLCBieXRlcyk7XG5cbiAgLy8gWmVyby1leHRlbmQgbm9uY2UgdG8gaGF2ZSB0aGUgc2FtZSBieXRlIHNpemUgYXMgTlxuICB2YXIgbm9uY2UgPSBtc2cudG9BcnJheSgnYmUnLCBieXRlcyk7XG5cbiAgLy8gSW5zdGFudGlhdGUgSG1hY19EUkJHXG4gIHZhciBkcmJnID0gbmV3IGhtYWNEcmJnKHtcbiAgICBoYXNoOiB0aGlzLmhhc2gsXG4gICAgZW50cm9weTogYmtleSxcbiAgICBub25jZTogbm9uY2UsXG4gICAgcGVyczogb3B0aW9ucy5wZXJzLFxuICAgIHBlcnNFbmM6IG9wdGlvbnMucGVyc0VuYyB8fCAndXRmOCcsXG4gIH0pO1xuXG4gIC8vIE51bWJlciBvZiBieXRlcyB0byBnZW5lcmF0ZVxuICB2YXIgbnMxID0gdGhpcy5uLnN1YihuZXcgQk4oMSkpO1xuXG4gIGZvciAodmFyIGl0ZXIgPSAwOyA7IGl0ZXIrKykge1xuICAgIHZhciBrID0gb3B0aW9ucy5rID9cbiAgICAgIG9wdGlvbnMuayhpdGVyKSA6XG4gICAgICBuZXcgQk4oZHJiZy5nZW5lcmF0ZSh0aGlzLm4uYnl0ZUxlbmd0aCgpKSk7XG4gICAgayA9IHRoaXMuX3RydW5jYXRlVG9OKGssIHRydWUpO1xuICAgIGlmIChrLmNtcG4oMSkgPD0gMCB8fCBrLmNtcChuczEpID49IDApXG4gICAgICBjb250aW51ZTtcblxuICAgIHZhciBrcCA9IHRoaXMuZy5tdWwoayk7XG4gICAgaWYgKGtwLmlzSW5maW5pdHkoKSlcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgdmFyIGtwWCA9IGtwLmdldFgoKTtcbiAgICB2YXIgciA9IGtwWC51bW9kKHRoaXMubik7XG4gICAgaWYgKHIuY21wbigwKSA9PT0gMClcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgdmFyIHMgPSBrLmludm0odGhpcy5uKS5tdWwoci5tdWwoa2V5LmdldFByaXZhdGUoKSkuaWFkZChtc2cpKTtcbiAgICBzID0gcy51bW9kKHRoaXMubik7XG4gICAgaWYgKHMuY21wbigwKSA9PT0gMClcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgdmFyIHJlY292ZXJ5UGFyYW0gPSAoa3AuZ2V0WSgpLmlzT2RkKCkgPyAxIDogMCkgfFxuICAgICAgICAgICAgICAgICAgICAgICAgKGtwWC5jbXAocikgIT09IDAgPyAyIDogMCk7XG5cbiAgICAvLyBVc2UgY29tcGxlbWVudCBvZiBgc2AsIGlmIGl0IGlzID4gYG4gLyAyYFxuICAgIGlmIChvcHRpb25zLmNhbm9uaWNhbCAmJiBzLmNtcCh0aGlzLm5oKSA+IDApIHtcbiAgICAgIHMgPSB0aGlzLm4uc3ViKHMpO1xuICAgICAgcmVjb3ZlcnlQYXJhbSBePSAxO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgc2lnbmF0dXJlKHsgcjogciwgczogcywgcmVjb3ZlcnlQYXJhbTogcmVjb3ZlcnlQYXJhbSB9KTtcbiAgfVxufTtcblxuRUMucHJvdG90eXBlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtc2csIHNpZ25hdHVyZSQxLCBrZXksIGVuYykge1xuICBtc2cgPSB0aGlzLl90cnVuY2F0ZVRvTihuZXcgQk4obXNnLCAxNikpO1xuICBrZXkgPSB0aGlzLmtleUZyb21QdWJsaWMoa2V5LCBlbmMpO1xuICBzaWduYXR1cmUkMSA9IG5ldyBzaWduYXR1cmUoc2lnbmF0dXJlJDEsICdoZXgnKTtcblxuICAvLyBQZXJmb3JtIHByaW1pdGl2ZSB2YWx1ZXMgdmFsaWRhdGlvblxuICB2YXIgciA9IHNpZ25hdHVyZSQxLnI7XG4gIHZhciBzID0gc2lnbmF0dXJlJDEucztcbiAgaWYgKHIuY21wbigxKSA8IDAgfHwgci5jbXAodGhpcy5uKSA+PSAwKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKHMuY21wbigxKSA8IDAgfHwgcy5jbXAodGhpcy5uKSA+PSAwKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBWYWxpZGF0ZSBzaWduYXR1cmVcbiAgdmFyIHNpbnYgPSBzLmludm0odGhpcy5uKTtcbiAgdmFyIHUxID0gc2ludi5tdWwobXNnKS51bW9kKHRoaXMubik7XG4gIHZhciB1MiA9IHNpbnYubXVsKHIpLnVtb2QodGhpcy5uKTtcbiAgdmFyIHA7XG5cbiAgaWYgKCF0aGlzLmN1cnZlLl9tYXh3ZWxsVHJpY2spIHtcbiAgICBwID0gdGhpcy5nLm11bEFkZCh1MSwga2V5LmdldFB1YmxpYygpLCB1Mik7XG4gICAgaWYgKHAuaXNJbmZpbml0eSgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIHAuZ2V0WCgpLnVtb2QodGhpcy5uKS5jbXAocikgPT09IDA7XG4gIH1cblxuICAvLyBOT1RFOiBHcmVnIE1heHdlbGwncyB0cmljaywgaW5zcGlyZWQgYnk6XG4gIC8vIGh0dHBzOi8vZ2l0LmlvL3ZhZDNLXG5cbiAgcCA9IHRoaXMuZy5qbXVsQWRkKHUxLCBrZXkuZ2V0UHVibGljKCksIHUyKTtcbiAgaWYgKHAuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBDb21wYXJlIGBwLnhgIG9mIEphY29iaWFuIHBvaW50IHdpdGggYHJgLFxuICAvLyB0aGlzIHdpbGwgZG8gYHAueCA9PSByICogcC56XjJgIGluc3RlYWQgb2YgbXVsdGlwbHlpbmcgYHAueGAgYnkgdGhlXG4gIC8vIGludmVyc2Ugb2YgYHAuel4yYFxuICByZXR1cm4gcC5lcVhUb1Aocik7XG59O1xuXG5FQy5wcm90b3R5cGUucmVjb3ZlclB1YktleSA9IGZ1bmN0aW9uKG1zZywgc2lnbmF0dXJlJDEsIGosIGVuYykge1xuICBhc3NlcnQkNSgoMyAmIGopID09PSBqLCAnVGhlIHJlY292ZXJ5IHBhcmFtIGlzIG1vcmUgdGhhbiB0d28gYml0cycpO1xuICBzaWduYXR1cmUkMSA9IG5ldyBzaWduYXR1cmUoc2lnbmF0dXJlJDEsIGVuYyk7XG5cbiAgdmFyIG4gPSB0aGlzLm47XG4gIHZhciBlID0gbmV3IEJOKG1zZyk7XG4gIHZhciByID0gc2lnbmF0dXJlJDEucjtcbiAgdmFyIHMgPSBzaWduYXR1cmUkMS5zO1xuXG4gIC8vIEEgc2V0IExTQiBzaWduaWZpZXMgdGhhdCB0aGUgeS1jb29yZGluYXRlIGlzIG9kZFxuICB2YXIgaXNZT2RkID0gaiAmIDE7XG4gIHZhciBpc1NlY29uZEtleSA9IGogPj4gMTtcbiAgaWYgKHIuY21wKHRoaXMuY3VydmUucC51bW9kKHRoaXMuY3VydmUubikpID49IDAgJiYgaXNTZWNvbmRLZXkpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBzZW5jb25kIGtleSBjYW5kaW5hdGUnKTtcblxuICAvLyAxLjEuIExldCB4ID0gciArIGpuLlxuICBpZiAoaXNTZWNvbmRLZXkpXG4gICAgciA9IHRoaXMuY3VydmUucG9pbnRGcm9tWChyLmFkZCh0aGlzLmN1cnZlLm4pLCBpc1lPZGQpO1xuICBlbHNlXG4gICAgciA9IHRoaXMuY3VydmUucG9pbnRGcm9tWChyLCBpc1lPZGQpO1xuXG4gIHZhciBySW52ID0gc2lnbmF0dXJlJDEuci5pbnZtKG4pO1xuICB2YXIgczEgPSBuLnN1YihlKS5tdWwockludikudW1vZChuKTtcbiAgdmFyIHMyID0gcy5tdWwockludikudW1vZChuKTtcblxuICAvLyAxLjYuMSBDb21wdXRlIFEgPSByXi0xIChzUiAtICBlRylcbiAgLy8gICAgICAgICAgICAgICBRID0gcl4tMSAoc1IgKyAtZUcpXG4gIHJldHVybiB0aGlzLmcubXVsQWRkKHMxLCByLCBzMik7XG59O1xuXG5FQy5wcm90b3R5cGUuZ2V0S2V5UmVjb3ZlcnlQYXJhbSA9IGZ1bmN0aW9uKGUsIHNpZ25hdHVyZSQxLCBRLCBlbmMpIHtcbiAgc2lnbmF0dXJlJDEgPSBuZXcgc2lnbmF0dXJlKHNpZ25hdHVyZSQxLCBlbmMpO1xuICBpZiAoc2lnbmF0dXJlJDEucmVjb3ZlcnlQYXJhbSAhPT0gbnVsbClcbiAgICByZXR1cm4gc2lnbmF0dXJlJDEucmVjb3ZlcnlQYXJhbTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgIHZhciBRcHJpbWU7XG4gICAgdHJ5IHtcbiAgICAgIFFwcmltZSA9IHRoaXMucmVjb3ZlclB1YktleShlLCBzaWduYXR1cmUkMSwgaSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKFFwcmltZS5lcShRKSlcbiAgICAgIHJldHVybiBpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgdmFsaWQgcmVjb3ZlcnkgZmFjdG9yJyk7XG59O1xuXG52YXIgZWxsaXB0aWNfMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIGVsbGlwdGljID0gZXhwb3J0cztcblxuZWxsaXB0aWMudmVyc2lvbiA9IC8qUmljTW9vOmV0aGVycyoveyB2ZXJzaW9uOiBcIjYuNS40XCIgfS52ZXJzaW9uO1xuZWxsaXB0aWMudXRpbHMgPSB1dGlsc18xJDE7XG5lbGxpcHRpYy5yYW5kID0gLypSaWNNb286ZXRoZXJzOnJlcXVpcmUoYnJvcmFuZCkqLyhmdW5jdGlvbigpIHsgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCcpOyB9KTtcbmVsbGlwdGljLmN1cnZlID0gY3VydmVfMTtcbmVsbGlwdGljLmN1cnZlcyA9IGN1cnZlc18xO1xuXG4vLyBQcm90b2NvbHNcbmVsbGlwdGljLmVjID0gZWM7XG5lbGxpcHRpYy5lZGRzYSA9IC8qUmljTW9vOmV0aGVyczpyZXF1aXJlKC4vZWxsaXB0aWMvZWRkc2EpKi8obnVsbCk7XG59KTtcblxudmFyIEVDJDEgPSBlbGxpcHRpY18xLmVjO1xuXG5leHBvcnQgeyBFQyQxIGFzIEVDIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGxpcHRpYy5qcy5tYXBcbiIsImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCJzaWduaW5nLWtleS81LjUuMFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9X3ZlcnNpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBFQyB9IGZyb20gXCIuL2VsbGlwdGljXCI7XG5pbXBvcnQgeyBhcnJheWlmeSwgaGV4bGlmeSwgaGV4WmVyb1BhZCwgc3BsaXRTaWduYXR1cmUgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYnl0ZXNcIjtcbmltcG9ydCB7IGRlZmluZVJlYWRPbmx5IH0gZnJvbSBcIkBldGhlcnNwcm9qZWN0L3Byb3BlcnRpZXNcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9sb2dnZXJcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi9fdmVyc2lvblwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcih2ZXJzaW9uKTtcbmxldCBfY3VydmUgPSBudWxsO1xuZnVuY3Rpb24gZ2V0Q3VydmUoKSB7XG4gICAgaWYgKCFfY3VydmUpIHtcbiAgICAgICAgX2N1cnZlID0gbmV3IEVDKFwic2VjcDI1NmsxXCIpO1xuICAgIH1cbiAgICByZXR1cm4gX2N1cnZlO1xufVxuZXhwb3J0IGNsYXNzIFNpZ25pbmdLZXkge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGVLZXkpIHtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJjdXJ2ZVwiLCBcInNlY3AyNTZrMVwiKTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJwcml2YXRlS2V5XCIsIGhleGxpZnkocHJpdmF0ZUtleSkpO1xuICAgICAgICBjb25zdCBrZXlQYWlyID0gZ2V0Q3VydmUoKS5rZXlGcm9tUHJpdmF0ZShhcnJheWlmeSh0aGlzLnByaXZhdGVLZXkpKTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJwdWJsaWNLZXlcIiwgXCIweFwiICsga2V5UGFpci5nZXRQdWJsaWMoZmFsc2UsIFwiaGV4XCIpKTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJjb21wcmVzc2VkUHVibGljS2V5XCIsIFwiMHhcIiArIGtleVBhaXIuZ2V0UHVibGljKHRydWUsIFwiaGV4XCIpKTtcbiAgICAgICAgZGVmaW5lUmVhZE9ubHkodGhpcywgXCJfaXNTaWduaW5nS2V5XCIsIHRydWUpO1xuICAgIH1cbiAgICBfYWRkUG9pbnQob3RoZXIpIHtcbiAgICAgICAgY29uc3QgcDAgPSBnZXRDdXJ2ZSgpLmtleUZyb21QdWJsaWMoYXJyYXlpZnkodGhpcy5wdWJsaWNLZXkpKTtcbiAgICAgICAgY29uc3QgcDEgPSBnZXRDdXJ2ZSgpLmtleUZyb21QdWJsaWMoYXJyYXlpZnkob3RoZXIpKTtcbiAgICAgICAgcmV0dXJuIFwiMHhcIiArIHAwLnB1Yi5hZGQocDEucHViKS5lbmNvZGVDb21wcmVzc2VkKFwiaGV4XCIpO1xuICAgIH1cbiAgICBzaWduRGlnZXN0KGRpZ2VzdCkge1xuICAgICAgICBjb25zdCBrZXlQYWlyID0gZ2V0Q3VydmUoKS5rZXlGcm9tUHJpdmF0ZShhcnJheWlmeSh0aGlzLnByaXZhdGVLZXkpKTtcbiAgICAgICAgY29uc3QgZGlnZXN0Qnl0ZXMgPSBhcnJheWlmeShkaWdlc3QpO1xuICAgICAgICBpZiAoZGlnZXN0Qnl0ZXMubGVuZ3RoICE9PSAzMikge1xuICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImJhZCBkaWdlc3QgbGVuZ3RoXCIsIFwiZGlnZXN0XCIsIGRpZ2VzdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0ga2V5UGFpci5zaWduKGRpZ2VzdEJ5dGVzLCB7IGNhbm9uaWNhbDogdHJ1ZSB9KTtcbiAgICAgICAgcmV0dXJuIHNwbGl0U2lnbmF0dXJlKHtcbiAgICAgICAgICAgIHJlY292ZXJ5UGFyYW06IHNpZ25hdHVyZS5yZWNvdmVyeVBhcmFtLFxuICAgICAgICAgICAgcjogaGV4WmVyb1BhZChcIjB4XCIgKyBzaWduYXR1cmUuci50b1N0cmluZygxNiksIDMyKSxcbiAgICAgICAgICAgIHM6IGhleFplcm9QYWQoXCIweFwiICsgc2lnbmF0dXJlLnMudG9TdHJpbmcoMTYpLCAzMiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb21wdXRlU2hhcmVkU2VjcmV0KG90aGVyS2V5KSB7XG4gICAgICAgIGNvbnN0IGtleVBhaXIgPSBnZXRDdXJ2ZSgpLmtleUZyb21Qcml2YXRlKGFycmF5aWZ5KHRoaXMucHJpdmF0ZUtleSkpO1xuICAgICAgICBjb25zdCBvdGhlcktleVBhaXIgPSBnZXRDdXJ2ZSgpLmtleUZyb21QdWJsaWMoYXJyYXlpZnkoY29tcHV0ZVB1YmxpY0tleShvdGhlcktleSkpKTtcbiAgICAgICAgcmV0dXJuIGhleFplcm9QYWQoXCIweFwiICsga2V5UGFpci5kZXJpdmUob3RoZXJLZXlQYWlyLmdldFB1YmxpYygpKS50b1N0cmluZygxNiksIDMyKTtcbiAgICB9XG4gICAgc3RhdGljIGlzU2lnbmluZ0tleSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX2lzU2lnbmluZ0tleSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlY292ZXJQdWJsaWNLZXkoZGlnZXN0LCBzaWduYXR1cmUpIHtcbiAgICBjb25zdCBzaWcgPSBzcGxpdFNpZ25hdHVyZShzaWduYXR1cmUpO1xuICAgIGNvbnN0IHJzID0geyByOiBhcnJheWlmeShzaWcuciksIHM6IGFycmF5aWZ5KHNpZy5zKSB9O1xuICAgIHJldHVybiBcIjB4XCIgKyBnZXRDdXJ2ZSgpLnJlY292ZXJQdWJLZXkoYXJyYXlpZnkoZGlnZXN0KSwgcnMsIHNpZy5yZWNvdmVyeVBhcmFtKS5lbmNvZGUoXCJoZXhcIiwgZmFsc2UpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVQdWJsaWNLZXkoa2V5LCBjb21wcmVzc2VkKSB7XG4gICAgY29uc3QgYnl0ZXMgPSBhcnJheWlmeShrZXkpO1xuICAgIGlmIChieXRlcy5sZW5ndGggPT09IDMyKSB7XG4gICAgICAgIGNvbnN0IHNpZ25pbmdLZXkgPSBuZXcgU2lnbmluZ0tleShieXRlcyk7XG4gICAgICAgIGlmIChjb21wcmVzc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gXCIweFwiICsgZ2V0Q3VydmUoKS5rZXlGcm9tUHJpdmF0ZShieXRlcykuZ2V0UHVibGljKHRydWUsIFwiaGV4XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaWduaW5nS2V5LnB1YmxpY0tleTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYnl0ZXMubGVuZ3RoID09PSAzMykge1xuICAgICAgICBpZiAoY29tcHJlc3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhleGxpZnkoYnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIjB4XCIgKyBnZXRDdXJ2ZSgpLmtleUZyb21QdWJsaWMoYnl0ZXMpLmdldFB1YmxpYyhmYWxzZSwgXCJoZXhcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ5dGVzLmxlbmd0aCA9PT0gNjUpIHtcbiAgICAgICAgaWYgKCFjb21wcmVzc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGV4bGlmeShieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiMHhcIiArIGdldEN1cnZlKCkua2V5RnJvbVB1YmxpYyhieXRlcykuZ2V0UHVibGljKHRydWUsIFwiaGV4XCIpO1xuICAgIH1cbiAgICByZXR1cm4gbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgcHVibGljIG9yIHByaXZhdGUga2V5XCIsIFwia2V5XCIsIFwiW1JFREFDVEVEXVwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgZ2V0QWRkcmVzcyB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9hZGRyZXNzXCI7XG5pbXBvcnQgeyBCaWdOdW1iZXIgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYmlnbnVtYmVyXCI7XG5pbXBvcnQgeyBhcnJheWlmeSwgaGV4Q29uY2F0LCBoZXhEYXRhTGVuZ3RoLCBoZXhEYXRhU2xpY2UsIGhleGxpZnksIGhleFplcm9QYWQsIGlzQnl0ZXNMaWtlLCBzcGxpdFNpZ25hdHVyZSwgc3RyaXBaZXJvcywgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvYnl0ZXNcIjtcbmltcG9ydCB7IFplcm8gfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBrZWNjYWsyNTYgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3Qva2VjY2FrMjU2XCI7XG5pbXBvcnQgeyBjaGVja1Byb3BlcnRpZXMgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3QvcHJvcGVydGllc1wiO1xuaW1wb3J0ICogYXMgUkxQIGZyb20gXCJAZXRoZXJzcHJvamVjdC9ybHBcIjtcbmltcG9ydCB7IGNvbXB1dGVQdWJsaWNLZXksIHJlY292ZXJQdWJsaWNLZXkgfSBmcm9tIFwiQGV0aGVyc3Byb2plY3Qvc2lnbmluZy1rZXlcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCJAZXRoZXJzcHJvamVjdC9sb2dnZXJcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi9fdmVyc2lvblwiO1xuY29uc3QgbG9nZ2VyID0gbmV3IExvZ2dlcih2ZXJzaW9uKTtcbmV4cG9ydCB2YXIgVHJhbnNhY3Rpb25UeXBlcztcbihmdW5jdGlvbiAoVHJhbnNhY3Rpb25UeXBlcykge1xuICAgIFRyYW5zYWN0aW9uVHlwZXNbVHJhbnNhY3Rpb25UeXBlc1tcImxlZ2FjeVwiXSA9IDBdID0gXCJsZWdhY3lcIjtcbiAgICBUcmFuc2FjdGlvblR5cGVzW1RyYW5zYWN0aW9uVHlwZXNbXCJlaXAyOTMwXCJdID0gMV0gPSBcImVpcDI5MzBcIjtcbiAgICBUcmFuc2FjdGlvblR5cGVzW1RyYW5zYWN0aW9uVHlwZXNbXCJlaXAxNTU5XCJdID0gMl0gPSBcImVpcDE1NTlcIjtcbn0pKFRyYW5zYWN0aW9uVHlwZXMgfHwgKFRyYW5zYWN0aW9uVHlwZXMgPSB7fSkpO1xuO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gaGFuZGxlQWRkcmVzcyh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gXCIweFwiKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0QWRkcmVzcyh2YWx1ZSk7XG59XG5mdW5jdGlvbiBoYW5kbGVOdW1iZXIodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IFwiMHhcIikge1xuICAgICAgICByZXR1cm4gWmVybztcbiAgICB9XG4gICAgcmV0dXJuIEJpZ051bWJlci5mcm9tKHZhbHVlKTtcbn1cbi8vIExlZ2FjeSBUcmFuc2FjdGlvbiBGaWVsZHNcbmNvbnN0IHRyYW5zYWN0aW9uRmllbGRzID0gW1xuICAgIHsgbmFtZTogXCJub25jZVwiLCBtYXhMZW5ndGg6IDMyLCBudW1lcmljOiB0cnVlIH0sXG4gICAgeyBuYW1lOiBcImdhc1ByaWNlXCIsIG1heExlbmd0aDogMzIsIG51bWVyaWM6IHRydWUgfSxcbiAgICB7IG5hbWU6IFwiZ2FzTGltaXRcIiwgbWF4TGVuZ3RoOiAzMiwgbnVtZXJpYzogdHJ1ZSB9LFxuICAgIHsgbmFtZTogXCJ0b1wiLCBsZW5ndGg6IDIwIH0sXG4gICAgeyBuYW1lOiBcInZhbHVlXCIsIG1heExlbmd0aDogMzIsIG51bWVyaWM6IHRydWUgfSxcbiAgICB7IG5hbWU6IFwiZGF0YVwiIH0sXG5dO1xuY29uc3QgYWxsb3dlZFRyYW5zYWN0aW9uS2V5cyA9IHtcbiAgICBjaGFpbklkOiB0cnVlLCBkYXRhOiB0cnVlLCBnYXNMaW1pdDogdHJ1ZSwgZ2FzUHJpY2U6IHRydWUsIG5vbmNlOiB0cnVlLCB0bzogdHJ1ZSwgdHlwZTogdHJ1ZSwgdmFsdWU6IHRydWVcbn07XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUFkZHJlc3Moa2V5KSB7XG4gICAgY29uc3QgcHVibGljS2V5ID0gY29tcHV0ZVB1YmxpY0tleShrZXkpO1xuICAgIHJldHVybiBnZXRBZGRyZXNzKGhleERhdGFTbGljZShrZWNjYWsyNTYoaGV4RGF0YVNsaWNlKHB1YmxpY0tleSwgMSkpLCAxMikpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlY292ZXJBZGRyZXNzKGRpZ2VzdCwgc2lnbmF0dXJlKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVBZGRyZXNzKHJlY292ZXJQdWJsaWNLZXkoYXJyYXlpZnkoZGlnZXN0KSwgc2lnbmF0dXJlKSk7XG59XG5mdW5jdGlvbiBmb3JtYXROdW1iZXIodmFsdWUsIG5hbWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBzdHJpcFplcm9zKEJpZ051bWJlci5mcm9tKHZhbHVlKS50b0hleFN0cmluZygpKTtcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDMyKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGxlbmd0aCBmb3IgXCIgKyBuYW1lLCAoXCJ0cmFuc2FjdGlvbjpcIiArIG5hbWUpLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBhY2Nlc3NTZXRpZnkoYWRkciwgc3RvcmFnZUtleXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRyZXNzOiBnZXRBZGRyZXNzKGFkZHIpLFxuICAgICAgICBzdG9yYWdlS2V5czogKHN0b3JhZ2VLZXlzIHx8IFtdKS5tYXAoKHN0b3JhZ2VLZXksIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoaGV4RGF0YUxlbmd0aChzdG9yYWdlS2V5KSAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBhY2Nlc3MgbGlzdCBzdG9yYWdlS2V5XCIsIGBhY2Nlc3NMaXN0WyR7YWRkcn06JHtpbmRleH1dYCwgc3RvcmFnZUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RvcmFnZUtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9KVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzTGlzdGlmeSh2YWx1ZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUubWFwKChzZXQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzZXQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNldC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJhY2Nlc3MgbGlzdCBleHBlY3RlZCB0byBiZSBbIGFkZHJlc3MsIHN0b3JhZ2VLZXlzW10gXVwiLCBgdmFsdWVbJHtpbmRleH1dYCwgc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY2Vzc1NldGlmeShzZXRbMF0sIHNldFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWNjZXNzU2V0aWZ5KHNldC5hZGRyZXNzLCBzZXQuc3RvcmFnZUtleXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmtleXModmFsdWUpLm1hcCgoYWRkcikgPT4ge1xuICAgICAgICBjb25zdCBzdG9yYWdlS2V5cyA9IHZhbHVlW2FkZHJdLnJlZHVjZSgoYWNjdW0sIHN0b3JhZ2VLZXkpID0+IHtcbiAgICAgICAgICAgIGFjY3VtW3N0b3JhZ2VLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBhY2N1bTtcbiAgICAgICAgfSwge30pO1xuICAgICAgICByZXR1cm4gYWNjZXNzU2V0aWZ5KGFkZHIsIE9iamVjdC5rZXlzKHN0b3JhZ2VLZXlzKS5zb3J0KCkpO1xuICAgIH0pO1xuICAgIHJlc3VsdC5zb3J0KChhLCBiKSA9PiAoYS5hZGRyZXNzLmxvY2FsZUNvbXBhcmUoYi5hZGRyZXNzKSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBmb3JtYXRBY2Nlc3NMaXN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIGFjY2Vzc0xpc3RpZnkodmFsdWUpLm1hcCgoc2V0KSA9PiBbc2V0LmFkZHJlc3MsIHNldC5zdG9yYWdlS2V5c10pO1xufVxuZnVuY3Rpb24gX3NlcmlhbGl6ZUVpcDE1NTkodHJhbnNhY3Rpb24sIHNpZ25hdHVyZSkge1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIGV4cGxpY2l0IGdhc1ByaWNlLCBtYWtlIHN1cmUgaXQgbWF0Y2hlcyB0aGVcbiAgICAvLyBFSVAtMTU1OSBmZWVzOyBvdGhlcndpc2UgdGhleSBtYXkgbm90IHVuZGVyc3RhbmQgd2hhdCB0aGV5XG4gICAgLy8gdGhpbmsgdGhleSBhcmUgc2V0dGluZyBpbiB0ZXJtcyBvZiBmZWUuXG4gICAgaWYgKHRyYW5zYWN0aW9uLmdhc1ByaWNlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgZ2FzUHJpY2UgPSBCaWdOdW1iZXIuZnJvbSh0cmFuc2FjdGlvbi5nYXNQcmljZSk7XG4gICAgICAgIGNvbnN0IG1heEZlZVBlckdhcyA9IEJpZ051bWJlci5mcm9tKHRyYW5zYWN0aW9uLm1heEZlZVBlckdhcyB8fCAwKTtcbiAgICAgICAgaWYgKCFnYXNQcmljZS5lcShtYXhGZWVQZXJHYXMpKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwibWlzbWF0Y2ggRUlQLTE1NTkgZ2FzUHJpY2UgIT0gbWF4RmVlUGVyR2FzXCIsIFwidHhcIiwge1xuICAgICAgICAgICAgICAgIGdhc1ByaWNlLCBtYXhGZWVQZXJHYXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZpZWxkcyA9IFtcbiAgICAgICAgZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLmNoYWluSWQgfHwgMCwgXCJjaGFpbklkXCIpLFxuICAgICAgICBmb3JtYXROdW1iZXIodHJhbnNhY3Rpb24ubm9uY2UgfHwgMCwgXCJub25jZVwiKSxcbiAgICAgICAgZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLm1heFByaW9yaXR5RmVlUGVyR2FzIHx8IDAsIFwibWF4UHJpb3JpdHlGZWVQZXJHYXNcIiksXG4gICAgICAgIGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi5tYXhGZWVQZXJHYXMgfHwgMCwgXCJtYXhGZWVQZXJHYXNcIiksXG4gICAgICAgIGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi5nYXNMaW1pdCB8fCAwLCBcImdhc0xpbWl0XCIpLFxuICAgICAgICAoKHRyYW5zYWN0aW9uLnRvICE9IG51bGwpID8gZ2V0QWRkcmVzcyh0cmFuc2FjdGlvbi50bykgOiBcIjB4XCIpLFxuICAgICAgICBmb3JtYXROdW1iZXIodHJhbnNhY3Rpb24udmFsdWUgfHwgMCwgXCJ2YWx1ZVwiKSxcbiAgICAgICAgKHRyYW5zYWN0aW9uLmRhdGEgfHwgXCIweFwiKSxcbiAgICAgICAgKGZvcm1hdEFjY2Vzc0xpc3QodHJhbnNhY3Rpb24uYWNjZXNzTGlzdCB8fCBbXSkpXG4gICAgXTtcbiAgICBpZiAoc2lnbmF0dXJlKSB7XG4gICAgICAgIGNvbnN0IHNpZyA9IHNwbGl0U2lnbmF0dXJlKHNpZ25hdHVyZSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKGZvcm1hdE51bWJlcihzaWcucmVjb3ZlcnlQYXJhbSwgXCJyZWNvdmVyeVBhcmFtXCIpKTtcbiAgICAgICAgZmllbGRzLnB1c2goc3RyaXBaZXJvcyhzaWcucikpO1xuICAgICAgICBmaWVsZHMucHVzaChzdHJpcFplcm9zKHNpZy5zKSk7XG4gICAgfVxuICAgIHJldHVybiBoZXhDb25jYXQoW1wiMHgwMlwiLCBSTFAuZW5jb2RlKGZpZWxkcyldKTtcbn1cbmZ1bmN0aW9uIF9zZXJpYWxpemVFaXAyOTMwKHRyYW5zYWN0aW9uLCBzaWduYXR1cmUpIHtcbiAgICBjb25zdCBmaWVsZHMgPSBbXG4gICAgICAgIGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi5jaGFpbklkIHx8IDAsIFwiY2hhaW5JZFwiKSxcbiAgICAgICAgZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLm5vbmNlIHx8IDAsIFwibm9uY2VcIiksXG4gICAgICAgIGZvcm1hdE51bWJlcih0cmFuc2FjdGlvbi5nYXNQcmljZSB8fCAwLCBcImdhc1ByaWNlXCIpLFxuICAgICAgICBmb3JtYXROdW1iZXIodHJhbnNhY3Rpb24uZ2FzTGltaXQgfHwgMCwgXCJnYXNMaW1pdFwiKSxcbiAgICAgICAgKCh0cmFuc2FjdGlvbi50byAhPSBudWxsKSA/IGdldEFkZHJlc3ModHJhbnNhY3Rpb24udG8pIDogXCIweFwiKSxcbiAgICAgICAgZm9ybWF0TnVtYmVyKHRyYW5zYWN0aW9uLnZhbHVlIHx8IDAsIFwidmFsdWVcIiksXG4gICAgICAgICh0cmFuc2FjdGlvbi5kYXRhIHx8IFwiMHhcIiksXG4gICAgICAgIChmb3JtYXRBY2Nlc3NMaXN0KHRyYW5zYWN0aW9uLmFjY2Vzc0xpc3QgfHwgW10pKVxuICAgIF07XG4gICAgaWYgKHNpZ25hdHVyZSkge1xuICAgICAgICBjb25zdCBzaWcgPSBzcGxpdFNpZ25hdHVyZShzaWduYXR1cmUpO1xuICAgICAgICBmaWVsZHMucHVzaChmb3JtYXROdW1iZXIoc2lnLnJlY292ZXJ5UGFyYW0sIFwicmVjb3ZlcnlQYXJhbVwiKSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKHN0cmlwWmVyb3Moc2lnLnIpKTtcbiAgICAgICAgZmllbGRzLnB1c2goc3RyaXBaZXJvcyhzaWcucykpO1xuICAgIH1cbiAgICByZXR1cm4gaGV4Q29uY2F0KFtcIjB4MDFcIiwgUkxQLmVuY29kZShmaWVsZHMpXSk7XG59XG4vLyBMZWdhY3kgVHJhbnNhY3Rpb25zIGFuZCBFSVAtMTU1XG5mdW5jdGlvbiBfc2VyaWFsaXplKHRyYW5zYWN0aW9uLCBzaWduYXR1cmUpIHtcbiAgICBjaGVja1Byb3BlcnRpZXModHJhbnNhY3Rpb24sIGFsbG93ZWRUcmFuc2FjdGlvbktleXMpO1xuICAgIGNvbnN0IHJhdyA9IFtdO1xuICAgIHRyYW5zYWN0aW9uRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkSW5mbykge1xuICAgICAgICBsZXQgdmFsdWUgPSB0cmFuc2FjdGlvbltmaWVsZEluZm8ubmFtZV0gfHwgKFtdKTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuICAgICAgICBpZiAoZmllbGRJbmZvLm51bWVyaWMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaGV4UGFkID0gXCJsZWZ0XCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBhcnJheWlmeShoZXhsaWZ5KHZhbHVlLCBvcHRpb25zKSk7XG4gICAgICAgIC8vIEZpeGVkLXdpZHRoIGZpZWxkXG4gICAgICAgIGlmIChmaWVsZEluZm8ubGVuZ3RoICYmIHZhbHVlLmxlbmd0aCAhPT0gZmllbGRJbmZvLmxlbmd0aCAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBsZW5ndGggZm9yIFwiICsgZmllbGRJbmZvLm5hbWUsIChcInRyYW5zYWN0aW9uOlwiICsgZmllbGRJbmZvLm5hbWUpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFyaWFibGUtd2lkdGggKHdpdGggYSBtYXhpbXVtKVxuICAgICAgICBpZiAoZmllbGRJbmZvLm1heExlbmd0aCkge1xuICAgICAgICAgICAgdmFsdWUgPSBzdHJpcFplcm9zKHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiBmaWVsZEluZm8ubWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgbGVuZ3RoIGZvciBcIiArIGZpZWxkSW5mby5uYW1lLCAoXCJ0cmFuc2FjdGlvbjpcIiArIGZpZWxkSW5mby5uYW1lKSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJhdy5wdXNoKGhleGxpZnkodmFsdWUpKTtcbiAgICB9KTtcbiAgICBsZXQgY2hhaW5JZCA9IDA7XG4gICAgaWYgKHRyYW5zYWN0aW9uLmNoYWluSWQgIT0gbnVsbCkge1xuICAgICAgICAvLyBBIGNoYWluSWQgd2FzIHByb3ZpZGVkOyBpZiBub24temVybyB3ZSdsbCB1c2UgRUlQLTE1NVxuICAgICAgICBjaGFpbklkID0gdHJhbnNhY3Rpb24uY2hhaW5JZDtcbiAgICAgICAgaWYgKHR5cGVvZiAoY2hhaW5JZCkgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIHRyYW5zYWN0aW9uLmNoYWluSWRcIiwgXCJ0cmFuc2FjdGlvblwiLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoc2lnbmF0dXJlICYmICFpc0J5dGVzTGlrZShzaWduYXR1cmUpICYmIHNpZ25hdHVyZS52ID4gMjgpIHtcbiAgICAgICAgLy8gTm8gY2hhaW5JZCBwcm92aWRlZCwgYnV0IHRoZSBzaWduYXR1cmUgaXMgc2lnbmluZyB3aXRoIEVJUC0xNTU7IGRlcml2ZSBjaGFpbklkXG4gICAgICAgIGNoYWluSWQgPSBNYXRoLmZsb29yKChzaWduYXR1cmUudiAtIDM1KSAvIDIpO1xuICAgIH1cbiAgICAvLyBXZSBoYXZlIGFuIEVJUC0xNTUgdHJhbnNhY3Rpb24gKGNoYWluSWQgd2FzIHNwZWNpZmllZCBhbmQgbm9uLXplcm8pXG4gICAgaWYgKGNoYWluSWQgIT09IDApIHtcbiAgICAgICAgcmF3LnB1c2goaGV4bGlmeShjaGFpbklkKSk7IC8vIEBUT0RPOiBoZXhWYWx1ZT9cbiAgICAgICAgcmF3LnB1c2goXCIweFwiKTtcbiAgICAgICAgcmF3LnB1c2goXCIweFwiKTtcbiAgICB9XG4gICAgLy8gUmVxdWVzdGluZyBhbiB1bnNpZ25lZCB0cmFuc2FjdGlvblxuICAgIGlmICghc2lnbmF0dXJlKSB7XG4gICAgICAgIHJldHVybiBSTFAuZW5jb2RlKHJhdyk7XG4gICAgfVxuICAgIC8vIFRoZSBzcGxpdFNpZ25hdHVyZSB3aWxsIGVuc3VyZSB0aGUgdHJhbnNhY3Rpb24gaGFzIGEgcmVjb3ZlcnlQYXJhbSBpbiB0aGVcbiAgICAvLyBjYXNlIHRoYXQgdGhlIHNpZ25UcmFuc2FjdGlvbiBmdW5jdGlvbiBvbmx5IGFkZHMgYSB2LlxuICAgIGNvbnN0IHNpZyA9IHNwbGl0U2lnbmF0dXJlKHNpZ25hdHVyZSk7XG4gICAgLy8gV2UgcHVzaGVkIGEgY2hhaW5JZCBhbmQgbnVsbCByLCBzIG9uIGZvciBoYXNoaW5nIG9ubHk7IHJlbW92ZSB0aG9zZVxuICAgIGxldCB2ID0gMjcgKyBzaWcucmVjb3ZlcnlQYXJhbTtcbiAgICBpZiAoY2hhaW5JZCAhPT0gMCkge1xuICAgICAgICByYXcucG9wKCk7XG4gICAgICAgIHJhdy5wb3AoKTtcbiAgICAgICAgcmF3LnBvcCgpO1xuICAgICAgICB2ICs9IGNoYWluSWQgKiAyICsgODtcbiAgICAgICAgLy8gSWYgYW4gRUlQLTE1NSB2IChkaXJlY3RseSBvciBpbmRpcmVjdGx5OyBtYXliZSBfdnMpIHdhcyBwcm92aWRlZCwgY2hlY2sgaXQhXG4gICAgICAgIGlmIChzaWcudiA+IDI4ICYmIHNpZy52ICE9PSB2KSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwidHJhbnNhY3Rpb24uY2hhaW5JZC9zaWduYXR1cmUudiBtaXNtYXRjaFwiLCBcInNpZ25hdHVyZVwiLCBzaWduYXR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHNpZy52ICE9PSB2KSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJ0cmFuc2FjdGlvbi5jaGFpbklkL3NpZ25hdHVyZS52IG1pc21hdGNoXCIsIFwic2lnbmF0dXJlXCIsIHNpZ25hdHVyZSk7XG4gICAgfVxuICAgIHJhdy5wdXNoKGhleGxpZnkodikpO1xuICAgIHJhdy5wdXNoKHN0cmlwWmVyb3MoYXJyYXlpZnkoc2lnLnIpKSk7XG4gICAgcmF3LnB1c2goc3RyaXBaZXJvcyhhcnJheWlmeShzaWcucykpKTtcbiAgICByZXR1cm4gUkxQLmVuY29kZShyYXcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZSh0cmFuc2FjdGlvbiwgc2lnbmF0dXJlKSB7XG4gICAgLy8gTGVnYWN5IGFuZCBFSVAtMTU1IFRyYW5zYWN0aW9uc1xuICAgIGlmICh0cmFuc2FjdGlvbi50eXBlID09IG51bGwgfHwgdHJhbnNhY3Rpb24udHlwZSA9PT0gMCkge1xuICAgICAgICBpZiAodHJhbnNhY3Rpb24uYWNjZXNzTGlzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwidW50eXBlZCB0cmFuc2FjdGlvbnMgZG8gbm90IHN1cHBvcnQgYWNjZXNzTGlzdDsgaW5jbHVkZSB0eXBlOiAxXCIsIFwidHJhbnNhY3Rpb25cIiwgdHJhbnNhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc2VyaWFsaXplKHRyYW5zYWN0aW9uLCBzaWduYXR1cmUpO1xuICAgIH1cbiAgICAvLyBUeXBlZCBUcmFuc2FjdGlvbnMgKEVJUC0yNzE4KVxuICAgIHN3aXRjaCAodHJhbnNhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICByZXR1cm4gX3NlcmlhbGl6ZUVpcDI5MzAodHJhbnNhY3Rpb24sIHNpZ25hdHVyZSk7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBfc2VyaWFsaXplRWlwMTU1OSh0cmFuc2FjdGlvbiwgc2lnbmF0dXJlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gbG9nZ2VyLnRocm93RXJyb3IoYHVuc3VwcG9ydGVkIHRyYW5zYWN0aW9uIHR5cGU6ICR7dHJhbnNhY3Rpb24udHlwZX1gLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICBvcGVyYXRpb246IFwic2VyaWFsaXplVHJhbnNhY3Rpb25cIixcbiAgICAgICAgdHJhbnNhY3Rpb25UeXBlOiB0cmFuc2FjdGlvbi50eXBlXG4gICAgfSk7XG59XG5mdW5jdGlvbiBfcGFyc2VFaXBTaWduYXR1cmUodHgsIGZpZWxkcywgc2VyaWFsaXplKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVjaWQgPSBoYW5kbGVOdW1iZXIoZmllbGRzWzBdKS50b051bWJlcigpO1xuICAgICAgICBpZiAocmVjaWQgIT09IDAgJiYgcmVjaWQgIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImJhZCByZWNpZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0eC52ID0gcmVjaWQ7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCB2IGZvciB0cmFuc2FjdGlvbiB0eXBlOiAxXCIsIFwidlwiLCBmaWVsZHNbMF0pO1xuICAgIH1cbiAgICB0eC5yID0gaGV4WmVyb1BhZChmaWVsZHNbMV0sIDMyKTtcbiAgICB0eC5zID0gaGV4WmVyb1BhZChmaWVsZHNbMl0sIDMyKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkaWdlc3QgPSBrZWNjYWsyNTYoc2VyaWFsaXplKHR4KSk7XG4gICAgICAgIHR4LmZyb20gPSByZWNvdmVyQWRkcmVzcyhkaWdlc3QsIHsgcjogdHguciwgczogdHgucywgcmVjb3ZlcnlQYXJhbTogdHgudiB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBfcGFyc2VFaXAxNTU5KHBheWxvYWQpIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IFJMUC5kZWNvZGUocGF5bG9hZC5zbGljZSgxKSk7XG4gICAgaWYgKHRyYW5zYWN0aW9uLmxlbmd0aCAhPT0gOSAmJiB0cmFuc2FjdGlvbi5sZW5ndGggIT09IDEyKSB7XG4gICAgICAgIGxvZ2dlci50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGNvbXBvbmVudCBjb3VudCBmb3IgdHJhbnNhY3Rpb24gdHlwZTogMlwiLCBcInBheWxvYWRcIiwgaGV4bGlmeShwYXlsb2FkKSk7XG4gICAgfVxuICAgIGNvbnN0IG1heFByaW9yaXR5RmVlUGVyR2FzID0gaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzJdKTtcbiAgICBjb25zdCBtYXhGZWVQZXJHYXMgPSBoYW5kbGVOdW1iZXIodHJhbnNhY3Rpb25bM10pO1xuICAgIGNvbnN0IHR4ID0ge1xuICAgICAgICB0eXBlOiAyLFxuICAgICAgICBjaGFpbklkOiBoYW5kbGVOdW1iZXIodHJhbnNhY3Rpb25bMF0pLnRvTnVtYmVyKCksXG4gICAgICAgIG5vbmNlOiBoYW5kbGVOdW1iZXIodHJhbnNhY3Rpb25bMV0pLnRvTnVtYmVyKCksXG4gICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBtYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgbWF4RmVlUGVyR2FzOiBtYXhGZWVQZXJHYXMsXG4gICAgICAgIGdhc1ByaWNlOiBudWxsLFxuICAgICAgICBnYXNMaW1pdDogaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzRdKSxcbiAgICAgICAgdG86IGhhbmRsZUFkZHJlc3ModHJhbnNhY3Rpb25bNV0pLFxuICAgICAgICB2YWx1ZTogaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzZdKSxcbiAgICAgICAgZGF0YTogdHJhbnNhY3Rpb25bN10sXG4gICAgICAgIGFjY2Vzc0xpc3Q6IGFjY2Vzc0xpc3RpZnkodHJhbnNhY3Rpb25bOF0pLFxuICAgIH07XG4gICAgLy8gVW5zaWduZWQgRUlQLTE1NTkgVHJhbnNhY3Rpb25cbiAgICBpZiAodHJhbnNhY3Rpb24ubGVuZ3RoID09PSA5KSB7XG4gICAgICAgIHJldHVybiB0eDtcbiAgICB9XG4gICAgdHguaGFzaCA9IGtlY2NhazI1NihwYXlsb2FkKTtcbiAgICBfcGFyc2VFaXBTaWduYXR1cmUodHgsIHRyYW5zYWN0aW9uLnNsaWNlKDkpLCBfc2VyaWFsaXplRWlwMTU1OSk7XG4gICAgcmV0dXJuIHR4O1xufVxuZnVuY3Rpb24gX3BhcnNlRWlwMjkzMChwYXlsb2FkKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBSTFAuZGVjb2RlKHBheWxvYWQuc2xpY2UoMSkpO1xuICAgIGlmICh0cmFuc2FjdGlvbi5sZW5ndGggIT09IDggJiYgdHJhbnNhY3Rpb24ubGVuZ3RoICE9PSAxMSkge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBjb21wb25lbnQgY291bnQgZm9yIHRyYW5zYWN0aW9uIHR5cGU6IDFcIiwgXCJwYXlsb2FkXCIsIGhleGxpZnkocGF5bG9hZCkpO1xuICAgIH1cbiAgICBjb25zdCB0eCA9IHtcbiAgICAgICAgdHlwZTogMSxcbiAgICAgICAgY2hhaW5JZDogaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzBdKS50b051bWJlcigpLFxuICAgICAgICBub25jZTogaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzFdKS50b051bWJlcigpLFxuICAgICAgICBnYXNQcmljZTogaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzJdKSxcbiAgICAgICAgZ2FzTGltaXQ6IGhhbmRsZU51bWJlcih0cmFuc2FjdGlvblszXSksXG4gICAgICAgIHRvOiBoYW5kbGVBZGRyZXNzKHRyYW5zYWN0aW9uWzRdKSxcbiAgICAgICAgdmFsdWU6IGhhbmRsZU51bWJlcih0cmFuc2FjdGlvbls1XSksXG4gICAgICAgIGRhdGE6IHRyYW5zYWN0aW9uWzZdLFxuICAgICAgICBhY2Nlc3NMaXN0OiBhY2Nlc3NMaXN0aWZ5KHRyYW5zYWN0aW9uWzddKVxuICAgIH07XG4gICAgLy8gVW5zaWduZWQgRUlQLTI5MzAgVHJhbnNhY3Rpb25cbiAgICBpZiAodHJhbnNhY3Rpb24ubGVuZ3RoID09PSA4KSB7XG4gICAgICAgIHJldHVybiB0eDtcbiAgICB9XG4gICAgdHguaGFzaCA9IGtlY2NhazI1NihwYXlsb2FkKTtcbiAgICBfcGFyc2VFaXBTaWduYXR1cmUodHgsIHRyYW5zYWN0aW9uLnNsaWNlKDgpLCBfc2VyaWFsaXplRWlwMjkzMCk7XG4gICAgcmV0dXJuIHR4O1xufVxuLy8gTGVnYWN5IFRyYW5zYWN0aW9ucyBhbmQgRUlQLTE1NVxuZnVuY3Rpb24gX3BhcnNlKHJhd1RyYW5zYWN0aW9uKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBSTFAuZGVjb2RlKHJhd1RyYW5zYWN0aW9uKTtcbiAgICBpZiAodHJhbnNhY3Rpb24ubGVuZ3RoICE9PSA5ICYmIHRyYW5zYWN0aW9uLmxlbmd0aCAhPT0gNikge1xuICAgICAgICBsb2dnZXIudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCByYXcgdHJhbnNhY3Rpb25cIiwgXCJyYXdUcmFuc2FjdGlvblwiLCByYXdUcmFuc2FjdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IHR4ID0ge1xuICAgICAgICBub25jZTogaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzBdKS50b051bWJlcigpLFxuICAgICAgICBnYXNQcmljZTogaGFuZGxlTnVtYmVyKHRyYW5zYWN0aW9uWzFdKSxcbiAgICAgICAgZ2FzTGltaXQ6IGhhbmRsZU51bWJlcih0cmFuc2FjdGlvblsyXSksXG4gICAgICAgIHRvOiBoYW5kbGVBZGRyZXNzKHRyYW5zYWN0aW9uWzNdKSxcbiAgICAgICAgdmFsdWU6IGhhbmRsZU51bWJlcih0cmFuc2FjdGlvbls0XSksXG4gICAgICAgIGRhdGE6IHRyYW5zYWN0aW9uWzVdLFxuICAgICAgICBjaGFpbklkOiAwXG4gICAgfTtcbiAgICAvLyBMZWdhY3kgdW5zaWduZWQgdHJhbnNhY3Rpb25cbiAgICBpZiAodHJhbnNhY3Rpb24ubGVuZ3RoID09PSA2KSB7XG4gICAgICAgIHJldHVybiB0eDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgdHgudiA9IEJpZ051bWJlci5mcm9tKHRyYW5zYWN0aW9uWzZdKS50b051bWJlcigpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICByZXR1cm4gdHg7XG4gICAgfVxuICAgIHR4LnIgPSBoZXhaZXJvUGFkKHRyYW5zYWN0aW9uWzddLCAzMik7XG4gICAgdHgucyA9IGhleFplcm9QYWQodHJhbnNhY3Rpb25bOF0sIDMyKTtcbiAgICBpZiAoQmlnTnVtYmVyLmZyb20odHgucikuaXNaZXJvKCkgJiYgQmlnTnVtYmVyLmZyb20odHgucykuaXNaZXJvKCkpIHtcbiAgICAgICAgLy8gRUlQLTE1NSB1bnNpZ25lZCB0cmFuc2FjdGlvblxuICAgICAgICB0eC5jaGFpbklkID0gdHgudjtcbiAgICAgICAgdHgudiA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBTaWduZWQgVHJhbnNhY3Rpb25cbiAgICAgICAgdHguY2hhaW5JZCA9IE1hdGguZmxvb3IoKHR4LnYgLSAzNSkgLyAyKTtcbiAgICAgICAgaWYgKHR4LmNoYWluSWQgPCAwKSB7XG4gICAgICAgICAgICB0eC5jaGFpbklkID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVjb3ZlcnlQYXJhbSA9IHR4LnYgLSAyNztcbiAgICAgICAgY29uc3QgcmF3ID0gdHJhbnNhY3Rpb24uc2xpY2UoMCwgNik7XG4gICAgICAgIGlmICh0eC5jaGFpbklkICE9PSAwKSB7XG4gICAgICAgICAgICByYXcucHVzaChoZXhsaWZ5KHR4LmNoYWluSWQpKTtcbiAgICAgICAgICAgIHJhdy5wdXNoKFwiMHhcIik7XG4gICAgICAgICAgICByYXcucHVzaChcIjB4XCIpO1xuICAgICAgICAgICAgcmVjb3ZlcnlQYXJhbSAtPSB0eC5jaGFpbklkICogMiArIDg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlnZXN0ID0ga2VjY2FrMjU2KFJMUC5lbmNvZGUocmF3KSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0eC5mcm9tID0gcmVjb3ZlckFkZHJlc3MoZGlnZXN0LCB7IHI6IGhleGxpZnkodHguciksIHM6IGhleGxpZnkodHgucyksIHJlY292ZXJ5UGFyYW06IHJlY292ZXJ5UGFyYW0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdHguaGFzaCA9IGtlY2NhazI1NihyYXdUcmFuc2FjdGlvbik7XG4gICAgfVxuICAgIHR4LnR5cGUgPSBudWxsO1xuICAgIHJldHVybiB0eDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShyYXdUcmFuc2FjdGlvbikge1xuICAgIGNvbnN0IHBheWxvYWQgPSBhcnJheWlmeShyYXdUcmFuc2FjdGlvbik7XG4gICAgLy8gTGVnYWN5IGFuZCBFSVAtMTU1IFRyYW5zYWN0aW9uc1xuICAgIGlmIChwYXlsb2FkWzBdID4gMHg3Zikge1xuICAgICAgICByZXR1cm4gX3BhcnNlKHBheWxvYWQpO1xuICAgIH1cbiAgICAvLyBUeXBlZCBUcmFuc2FjdGlvbiAoRUlQLTI3MTgpXG4gICAgc3dpdGNoIChwYXlsb2FkWzBdKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBfcGFyc2VFaXAyOTMwKHBheWxvYWQpO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gX3BhcnNlRWlwMTU1OShwYXlsb2FkKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gbG9nZ2VyLnRocm93RXJyb3IoYHVuc3VwcG9ydGVkIHRyYW5zYWN0aW9uIHR5cGU6ICR7cGF5bG9hZFswXX1gLCBMb2dnZXIuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgICBvcGVyYXRpb246IFwicGFyc2VUcmFuc2FjdGlvblwiLFxuICAgICAgICB0cmFuc2FjdGlvblR5cGU6IHBheWxvYWRbMF1cbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCJ0cmFuc2FjdGlvbnMvNS41LjBcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPV92ZXJzaW9uLmpzLm1hcCJdLCJuYW1lcyI6WyJ2ZXJzaW9uIiwibG9nZ2VyIiwiX2NvbnN0cnVjdG9yR3VhcmQiLCJNb2RpZmllcnNCeXRlcyIsImNhbGxkYXRhIiwibWVtb3J5Iiwic3RvcmFnZSIsIk1vZGlmaWVyc05lc3QiLCJjaGVja01vZGlmaWVyIiwidHlwZSIsIm5hbWUiLCJpbmRleE9mIiwidGhyb3dBcmd1bWVudEVycm9yIiwicG9wdWxhdGUiLCJvYmplY3QiLCJwYXJhbXMiLCJrZXkiLCJPYmplY3QiLCJmcmVlemUiLCJzaWdoYXNoIiwibWluaW1hbCIsImZ1bGwiLCJqc29uIiwicGFyYW1UeXBlQXJyYXkiLCJSZWdFeHAiLCJjb25zdHJ1Y3RvciIsImNvbnN0cnVjdG9yR3VhcmQiLCJ0aHJvd0Vycm9yIiwib3BlcmF0aW9uIiwidGhpcyIsIm1hdGNoIiwiYXJyYXlMZW5ndGgiLCJwYXJzZUludCIsImFycmF5Q2hpbGRyZW4iLCJmcm9tT2JqZWN0IiwiY29tcG9uZW50cyIsImJhc2VUeXBlIiwiX2lzUGFyYW1UeXBlIiwiZm9ybWF0IiwicmVzdWx0IiwidW5kZWZpbmVkIiwiaW5kZXhlZCIsIm1hcCIsImNvbXAiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJTdHJpbmciLCJqb2luIiwic3RhdGljIiwidmFsdWUiLCJhbGxvd0luZGV4ZWQiLCJmcm9tU3RyaW5nIiwiaXNQYXJhbVR5cGUiLCJ2ZXJpZnlUeXBlIiwibm9kZSIsInBhcmFtIiwib3JpZ2luYWxQYXJhbSIsImkiLCJuZXdOb2RlIiwicGFyZW50Iiwic3RhdGUiLCJhbGxvd1R5cGUiLCJyZXBsYWNlIiwibGVuZ3RoIiwiYyIsImFsbG93UGFyYW1zIiwiY2hpbGQiLCJhbGxvd05hbWUiLCJhbGxvd0FycmF5Iiwic2libGluZyIsInB1c2giLCJyZWFkQXJyYXkiLCJwYXJzZVBhcmFtVHlwZSIsInN1YnN0cmluZyIsIkNvZGVyIiwibG9jYWxOYW1lIiwiZHluYW1pYyIsIl90aHJvd0Vycm9yIiwibWVzc2FnZSIsIldyaXRlciIsIndvcmRTaXplIiwiX2RhdGEiLCJfZGF0YUxlbmd0aCIsIl9wYWRkaW5nIiwiVWludDhBcnJheSIsImRhdGEiLCJfd3JpdGVEYXRhIiwiYXBwZW5kV3JpdGVyIiwid3JpdGVyIiwid3JpdGVCeXRlcyIsImJ5dGVzIiwicGFkZGluZ09mZnNldCIsInNsaWNlIiwiX2dldFZhbHVlIiwib2Zmc2V0Iiwid3JpdGVWYWx1ZSIsIndyaXRlVXBkYXRhYmxlVmFsdWUiLCJSZWFkZXIiLCJjb2VyY2VGdW5jIiwiYWxsb3dMb29zZSIsIl9vZmZzZXQiLCJjb25zdW1lZCIsInRvTnVtYmVyIiwiY29lcmNlIiwiX2NvZXJjZUZ1bmMiLCJfcGVla0J5dGVzIiwibG9vc2UiLCJhbGlnbmVkTGVuZ3RoIiwiTWF0aCIsImNlaWwiLCJzdWJSZWFkZXIiLCJyZWFkQnl0ZXMiLCJyZWFkVmFsdWUiLCJBZGRyZXNzQ29kZXIiLCJzdXBlciIsImVuY29kZSIsImVycm9yIiwiZGVjb2RlIiwicmVhZGVyIiwidG9IZXhTdHJpbmciLCJBbm9ueW1vdXNDb2RlciIsImNvZGVyIiwicGFjayIsImNvZGVycyIsInZhbHVlcyIsImFycmF5VmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwidW5pcXVlIiwiYXJndW1lbnQiLCJzdGF0aWNXcml0ZXIiLCJkeW5hbWljV3JpdGVyIiwidXBkYXRlRnVuY3MiLCJmb3JFYWNoIiwiaW5kZXgiLCJkeW5hbWljT2Zmc2V0IiwidXBkYXRlRnVuYyIsImJhc2VPZmZzZXQiLCJmdW5jIiwidW5wYWNrIiwiYmFzZVJlYWRlciIsIm9mZnNldFJlYWRlciIsImNvZGUiLCJ1bmlxdWVOYW1lcyIsInJlZHVjZSIsImFjY3VtIiwiRXJyb3IiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsIkFycmF5Q29kZXIiLCJjb3VudCIsImNoZWNrQXJndW1lbnRDb3VudCIsIkJvb2xlYW5Db2RlciIsImlzWmVybyIsIkR5bmFtaWNCeXRlc0NvZGVyIiwiQnl0ZXNDb2RlciIsIkZpeGVkQnl0ZXNDb2RlciIsInNpemUiLCJOdWxsQ29kZXIiLCJOdW1iZXJDb2RlciIsInNpZ25lZCIsInYiLCJtYXhVaW50VmFsdWUiLCJib3VuZHMiLCJtYXNrIiwiZ3QiLCJsdCIsImFkZCIsIm11bCIsInRvVHdvcyIsImZyb21Ud29zIiwiVW5pY29kZU5vcm1hbGl6YXRpb25Gb3JtIiwiVXRmOEVycm9yUmVhc29uIiwiaWdub3JlRnVuYyIsInJlYXNvbiIsIm91dHB1dCIsImJhZENvZGVwb2ludCIsIkJBRF9QUkVGSVgiLCJVTkVYUEVDVEVEX0NPTlRJTlVFIiwibyIsIk9WRVJSVU4iLCJVdGY4RXJyb3JGdW5jcyIsImlnbm9yZSIsIk9WRVJMT05HIiwiZ2V0VXRmOENvZGVQb2ludHMiLCJvbkVycm9yIiwiZXh0cmFMZW5ndGgiLCJvdmVybG9uZ01hc2siLCJyZXMiLCJqIiwibmV4dENoYXIiLCJNSVNTSU5HX0NPTlRJTlVFIiwiT1VUX09GX1JBTkdFIiwiVVRGMTZfU1VSUk9HQVRFIiwidG9VdGY4Qnl0ZXMiLCJzdHIiLCJmb3JtIiwiY3VycmVudCIsImNoZWNrTm9ybWFsaXplIiwibm9ybWFsaXplIiwiY2hhckNvZGVBdCIsImMyIiwicGFpciIsInRvVXRmOFN0cmluZyIsImNvZGVQb2ludCIsImZyb21DaGFyQ29kZSIsIlN0cmluZ0NvZGVyIiwiVHVwbGVDb2RlciIsInR5cGVzIiwicGFyYW1UeXBlQnl0ZXMiLCJwYXJhbVR5cGVOdW1iZXIiLCJBYmlDb2RlciIsImNoZWNrTmV3IiwiX2dldENvZGVyIiwiY29tcG9uZW50IiwiX2dldFdvcmRTaXplIiwiX2dldFJlYWRlciIsIl9nZXRXcml0ZXIiLCJnZXRDaGVja3N1bUFkZHJlc3MiLCJhZGRyZXNzIiwiY2hhcnMiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiZXhwYW5kZWQiLCJoYXNoZWQiLCJ0b1VwcGVyQ2FzZSIsImliYW5Mb29rdXAiLCJzYWZlRGlnaXRzIiwiZmxvb3IiLCJ4IiwibG9nMTAiLCJsb2ciLCJMTjEwIiwiaWJhbkNoZWNrc3VtIiwiYmxvY2siLCJjaGVja3N1bSIsImdldEFkZHJlc3MiLCJCTiIsIk1BWF9TQUZFIiwiX3dhcm5lZFRvU3RyaW5nUmFkaXgiLCJCaWdOdW1iZXIiLCJoZXgiLCJfaGV4IiwiX2lzQmlnTnVtYmVyIiwidG9CaWdOdW1iZXIiLCJ0b0JOIiwiYWJzIiwiZnJvbSIsIm90aGVyIiwic3ViIiwiZGl2IiwidGhyb3dGYXVsdCIsIm1vZCIsImlzTmVnIiwidW1vZCIsInBvdyIsImFuZCIsImlzTmVnYXRpdmUiLCJvciIsInhvciIsIm1hc2tuIiwic2hsIiwic2hsbiIsInNociIsInNocm4iLCJlcSIsImx0ZSIsImd0ZSIsInRvU3RyaW5nIiwidG9CaWdJbnQiLCJCaWdJbnQiLCJlIiwiYXJndW1lbnRzIiwid2FybiIsInRvSlNPTiIsInRvSGV4IiwiYW55VmFsdWUiLCJmYXVsdCIsIl9iYXNlMzZUbzE2IiwiaXNIZXhhYmxlIiwiYWRkU2xpY2UiLCJhcnJheSIsImFyZ3MiLCJwcm90b3R5cGUiLCJjYWxsIiwiYXBwbHkiLCJpc0J5dGVzTGlrZSIsImlzSGV4U3RyaW5nIiwiaXNCeXRlcyIsImlzSW50ZWdlciIsImFycmF5aWZ5Iiwib3B0aW9ucyIsImNoZWNrU2FmZVVpbnQ1MyIsInVuc2hpZnQiLCJhbGxvd01pc3NpbmdQcmVmaXgiLCJoZXhQYWQiLCJjb25jYXQiLCJpdGVtcyIsIm9iamVjdHMiLCJpdGVtIiwic2V0Iiwic3RyaXBaZXJvcyIsInN0YXJ0IiwiSGV4Q2hhcmFjdGVycyIsImhleGxpZnkiLCJoZXhEYXRhTGVuZ3RoIiwiaGV4RGF0YVNsaWNlIiwiZW5kT2Zmc2V0IiwiaGV4Q29uY2F0IiwiaGV4WmVyb1BhZCIsInNwbGl0U2lnbmF0dXJlIiwic2lnbmF0dXJlIiwiciIsInMiLCJfdnMiLCJyZWNvdmVyeVBhcmFtIiwidnMiLCJ6ZXJvUGFkIiwicmVjSWQiLCJOZWdhdGl2ZU9uZSIsIlplcm8iLCJPbmUiLCJNYXhVaW50MjU2Iiwia2VjY2FrMjU2IiwiX3Blcm1hbmVudENlbnNvckVycm9ycyIsIl9jZW5zb3JFcnJvcnMiLCJMb2dMZXZlbHMiLCJkZWJ1ZyIsImluZm8iLCJ3YXJuaW5nIiwib2ZmIiwiX2xvZ0xldmVsIiwiX2dsb2JhbExvZ2dlciIsIl9ub3JtYWxpemVFcnJvciIsIm1pc3NpbmciLCJfY2hlY2tOb3JtYWxpemUiLCJMb2dMZXZlbCIsIkVycm9yQ29kZSIsIkhFWCIsIkxvZ2dlciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsIl9sb2ciLCJsb2dMZXZlbCIsImxldmVsIiwiY29uc29sZSIsImxldmVscyIsIkRFQlVHIiwiSU5GTyIsIldBUk5JTkciLCJtYWtlRXJyb3IiLCJlcnJvcnMiLCJVTktOT1dOX0VSUk9SIiwibWVzc2FnZURldGFpbHMiLCJrZXlzIiwiSU5WQUxJRF9BUkdVTUVOVCIsImFzc2VydCIsImNvbmRpdGlvbiIsImFzc2VydEFyZ3VtZW50IiwiVU5TVVBQT1JURURfT1BFUkFUSU9OIiwiTlVNRVJJQ19GQVVMVCIsImV4cGVjdGVkQ291bnQiLCJNSVNTSU5HX0FSR1VNRU5UIiwiVU5FWFBFQ1RFRF9BUkdVTUVOVCIsInRhcmdldCIsImtpbmQiLCJNSVNTSU5HX05FVyIsImNoZWNrQWJzdHJhY3QiLCJjZW5zb3JzaGlwIiwicGVybWFuZW50IiwiZ2xvYmFsTG9nZ2VyIiwiZGVmaW5lUmVhZE9ubHkiLCJjaGVja1Byb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwiYXJyYXlpZnlJbnRlZ2VyIiwidW5hcnJheWlmeUludGVnZXIiLCJfZW5jb2RlIiwicGF5bG9hZCIsIl9kZWNvZGVDaGlsZHJlbiIsImNoaWxkT2Zmc2V0IiwiZGVjb2RlZCIsIl9kZWNvZGUiLCJsZW5ndGhMZW5ndGgiLCJnbG9iYWxUaGlzIiwid2luZG93IiwiZyIsInNlbGYiLCJjcmVhdGVDb21tb25qc01vZHVsZSIsImZuIiwiYmFzZWRpciIsIm1vZHVsZSIsInBhdGgiLCJleHBvcnRzIiwicmVxdWlyZSIsImJhc2UiLCJjb21tb25qc1JlcXVpcmUiLCJtaW5pbWFsaXN0aWNBc3NlcnQiLCJ2YWwiLCJtc2ciLCJlcXVhbCIsImwiLCJ1dGlsc18xIiwidXRpbHMiLCJ6ZXJvMiIsIndvcmQiLCJ0b0FycmF5IiwiZW5jIiwiaGkiLCJsbyIsImFyciIsInV0aWxzXzEkMSIsImdldE5BRiIsIm51bSIsInciLCJiaXRzIiwibmFmIiwibWF4IiwiYml0TGVuZ3RoIiwiZmlsbCIsIndzIiwiayIsImNsb25lIiwieiIsImFuZGxuIiwiaXNPZGQiLCJpc3VibiIsIml1c2hybiIsImdldEpTRiIsImsxIiwiazIiLCJqc2YiLCJtOCIsImQxIiwiZDIiLCJjbXBuIiwidTEiLCJ1MiIsIm0xNCIsIm0yNCIsImNhY2hlZFByb3BlcnR5Iiwib2JqIiwiY29tcHV0ZXIiLCJwYXJzZUJ5dGVzIiwiaW50RnJvbUxFIiwiYXNzZXJ0JDEiLCJCYXNlQ3VydmUiLCJjb25mIiwicCIsInJlZCIsInByaW1lIiwiemVybyIsInRvUmVkIiwib25lIiwidHdvIiwibiIsInBvaW50RnJvbUpTT04iLCJnUmVkIiwiX3duYWZUMSIsIl93bmFmVDIiLCJfd25hZlQzIiwiX3duYWZUNCIsIl9iaXRMZW5ndGgiLCJhZGp1c3RDb3VudCIsInJlZE4iLCJfbWF4d2VsbFRyaWNrIiwiQmFzZVBvaW50IiwiY3VydmUiLCJwcmVjb21wdXRlZCIsInBvaW50IiwidmFsaWRhdGUiLCJfZml4ZWROYWZNdWwiLCJkb3VibGVzIiwiX2dldERvdWJsZXMiLCJJIiwic3RlcCIsIm5hZlciLCJyZXByIiwiYSIsImpwb2ludCIsImIiLCJtaXhlZEFkZCIsInBvaW50cyIsIm5lZyIsInRvUCIsIl93bmFmTXVsIiwibmFmUG9pbnRzIiwiX2dldE5BRlBvaW50cyIsInduZCIsImFjYyIsImRibHAiLCJfd25hZk11bEFkZCIsImRlZlciLCJjb2VmZnMiLCJsZW4iLCJqYWNvYmlhblJlc3VsdCIsInduZFdpZHRoIiwiY29tYiIsInkiLCJjbXAiLCJ0b0oiLCJyZWROZWciLCJqYSIsImpiIiwidG1wIiwiZGVjb2RlUG9pbnQiLCJieXRlTGVuZ3RoIiwicG9pbnRGcm9tWCIsImVuY29kZUNvbXByZXNzZWQiLCJjb21wYWN0IiwiZ2V0WCIsImdldFkiLCJpc0V2ZW4iLCJwcmVjb21wdXRlIiwicG93ZXIiLCJiZXRhIiwiX2dldEJldGEiLCJfaGFzRG91YmxlcyIsImRibCIsImluaGVyaXRzX2Jyb3dzZXIiLCJjcmVhdGUiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiY29uZmlndXJhYmxlIiwiVGVtcEN0b3IiLCJhc3NlcnQkMiIsIlNob3J0Q3VydmUiLCJ0aW52IiwicmVkSW52bSIsInplcm9BIiwiZnJvbVJlZCIsInRocmVlQSIsImVuZG8iLCJfZ2V0RW5kb21vcnBoaXNtIiwiX2VuZG9XbmFmVDEiLCJfZW5kb1duYWZUMiIsInNob3J0XzEiLCJQb2ludCIsImlzUmVkIiwiaW5mIiwiZm9yY2VSZWQiLCJKUG9pbnQiLCJ6T25lIiwibW9kbiIsImxhbWJkYSIsImJldGFzIiwiX2dldEVuZG9Sb290cyIsImxhbWJkYXMiLCJyZWRNdWwiLCJiYXNpcyIsInZlYyIsIl9nZXRFbmRvQmFzaXMiLCJudGludiIsInJlZFNxcnQiLCJyZWRBZGQiLCJyZWRTdWIiLCJhMCIsImIwIiwiYTEiLCJiMSIsImEyIiwiYjIiLCJwcmV2UiIsImFwcnhTcXJ0IiwidXNocm4iLCJ1IiwieDEiLCJ5MSIsIngyIiwieTIiLCJxIiwibGVuMSIsInNxciIsIm5lZ2F0aXZlIiwiX2VuZG9TcGxpdCIsInYxIiwidjIiLCJjMSIsImRpdlJvdW5kIiwicDEiLCJwMiIsInExIiwicTIiLCJvZGQiLCJyZWRTcXIiLCJyZWRJQWRkIiwiYXgiLCJyaHMiLCJyZWRJU3ViIiwiX2VuZG9XbmFmTXVsQWRkIiwibnBvaW50cyIsIm5jb2VmZnMiLCJpbmVnIiwiZnJvbUpTT04iLCJwcmUiLCJlbmRvTXVsIiwib2JqMnBvaW50IiwiaW5zcGVjdCIsImlzSW5maW5pdHkiLCJueCIsIm55IiwieXMxIiwiZHlpbnYiLCJtdWxBZGQiLCJqbXVsQWRkIiwiX3ByZWNvbXB1dGUiLCJuZWdhdGUiLCJ6aW52IiwiemludjIiLCJheSIsInB6MiIsInoyIiwiczEiLCJzMiIsImgiLCJoMiIsImgzIiwibnoiLCJqeCIsImp5IiwianoiLCJqejQiLCJqeWQiLCJqeDIiLCJqeWQyIiwianlkNCIsInQxIiwidDIiLCJkbnkiLCJfemVyb0RibCIsIl90aHJlZURibCIsIl9kYmwiLCJ4eCIsInl5IiwieXl5eSIsIm0iLCJ0IiwieXl5eTgiLCJkIiwiZiIsImM4IiwiZGVsdGEiLCJnYW1tYSIsImFscGhhIiwiYmV0YTQiLCJiZXRhOCIsImdnYW1tYTgiLCJqeTIiLCJqeGQ0IiwianlkOCIsInRycGwiLCJ6eiIsIm1tIiwiZWUiLCJ5eXU0Iiwia2Jhc2UiLCJ6MyIsInB6MyIsImVxWFRvUCIsInpzIiwicngiLCJ4YyIsImlhZGQiLCJjdXJ2ZV8xIiwic2hvcnQiLCJtb250IiwiZWR3YXJkcyIsImN1cnZlc18xIiwiY3VydmVzIiwiUHJlc2V0Q3VydmUiLCJoYXNoIiwiZGVmaW5lQ3VydmUiLCJjcmFzaCIsIkhtYWNEUkJHIiwicHJlZFJlc2lzdCIsIm91dExlbiIsIm91dFNpemUiLCJtaW5FbnRyb3B5IiwiaG1hY1N0cmVuZ3RoIiwiX3Jlc2VlZCIsInJlc2VlZEludGVydmFsIiwiSyIsIlYiLCJlbnRyb3B5IiwiZW50cm9weUVuYyIsIm5vbmNlIiwibm9uY2VFbmMiLCJwZXJzIiwicGVyc0VuYyIsIl9pbml0IiwiaG1hY0RyYmciLCJzZWVkIiwiX3VwZGF0ZSIsIl9obWFjIiwia21hYyIsInVwZGF0ZSIsImRpZ2VzdCIsInJlc2VlZCIsImFkZEVuYyIsImdlbmVyYXRlIiwidGVtcCIsImFzc2VydCQzIiwiS2V5UGFpciIsImVjIiwicHJpdiIsInB1YiIsIl9pbXBvcnRQcml2YXRlIiwicHJpdkVuYyIsIl9pbXBvcnRQdWJsaWMiLCJwdWJFbmMiLCJmcm9tUHVibGljIiwiZnJvbVByaXZhdGUiLCJnZXRQdWJsaWMiLCJnZXRQcml2YXRlIiwiZGVyaXZlIiwic2lnbiIsInZlcmlmeSIsImFzc2VydCQ0IiwiU2lnbmF0dXJlIiwiX2ltcG9ydERFUiIsIlBvc2l0aW9uIiwicGxhY2UiLCJnZXRMZW5ndGgiLCJidWYiLCJpbml0aWFsIiwib2N0ZXRMZW4iLCJybVBhZGRpbmciLCJjb25zdHJ1Y3RMZW5ndGgiLCJvY3RldHMiLCJMTjIiLCJybGVuIiwic2xlbiIsInRvREVSIiwiYmFja0hhbGYiLCJyYW5kIiwiYXNzZXJ0JDUiLCJFQyIsImhhc093blByb3BlcnR5IiwibmgiLCJrZXlQYWlyIiwia2V5RnJvbVByaXZhdGUiLCJrZXlGcm9tUHVibGljIiwiZ2VuS2V5UGFpciIsImRyYmciLCJuczIiLCJpYWRkbiIsIl90cnVuY2F0ZVRvTiIsInRydW5jT25seSIsImJrZXkiLCJuczEiLCJpdGVyIiwia3AiLCJrcFgiLCJpbnZtIiwiY2Fub25pY2FsIiwic2lnbmF0dXJlJDEiLCJzaW52IiwicmVjb3ZlclB1YktleSIsImlzWU9kZCIsImlzU2Vjb25kS2V5IiwickludiIsImdldEtleVJlY292ZXJ5UGFyYW0iLCJRIiwiUXByaW1lIiwiRUMkMSIsImVsbGlwdGljIiwiZWRkc2EiLCJfY3VydmUiLCJnZXRDdXJ2ZSIsIlNpZ25pbmdLZXkiLCJwcml2YXRlS2V5IiwiX2FkZFBvaW50IiwicDAiLCJwdWJsaWNLZXkiLCJzaWduRGlnZXN0IiwiZGlnZXN0Qnl0ZXMiLCJjb21wdXRlU2hhcmVkU2VjcmV0Iiwib3RoZXJLZXkiLCJvdGhlcktleVBhaXIiLCJjb21wdXRlUHVibGljS2V5IiwiX2lzU2lnbmluZ0tleSIsImNvbXByZXNzZWQiLCJzaWduaW5nS2V5IiwiVHJhbnNhY3Rpb25UeXBlcyIsImhhbmRsZUFkZHJlc3MiLCJoYW5kbGVOdW1iZXIiLCJ0cmFuc2FjdGlvbkZpZWxkcyIsIm1heExlbmd0aCIsIm51bWVyaWMiLCJhbGxvd2VkVHJhbnNhY3Rpb25LZXlzIiwiY2hhaW5JZCIsImdhc0xpbWl0IiwiZ2FzUHJpY2UiLCJ0byIsImNvbXB1dGVBZGRyZXNzIiwicmVjb3ZlckFkZHJlc3MiLCJzaWciLCJycyIsInJlY292ZXJQdWJsaWNLZXkiLCJmb3JtYXROdW1iZXIiLCJhY2Nlc3NTZXRpZnkiLCJhZGRyIiwic3RvcmFnZUtleXMiLCJzdG9yYWdlS2V5IiwiYWNjZXNzTGlzdGlmeSIsInNvcnQiLCJsb2NhbGVDb21wYXJlIiwiZm9ybWF0QWNjZXNzTGlzdCIsIl9zZXJpYWxpemVFaXAxNTU5IiwidHJhbnNhY3Rpb24iLCJtYXhGZWVQZXJHYXMiLCJmaWVsZHMiLCJtYXhQcmlvcml0eUZlZVBlckdhcyIsImFjY2Vzc0xpc3QiLCJfc2VyaWFsaXplRWlwMjkzMCIsInNlcmlhbGl6ZSIsInJhdyIsImZpZWxkSW5mbyIsInBvcCIsIl9zZXJpYWxpemUiLCJ0cmFuc2FjdGlvblR5cGUiLCJfcGFyc2VFaXBTaWduYXR1cmUiLCJ0eCIsInJlY2lkIiwicmF3VHJhbnNhY3Rpb24iLCJfcGFyc2UiLCJfcGFyc2VFaXAyOTMwIiwiX3BhcnNlRWlwMTU1OSJdLCJzb3VyY2VSb290IjoiIn0=