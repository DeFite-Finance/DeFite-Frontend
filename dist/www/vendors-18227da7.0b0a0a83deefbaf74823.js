(self.webpackChunkhugiris_nft=self.webpackChunkhugiris_nft||[]).push([[7010],{82131:function(t,e,r){"use strict";r.r(e),r.d(e,{getCLS:function(){return m},getFCP:function(){return g},getFID:function(){return x},getLCP:function(){return F},getTTFB:function(){return N}});var n,o,i,a,s=function(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},c=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return r.observe({type:t,buffered:!0}),r}}catch(t){}},u=function(t,e){var r=function r(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},l=function(t){addEventListener("pageshow",(function(e){e.persisted&&t(e)}),!0)},p="function"==typeof WeakSet?new WeakSet:new Set,d=function(t,e,r){var n;return function(){e.value>=0&&(r||p.has(e)||"hidden"===document.visibilityState)&&(e.delta=e.value-(n||0),(e.delta||void 0===n)&&(n=e.value,t(e)))}},m=function(t,e){var r,n=s("CLS",0),o=function(t){t.hadRecentInput||(n.value+=t.value,n.entries.push(t),r())},i=c("layout-shift",o);i&&(r=d(t,n,e),u((function(){i.takeRecords().map(o),r()})),l((function(){n=s("CLS",0),r=d(t,n,e)})))},f=-1,h=function(){return"hidden"===document.visibilityState?0:1/0},v=function(){u((function(t){var e=t.timeStamp;f=e}),!0)},b=function(){return f<0&&(f=h(),v(),l((function(){setTimeout((function(){f=h(),v()}),0)}))),{get timeStamp(){return f}}},g=function(t,e){var r,n=b(),o=s("FCP"),i=function(t){"first-contentful-paint"===t.name&&(u&&u.disconnect(),t.startTime<n.timeStamp&&(o.value=t.startTime,o.entries.push(t),p.add(o),r()))},a=performance.getEntriesByName("first-contentful-paint")[0],u=a?null:c("paint",i);(a||u)&&(r=d(t,o,e),a&&i(a),l((function(n){o=s("FCP"),r=d(t,o,e),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-n.timeStamp,p.add(o),r()}))}))})))},y={passive:!0,capture:!0},E=new Date,w=function(t,e){n||(n=e,o=t,i=new Date,T(removeEventListener),P())},P=function(){if(o>=0&&o<i-E){var t={entryType:"first-input",name:n.type,target:n.target,cancelable:n.cancelable,startTime:n.timeStamp,processingStart:n.timeStamp+o};a.forEach((function(e){e(t)})),a=[]}},k=function(t){if(t.cancelable){var e=(t.timeStamp>1e12?new Date:performance.now())-t.timeStamp;"pointerdown"==t.type?function(t,e){var r=function(){w(t,e),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,y),removeEventListener("pointercancel",n,y)};addEventListener("pointerup",r,y),addEventListener("pointercancel",n,y)}(e,t):w(e,t)}},T=function(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,k,y)}))},x=function(t,e){var r,i=b(),m=s("FID"),f=function(t){t.startTime<i.timeStamp&&(m.value=t.processingStart-t.startTime,m.entries.push(t),p.add(m),r())},h=c("first-input",f);r=d(t,m,e),h&&u((function(){h.takeRecords().map(f),h.disconnect()}),!0),h&&l((function(){var i;m=s("FID"),r=d(t,m,e),a=[],o=-1,n=null,T(addEventListener),i=f,a.push(i),P()}))},F=function(t,e){var r,n=b(),o=s("LCP"),i=function(t){var e=t.startTime;e<n.timeStamp&&(o.value=e,o.entries.push(t)),r()},a=c("largest-contentful-paint",i);if(a){r=d(t,o,e);var m=function(){p.has(o)||(a.takeRecords().map(i),a.disconnect(),p.add(o),r())};["keydown","click"].forEach((function(t){addEventListener(t,m,{once:!0,capture:!0})})),u(m,!0),l((function(n){o=s("LCP"),r=d(t,o,e),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-n.timeStamp,p.add(o),r()}))}))}))}},N=function(t){var e,r=s("TTFB");e=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,e={entryType:"navigation",startTime:0};for(var r in t)"navigationStart"!==r&&"toJSON"!==r&&(e[r]=Math.max(t[r]-t.navigationStart,0));return e}();if(r.value=r.delta=e.responseStart,r.value<0)return;r.entries=[e],t(r)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)}},63583:function(t,e,r){"use strict";var n=r(71789),o=function t(e){this.givenProvider=t.givenProvider,e&&e._requestManager&&(e=e.currentProvider),"undefined"!=typeof document&&(this.pick=n.pick),this.setProvider(e)};o.givenProvider=null,"undefined"!=typeof ethereum&&ethereum.bzz&&(o.givenProvider=ethereum.bzz),o.prototype.setProvider=function(t){if(t&&"object"==typeof t&&"string"==typeof t.bzz&&(t=t.bzz),"string"!=typeof t){this.currentProvider=null;var e=new Error("No provider set, please set one using bzz.setProvider().");return this.download=this.upload=this.isAvailable=function(){throw e},!1}return this.currentProvider=t,this.download=n.at(t).download,this.upload=n.at(t).upload,this.isAvailable=n.at(t).isAvailable,!0},t.exports=o},54928:function(t){"use strict";t.exports={ErrorResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:JSON.stringify(t),r=t.error&&t.error.data?t.error.data:null,n=new Error("Returned error: "+e);return n.data=r,n},InvalidNumberOfParams:function(t,e,r){return new Error('Invalid number of parameters for "'+r+'". Got '+t+" expected "+e+"!")},InvalidConnection:function(t,e){return this.ConnectionError("CONNECTION ERROR: Couldn't connect to node "+t+".",e)},InvalidProvider:function(){return new Error("Provider not set or invalid")},InvalidResponse:function(t){var e=t&&t.error&&t.error.message?t.error.message:"Invalid JSON RPC response: "+JSON.stringify(t);return new Error(e)},ConnectionTimeout:function(t){return new Error("CONNECTION TIMEOUT: timeout of "+t+" ms achived")},ConnectionNotOpenError:function(t){return this.ConnectionError("connection not open on send()",t)},ConnectionCloseError:function(t){return"object"==typeof t&&t.code&&t.reason?this.ConnectionError("CONNECTION ERROR: The connection got closed with the close code `"+t.code+"` and the following reason string `"+t.reason+"`",t):new Error("CONNECTION ERROR: The connection closed unexpectedly")},MaxAttemptsReachedOnReconnectingError:function(){return new Error("Maximum number of reconnect attempts reached!")},PendingRequestsOnReconnectingError:function(){return new Error("CONNECTION ERROR: Provider started to reconnect before the response got received!")},ConnectionError:function(t,e){const r=new Error(t);return e&&(r.code=e.code,r.reason=e.reason),r},RevertInstructionError:function(t,e){var r=new Error("Your request got reverted with the following reason string: "+t);return r.reason=t,r.signature=e,r},TransactionRevertInstructionError:function(t,e,r){var n=new Error("Transaction has been reverted by the EVM:\n"+JSON.stringify(r,null,2));return n.reason=t,n.signature=e,n.receipt=r,n},TransactionError:function(t,e){var r=new Error(t);return r.receipt=e,r},NoContractAddressFoundError:function(t){return this.TransactionError("The transaction receipt didn't contain a contract address.",t)},ContractCodeNotStoredError:function(t){return this.TransactionError("The contract code couldn't be stored, please check your gas limit.",t)},TransactionRevertedWithoutReasonError:function(t){return this.TransactionError("Transaction has been reverted by the EVM:\n"+JSON.stringify(t,null,2),t)},TransactionOutOfGasError:function(t){return this.TransactionError("Transaction ran out of gas. Please provide more gas:\n"+JSON.stringify(t,null,2),t)},ResolverMethodMissingError:function(t,e){return new Error("The resolver at "+t+'does not implement requested method: "'+e+'".')},ContractMissingABIError:function(){return new Error("You must provide the json interface of the contract when instantiating a contract object.")},ContractOnceRequiresCallbackError:function(){return new Error("Once requires a callback as the second parameter.")},ContractEventDoesNotExistError:function(t){return new Error('Event "'+t+"\" doesn't exist in this contract.")},ContractReservedEventError:function(t){return new Error('The event "'+t+"\" is a reserved event name, you can't use it.")},ContractMissingDeployDataError:function(){return new Error('No "data" specified in neither the given options, nor the default options.')},ContractNoAddressDefinedError:function(){return new Error("This contract object doesn't have address set yet, please set an address first.")},ContractNoFromAddressDefinedError:function(){return new Error('No "from" address specified in neither the given options, nor the default options.')}}},76267:function(t,e,r){"use strict";var n=r(18269),o=r(34751),i=function(t){return n.toBN(t).toString(10)},a=function(t){if(void 0!==t)return function(t){return"latest"===t||"pending"===t||"earliest"===t}(t)?t:"genesis"===t?"0x0":n.isHexStrict(t)?"string"==typeof t?t.toLowerCase():t:n.numberToHex(t)},s=function(t){if(t.to&&(t.to=l(t.to)),t.data&&t.input)throw new Error('You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.');if(!t.data&&t.input&&(t.data=t.input,delete t.input),t.data&&!t.data.startsWith("0x")&&(t.data="0x"+t.data),t.data&&!n.isHex(t.data))throw new Error("The data field must be HEX encoded data.");return(t.gas||t.gasLimit)&&(t.gas=t.gas||t.gasLimit),(t.maxPriorityFeePerGas||t.maxFeePerGas)&&delete t.gasPrice,["gasPrice","gas","value","maxPriorityFeePerGas","maxFeePerGas","nonce"].filter((function(e){return void 0!==t[e]})).forEach((function(e){t[e]=n.numberToHex(t[e])})),t},c=function(t){return null!==t.blockNumber&&(t.blockNumber=n.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=n.hexToNumber(t.transactionIndex)),t.nonce=n.hexToNumber(t.nonce),t.gas=n.hexToNumber(t.gas),t.gasPrice&&(t.gasPrice=i(t.gasPrice)),t.maxFeePerGas&&(t.maxFeePerGas=i(t.maxFeePerGas)),t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=i(t.maxPriorityFeePerGas)),t.type&&(t.type=n.hexToNumber(t.type)),t.value=i(t.value),t.to&&n.isAddress(t.to)?t.to=n.toChecksumAddress(t.to):t.to=null,t.from&&(t.from=n.toChecksumAddress(t.from)),t},u=function(t){if("string"==typeof t.blockHash&&"string"==typeof t.transactionHash&&"string"==typeof t.logIndex){var e=n.sha3(t.blockHash.replace("0x","")+t.transactionHash.replace("0x","")+t.logIndex.replace("0x",""));t.id="log_"+e.replace("0x","").substr(0,8)}else t.id||(t.id=null);return null!==t.blockNumber&&(t.blockNumber=n.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=n.hexToNumber(t.transactionIndex)),null!==t.logIndex&&(t.logIndex=n.hexToNumber(t.logIndex)),t.address&&(t.address=n.toChecksumAddress(t.address)),t},l=function(t){var e=new o(t);if(e.isValid()&&e.isDirect())return e.toAddress().toLowerCase();if(n.isAddress(t))return"0x"+t.toLowerCase().replace("0x","");throw new Error(`Provided address ${t} is invalid, the capitalization checksum test failed, or it's an indirect IBAN address which can't be converted.`)};t.exports={inputDefaultBlockNumberFormatter:function(t){return a(this&&null==t?this.defaultBlock:t)},inputBlockNumberFormatter:a,inputCallFormatter:function(t){var e=(t=s(t)).from||(this?this.defaultAccount:null);return e&&(t.from=l(e)),t},inputTransactionFormatter:function(t){if("number"!=typeof(t=s(t)).from&&(!t.from||"object"!=typeof t.from)){if(t.from=t.from||(this?this.defaultAccount:null),!t.from&&"number"!=typeof t.from)throw new Error('The send transactions "from" field must be defined!');t.from=l(t.from)}return t},inputAddressFormatter:l,inputPostFormatter:function(t){return t.ttl&&(t.ttl=n.numberToHex(t.ttl)),t.workToProve&&(t.workToProve=n.numberToHex(t.workToProve)),t.priority&&(t.priority=n.numberToHex(t.priority)),Array.isArray(t.topics)||(t.topics=t.topics?[t.topics]:[]),t.topics=t.topics.map((function(t){return 0===t.indexOf("0x")?t:n.fromUtf8(t)})),t},inputLogFormatter:function(t){var e=function(t){return null==t?null:0===(t=String(t)).indexOf("0x")?t:n.fromUtf8(t)};return void 0===t&&(t={}),void 0===t.fromBlock&&(t={...t,fromBlock:"latest"}),(t.fromBlock||0===t.fromBlock)&&(t.fromBlock=a(t.fromBlock)),(t.toBlock||0===t.toBlock)&&(t.toBlock=a(t.toBlock)),t.topics=t.topics||[],t.topics=t.topics.map((function(t){return Array.isArray(t)?t.map(e):e(t)})),e=null,t.address&&(t.address=Array.isArray(t.address)?t.address.map((function(t){return l(t)})):l(t.address)),t},inputSignFormatter:function(t){return n.isHexStrict(t)?t:n.utf8ToHex(t)},inputStorageKeysFormatter:function(t){return t.map(n.numberToHex)},outputProofFormatter:function(t){return t.address=n.toChecksumAddress(t.address),t.nonce=n.hexToNumberString(t.nonce),t.balance=n.hexToNumberString(t.balance),t},outputBigNumberFormatter:i,outputTransactionFormatter:c,outputTransactionReceiptFormatter:function(t){if("object"!=typeof t)throw new Error("Received receipt is invalid: "+t);return null!==t.blockNumber&&(t.blockNumber=n.hexToNumber(t.blockNumber)),null!==t.transactionIndex&&(t.transactionIndex=n.hexToNumber(t.transactionIndex)),t.cumulativeGasUsed=n.hexToNumber(t.cumulativeGasUsed),t.gasUsed=n.hexToNumber(t.gasUsed),Array.isArray(t.logs)&&(t.logs=t.logs.map(u)),t.effectiveGasPrice&&(t.effectiveGasPrice=n.hexToNumber(t.effectiveGasPrice)),t.contractAddress&&(t.contractAddress=n.toChecksumAddress(t.contractAddress)),void 0!==t.status&&null!==t.status&&(t.status=Boolean(parseInt(t.status))),t},outputBlockFormatter:function(t){return t.gasLimit=n.hexToNumber(t.gasLimit),t.gasUsed=n.hexToNumber(t.gasUsed),t.size=n.hexToNumber(t.size),t.timestamp=n.hexToNumber(t.timestamp),null!==t.number&&(t.number=n.hexToNumber(t.number)),t.difficulty&&(t.difficulty=i(t.difficulty)),t.totalDifficulty&&(t.totalDifficulty=i(t.totalDifficulty)),Array.isArray(t.transactions)&&t.transactions.forEach((function(t){if("string"!=typeof t)return c(t)})),t.miner&&(t.miner=n.toChecksumAddress(t.miner)),t.baseFeePerGas&&(t.baseFeePerGas=n.hexToNumber(t.baseFeePerGas)),t},outputLogFormatter:u,outputPostFormatter:function(t){return t.expiry=n.hexToNumber(t.expiry),t.sent=n.hexToNumber(t.sent),t.ttl=n.hexToNumber(t.ttl),t.workProved=n.hexToNumber(t.workProved),t.topics||(t.topics=[]),t.topics=t.topics.map((function(t){return n.toUtf8(t)})),t},outputSyncingFormatter:function(t){return t.startingBlock=n.hexToNumber(t.startingBlock),t.currentBlock=n.hexToNumber(t.currentBlock),t.highestBlock=n.hexToNumber(t.highestBlock),t.knownStates&&(t.knownStates=n.hexToNumber(t.knownStates),t.pulledStates=n.hexToNumber(t.pulledStates)),t}}},84390:function(t,e,r){"use strict";var n=r(54928),o=r(76267);t.exports={errors:n,formatters:o}},93952:function(t,e,r){"use strict";var n=r(84390).errors,o=r(84390).formatters,i=r(18269),a=r(4017),s=r(96602).subscriptions,c=r(75504),u=function(t){if(!t.call||!t.name)throw new Error('When creating a method you need to provide at least the "name" and "call" property.');this.name=t.name,this.call=t.call,this.params=t.params||0,this.inputFormatter=t.inputFormatter,this.outputFormatter=t.outputFormatter,this.transformPayload=t.transformPayload,this.extraFormatters=t.extraFormatters,this.abiCoder=t.abiCoder,this.requestManager=t.requestManager,this.accounts=t.accounts,this.defaultBlock=t.defaultBlock||"latest",this.defaultAccount=t.defaultAccount||null,this.transactionBlockTimeout=t.transactionBlockTimeout||50,this.transactionConfirmationBlocks=t.transactionConfirmationBlocks||24,this.transactionPollingTimeout=t.transactionPollingTimeout||750,this.transactionPollingInterval=t.transactionPollingInterval||1e3,this.blockHeaderTimeout=t.blockHeaderTimeout||10,this.defaultCommon=t.defaultCommon,this.defaultChain=t.defaultChain,this.defaultHardfork=t.defaultHardfork,this.handleRevert=t.handleRevert};u.prototype.setRequestManager=function(t,e){this.requestManager=t,e&&(this.accounts=e)},u.prototype.createFunction=function(t,e){var r=this.buildCall();return r.call=this.call,this.setRequestManager(t||this.requestManager,e||this.accounts),r},u.prototype.attachToObject=function(t){var e=this.buildCall();e.call=this.call;var r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},u.prototype.getCall=function(t){return"function"==typeof this.call?this.call(t):this.call},u.prototype.extractCallback=function(t){if("function"==typeof t[t.length-1])return t.pop()},u.prototype.validateArgs=function(t){if(t.length!==this.params)throw n.InvalidNumberOfParams(t.length,this.params,this.name)},u.prototype.formatInput=function(t){var e=this;return this.inputFormatter?this.inputFormatter.map((function(r,n){return r?r.call(e,t[n]):t[n]})):t},u.prototype.formatOutput=function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.outputFormatter&&t?e.outputFormatter(t):t})):this.outputFormatter&&t?this.outputFormatter(t):t},u.prototype.toPayload=function(t){var e=this.getCall(t),r=this.extractCallback(t),n=this.formatInput(t);this.validateArgs(n);var o={method:e,params:n,callback:r};return this.transformPayload&&(o=this.transformPayload(o)),o},u.prototype._confirmTransaction=function(t,e,r){var l=this,p=!1,d=!0,m=0,f=0,h=null,v=null,b=null,g=r.params[0]&&"object"==typeof r.params[0]&&r.params[0].gas?r.params[0].gas:null,y=!!r.params[0]&&"object"==typeof r.params[0]&&r.params[0].data&&r.params[0].from&&!r.params[0].to,E=y&&r.params[0].data.length>2,w=[new u({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[o.inputBlockNumberFormatter,function(t){return!!t}],outputFormatter:o.outputBlockFormatter}),new u({name:"getTransactionReceipt",call:"eth_getTransactionReceipt",params:1,inputFormatter:[null],outputFormatter:o.outputTransactionReceiptFormatter}),new u({name:"getCode",call:"eth_getCode",params:2,inputFormatter:[o.inputAddressFormatter,o.inputDefaultBlockNumberFormatter]}),new u({name:"getTransactionByHash",call:"eth_getTransactionByHash",params:1,inputFormatter:[null],outputFormatter:o.outputTransactionFormatter}),new s({name:"subscribe",type:"eth",subscriptions:{newBlockHeaders:{subscriptionName:"newHeads",params:0,outputFormatter:o.outputBlockFormatter}}})],P={};w.forEach((t=>{t.attachToObject(P),t.requestManager=l.requestManager}));var k=function(s,u,w,k,T){if(!w)return T||(T={unsubscribe:function(){clearInterval(h),clearTimeout(v)}}),(s?a.resolve(s):P.getTransactionReceipt(e)).catch((function(e){T.unsubscribe(),p=!0,i._fireError({message:"Failed to check for transaction receipt:",data:e},t.eventEmitter,t.reject)})).then((async function(e){if(!e||!e.blockHash)throw new Error("Receipt missing or blockHash null");if(l.extraFormatters&&l.extraFormatters.receiptFormatter&&(e=l.extraFormatters.receiptFormatter(e)),t.eventEmitter.listeners("confirmation").length>0){var r;if(void 0===s||0!==f){var n=await P.getBlockByNumber("latest"),o=n?n.hash:null;u?b?(r=await P.getBlockByNumber(b.number+1))&&(b=r,t.eventEmitter.emit("confirmation",f,e,o)):(r=await P.getBlockByNumber(e.blockNumber),b=r,t.eventEmitter.emit("confirmation",f,e,o)):t.eventEmitter.emit("confirmation",f,e,o)}(u&&r||!u)&&f++,d=!1,f===l.transactionConfirmationBlocks+1&&(T.unsubscribe(),t.eventEmitter.removeAllListeners())}return e})).then((async function(e){if(y&&!p){if(!e.contractAddress)return d&&(T.unsubscribe(),p=!0),void i._fireError(n.NoContractAddressFoundError(e),t.eventEmitter,t.reject,null,e);var r;try{r=await P.getCode(e.contractAddress)}catch(t){}if(!r)return;!0===e.status&&E||r.length>2?(t.eventEmitter.emit("receipt",e),l.extraFormatters&&l.extraFormatters.contractDeployFormatter?t.resolve(l.extraFormatters.contractDeployFormatter(e)):t.resolve(e),d&&t.eventEmitter.removeAllListeners()):i._fireError(n.ContractCodeNotStoredError(e),t.eventEmitter,t.reject,null,e),d&&T.unsubscribe(),p=!0}return e})).then((async function(e){if(!y&&!p){if(e.outOfGas||g&&g===e.gasUsed||!0!==e.status&&"0x1"!==e.status&&void 0!==e.status)if(JSON.stringify(e,null,2),!1===e.status||"0x0"===e.status)try{var a=null;if(!l.handleRevert||"eth_sendTransaction"!==l.call&&"eth_sendRawTransaction"!==l.call)throw!1;var s=r.params[0];if("eth_sendRawTransaction"===l.call){var u=r.params[0],m=c.parse(u);s=o.inputTransactionFormatter({data:m.data,to:m.to,from:m.from,gas:m.gasLimit.toHexString(),gasPrice:m.gasPrice.toHexString(),value:m.value.toHexString()})}if(!(a=await l.getRevertReason(s,e.blockNumber)))throw!1;i._fireError(n.TransactionRevertInstructionError(a.reason,a.signature,e),t.eventEmitter,t.reject,null,e)}catch(r){i._fireError(n.TransactionRevertedWithoutReasonError(e),t.eventEmitter,t.reject,null,e)}else i._fireError(n.TransactionOutOfGasError(e),t.eventEmitter,t.reject,null,e);else t.eventEmitter.emit("receipt",e),t.resolve(e),d&&t.eventEmitter.removeAllListeners();d&&T.unsubscribe(),p=!0}})).catch((function(){m++,u?m-1>=l.transactionPollingTimeout&&(T.unsubscribe(),p=!0,i._fireError(n.TransactionError("Transaction was not mined within "+l.transactionPollingTimeout+" seconds, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject)):m-1>=l.transactionBlockTimeout&&(T.unsubscribe(),p=!0,i._fireError(n.TransactionError("Transaction was not mined within "+l.transactionBlockTimeout+" blocks, please make sure your transaction was properly sent. Be aware that it might still be mined!"),t.eventEmitter,t.reject))}));T.unsubscribe(),p=!0,i._fireError({message:"Failed to subscribe to new newBlockHeaders to confirm the transaction receipts.",data:w},t.eventEmitter,t.reject)},T=function(t){let e=!1;const r=()=>{h=setInterval(k.bind(null,t,!0),l.transactionPollingInterval)};if(!this.requestManager.provider.on)return r();P.subscribe("newBlockHeaders",(function(n,o,i){if(e=!0,n||!o)return r();k(t,!1,n,0,i)})),v=setTimeout((()=>{e||r()}),1e3*this.blockHeaderTimeout)}.bind(this);P.getTransactionReceipt(e).then((function(e){e&&e.blockHash?(t.eventEmitter.listeners("confirmation").length>0&&T(e),k(e,!1)):p||T()})).catch((function(){p||T()}))};var l=function(t,e){return"number"==typeof t?e.wallet[t]:t&&"object"==typeof t&&t.address&&t.privateKey?t:e.wallet[t.toLowerCase()]};function p(t,e){return new Promise(((r,n)=>{try{var o=new u({name:"getBlockByNumber",call:"eth_getBlockByNumber",params:2,inputFormatter:[function(t){return t?i.toHex(t):"latest"},function(){return!1}]}).createFunction(t.requestManager),a=new u({name:"getGasPrice",call:"eth_gasPrice",params:0}).createFunction(t.requestManager);Promise.all([o(),a()]).then((t=>{const[n,o]=t;if(("0x2"===e.type||void 0===e.type)&&n&&n.baseFeePerGas){let t,o;e.gasPrice?(t=e.gasPrice,o=e.gasPrice,delete e.gasPrice):(t=e.maxPriorityFeePerGas||"0x9502F900",o=e.maxFeePerGas||i.toHex(i.toBN(n.baseFeePerGas).mul(i.toBN(2)).add(i.toBN(t)))),r({maxFeePerGas:o,maxPriorityFeePerGas:t})}else{if(e.maxPriorityFeePerGas||e.maxFeePerGas)throw Error("Network doesn't support eip-1559");r({gasPrice:o})}}))}catch(t){n(t)}}))}u.prototype.buildCall=function(){var t=this,e="eth_sendTransaction"===t.call||"eth_sendRawTransaction"===t.call,r="eth_call"===t.call,o=function(){var o=a(!e),s=t.toPayload(Array.prototype.slice.call(arguments)),c=function(a,c){var u;if(t.handleRevert&&r&&t.abiCoder&&(!a&&t.isRevertReasonString(c)?u=c.substring(10):a&&a.data&&(u=a.data.substring(10)),u)){var l=t.abiCoder.decodeParameter("string","0x"+u),p="Error(String)";return void i._fireError(n.RevertInstructionError(l,p),o.eventEmitter,o.reject,s.callback,{reason:l,signature:p})}try{c=t.formatOutput(c)}catch(t){a=t}if(c instanceof Error&&(a=c),a)return a.error&&(a=a.error),i._fireError(a,o.eventEmitter,o.reject,s.callback);s.callback&&s.callback(null,c),e?(o.eventEmitter.emit("transactionHash",c),t._confirmTransaction(o,c,s)):a||o.resolve(c)},u=function(e){var r={...s,method:"eth_sendRawTransaction",params:[e.rawTransaction]};t.requestManager.send(r,c)},d=function(t,e){var r;if(e&&e.accounts&&e.accounts.wallet&&e.accounts.wallet.length)if("eth_sendTransaction"===t.method){var n=t.params[0];if((r=l(n&&"object"==typeof n?n.from:null,e.accounts))&&r.privateKey)return delete(n=JSON.parse(JSON.stringify(n))).from,e.defaultChain&&!n.chain&&(n.chain=e.defaultChain),e.defaultHardfork&&!n.hardfork&&(n.hardfork=e.defaultHardfork),e.defaultCommon&&!n.common&&(n.common=e.defaultCommon),void e.accounts.signTransaction(n,r.privateKey).then(u).catch((function(t){if("function"==typeof o.eventEmitter.listeners&&o.eventEmitter.listeners("error").length){try{o.eventEmitter.emit("error",t)}catch(t){}o.eventEmitter.removeAllListeners(),o.eventEmitter.catch((function(){}))}o.reject(t)}))}else if("eth_sign"===t.method){var i=t.params[1];if((r=l(t.params[0],e.accounts))&&r.privateKey){var a=e.accounts.sign(i,r.privateKey);return t.callback&&t.callback(null,a.signature),void o.resolve(a.signature)}}return e.requestManager.send(t,c)};return e&&s.params[0]&&"object"==typeof s.params[0]&&void 0===s.params[0].gasPrice&&(void 0===s.params[0].maxPriorityFeePerGas||void 0===s.params[0].maxFeePerGas)?p(t,s.params[0]).then((r=>{void 0!==r.gasPrice?s.params[0].gasPrice=r.gasPrice:void 0!==r.maxPriorityFeePerGas&&void 0!==r.maxFeePerGas&&(s.params[0].maxPriorityFeePerGas=r.maxPriorityFeePerGas,s.params[0].maxFeePerGas=r.maxFeePerGas),e&&setTimeout((()=>{o.eventEmitter.emit("sending",s)}),0),d(s,t)})):(e&&setTimeout((()=>{o.eventEmitter.emit("sending",s)}),0),d(s,t)),e&&setTimeout((()=>{o.eventEmitter.emit("sent",s)}),0),o.eventEmitter};return o.method=t,o.request=this.request.bind(this),o},u.prototype.getRevertReason=function(t,e){var r=this;return new Promise((function(n,o){new u({name:"call",call:"eth_call",params:2,abiCoder:r.abiCoder,handleRevert:!0}).createFunction(r.requestManager)(t,i.numberToHex(e)).then((function(){n(!1)})).catch((function(t){t.reason?n({reason:t.reason,signature:t.signature}):o(t)}))}))},u.prototype.isRevertReasonString=function(t){return"string"==typeof t&&(t.length-2)/2%32==4&&"0x08c379a0"===t.substring(0,10)},u.prototype.request=function(){var t=this.toPayload(Array.prototype.slice.call(arguments));return t.format=this.formatOutput.bind(this),t},t.exports=u},4017:function(t,e,r){"use strict";var n=r(26729),o=function(t){var e,r,o=new Promise((function(){e=arguments[0],r=arguments[1]}));if(t)return{resolve:e,reject:r,eventEmitter:o};var i=new n;return o._events=i._events,o.emit=i.emit,o.on=i.on,o.once=i.once,o.off=i.off,o.listeners=i.listeners,o.addListener=i.addListener,o.removeListener=i.removeListener,o.removeAllListeners=i.removeAllListeners,{resolve:e,reject:r,eventEmitter:o}};o.resolve=function(t){var e=o(!0);return e.resolve(t),e.eventEmitter},t.exports=o},98991:function(t,e,r){"use strict";var n=r(28911),o=r(84390).errors,i=function(t){this.requestManager=t,this.requests=[]};i.prototype.add=function(t){this.requests.push(t)},i.prototype.execute=function(){var t=this.requests,e=this._sortResponses.bind(this);this.requestManager.sendBatch(t,(function(r,i){i=e(i),t.map((function(t,e){return i[e]||{}})).forEach((function(e,r){if(t[r].callback){if(e&&e.error)return t[r].callback(o.ErrorResponse(e));if(!n.isValidResponse(e))return t[r].callback(o.InvalidResponse(e));try{t[r].callback(null,t[r].format?t[r].format(e.result):e.result)}catch(e){t[r].callback(e)}}}))}))},i.prototype._sortResponses=function(t){return(t||[]).sort(((t,e)=>t.id-e.id))},t.exports=i},72319:function(t){"use strict";var e,r=null;try{e=Function("return this")()}catch(t){e=window}void 0!==e.ethereum?r=e.ethereum:void 0!==e.web3&&e.web3.currentProvider&&(e.web3.currentProvider.sendAsync&&(e.web3.currentProvider.send=e.web3.currentProvider.sendAsync,delete e.web3.currentProvider.sendAsync),!e.web3.currentProvider.on&&e.web3.currentProvider.connection&&"ipcProviderWrapper"===e.web3.currentProvider.connection.constructor.name&&(e.web3.currentProvider.on=function(t,e){if("function"!=typeof e)throw new Error("The second parameter callback must be a function.");if("data"===t)this.connection.on("data",(function(t){var r="";t=t.toString();try{r=JSON.parse(t)}catch(r){return e(new Error("Couldn't parse response data"+t))}r.id||-1===r.method.indexOf("_subscription")||e(null,r)}));else this.connection.on(t,e)}),r=e.web3.currentProvider),t.exports=r},24983:function(t,e,r){"use strict";const{callbackify:n}=r(89539);var o=r(84390).errors,i=r(28911),a=r(98991),s=r(72319),c=function t(e,r){this.provider=null,this.providers=t.providers,this.setProvider(e,r),this.subscriptions=new Map};c.givenProvider=s,c.providers={WebsocketProvider:r(69556),HttpProvider:r(34351),IpcProvider:r(73097)},c.prototype.setProvider=function(t,e){var r=this;if(t&&"string"==typeof t&&this.providers)if(/^http(s)?:\/\//i.test(t))t=new this.providers.HttpProvider(t);else if(/^ws(s)?:\/\//i.test(t))t=new this.providers.WebsocketProvider(t);else if(t&&"object"==typeof e&&"function"==typeof e.connect)t=new this.providers.IpcProvider(t,e);else if(t)throw new Error("Can't autodetect provider for \""+t+'"');if(this.provider&&this.provider.connected&&this.clearSubscriptions(),this.provider=t||null,this.provider&&this.provider.on){"function"==typeof t.request?this.provider.on("message",(function(t){if(t&&"eth_subscription"===t.type&&t.data){const e=t.data;e.subscription&&r.subscriptions.has(e.subscription)&&r.subscriptions.get(e.subscription).callback(null,e.result)}})):this.provider.on("data",(function(t,e){(t=t||e).method&&t.params&&t.params.subscription&&r.subscriptions.has(t.params.subscription)&&r.subscriptions.get(t.params.subscription).callback(null,t.params.result)})),this.provider.on("connect",(function(){r.subscriptions.forEach((function(t){t.subscription.resubscribe()}))})),this.provider.on("error",(function(t){r.subscriptions.forEach((function(e){e.callback(t)}))}));const e=function(t){r._isCleanCloseEvent(t)&&!r._isIpcCloseError(t)||(r.subscriptions.forEach((function(e){e.callback(o.ConnectionCloseError(t)),r.subscriptions.delete(e.subscription.id)})),r.provider&&r.provider.emit&&r.provider.emit("error",o.ConnectionCloseError(t))),r.provider&&r.provider.emit&&r.provider.emit("end",t)};this.provider.on("close",e),this.provider.on("disconnect",e)}},c.prototype.send=function(t,e){if(e=e||function(){},!this.provider)return e(o.InvalidProvider());const{method:r,params:a}=t,s=i.toPayload(r,a),c=this._jsonrpcResultCallback(e,s);if(this.provider.request){n(this.provider.request.bind(this.provider))({method:r,params:a},e)}else if(this.provider.sendAsync)this.provider.sendAsync(s,c);else{if(!this.provider.send)throw new Error("Provider does not have a request or send method to use.");this.provider.send(s,c)}},c.prototype.sendBatch=function(t,e){if(!this.provider)return e(o.InvalidProvider());var r=i.toBatchPayload(t);this.provider[this.provider.sendAsync?"sendAsync":"send"](r,(function(t,r){return t?e(t):Array.isArray(r)?void e(null,r):e(o.InvalidResponse(r))}))},c.prototype.addSubscription=function(t,e){if(!this.provider.on)throw new Error("The provider doesn't support subscriptions: "+this.provider.constructor.name);this.subscriptions.set(t.id,{callback:e,subscription:t})},c.prototype.removeSubscription=function(t,e){if(this.subscriptions.has(t)){var r=this.subscriptions.get(t).subscription.options.type;return this.subscriptions.delete(t),void this.send({method:r+"_unsubscribe",params:[t]},e)}"function"==typeof e&&e(null)},c.prototype.clearSubscriptions=function(t){try{var e=this;return this.subscriptions.size>0&&this.subscriptions.forEach((function(r,n){t&&"syncing"===r.name||e.removeSubscription(n)})),this.provider.reset&&this.provider.reset(),!0}catch(t){throw new Error(`Error while clearing subscriptions: ${t}`)}},c.prototype._isCleanCloseEvent=function(t){return"object"==typeof t&&([1e3].includes(t.code)||!0===t.wasClean)},c.prototype._isIpcCloseError=function(t){return"boolean"==typeof t&&t},c.prototype._jsonrpcResultCallback=function(t,e){return function(r,n){return n&&n.id&&e.id!==n.id?t(new Error(`Wrong response id ${n.id} (expected: ${e.id}) in ${JSON.stringify(e)}`)):r?t(r):n&&n.error?t(o.ErrorResponse(n)):i.isValidResponse(n)?void t(null,n.result):t(o.InvalidResponse(n))}},t.exports={Manager:c,BatchManager:a}},28911:function(t){"use strict";var e={messageId:0,toPayload:function(t,r){if(!t)throw new Error('JSONRPC method should be specified for params: "'+JSON.stringify(r)+'"!');return e.messageId++,{jsonrpc:"2.0",id:e.messageId,method:t,params:r||[]}},isValidResponse:function(t){return Array.isArray(t)?t.every(e):e(t);function e(t){return!(!t||t.error||"2.0"!==t.jsonrpc||"number"!=typeof t.id&&"string"!=typeof t.id||void 0===t.result)}},toBatchPayload:function(t){return t.map((function(t){return e.toPayload(t.method,t.params)}))}};t.exports=e},96602:function(t,e,r){"use strict";var n=r(25108),o=r(45826),i=function(t){this.name=t.name,this.type=t.type,this.subscriptions=t.subscriptions||{},this.requestManager=null};i.prototype.setRequestManager=function(t){this.requestManager=t},i.prototype.attachToObject=function(t){var e=this.buildCall(),r=this.name.split(".");r.length>1?(t[r[0]]=t[r[0]]||{},t[r[0]][r[1]]=e):t[r[0]]=e},i.prototype.buildCall=function(){var t=this;return function(){t.subscriptions[arguments[0]]||n.warn("Subscription "+JSON.stringify(arguments[0])+" doesn't exist. Subscribing anyway.");var e=new o({subscription:t.subscriptions[arguments[0]]||{},requestManager:t.requestManager,type:t.type});return e.subscribe.apply(e,arguments)}},t.exports={subscriptions:i,subscription:o}},45826:function(t,e,r){"use strict";var n=r(84390).errors,o=r(26729),i=r(84390).formatters;function a(t){return t}function s(t){o.call(this),this.id=null,this.callback=a,this.arguments=null,this.lastBlock=null,this.options={subscription:t.subscription,type:t.type,requestManager:t.requestManager}}s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype._extractCallback=function(t){if("function"==typeof t[t.length-1])return t.pop()},s.prototype._validateArgs=function(t){var e=this.options.subscription;if(e||(e={}),e.params||(e.params=0),t.length!==e.params)throw n.InvalidNumberOfParams(t.length,e.params,e.subscriptionName)},s.prototype._formatInput=function(t){var e=this.options.subscription;return e&&e.inputFormatter?e.inputFormatter.map((function(e,r){return e?e(t[r]):t[r]})):t},s.prototype._formatOutput=function(t){var e=this.options.subscription;return e&&e.outputFormatter&&t?e.outputFormatter(t):t},s.prototype._toPayload=function(t){var e=[];if(this.callback=this._extractCallback(t)||a,this.subscriptionMethod||(this.subscriptionMethod=t.shift(),this.options.subscription.subscriptionName&&(this.subscriptionMethod=this.options.subscription.subscriptionName)),this.arguments||(this.arguments=this._formatInput(t),this._validateArgs(this.arguments),t=[]),e.push(this.subscriptionMethod),e=e.concat(this.arguments),t.length)throw new Error("Only a callback is allowed as parameter on an already instantiated subscription.");return{method:this.options.type+"_subscribe",params:e}},s.prototype.unsubscribe=function(t){this.options.requestManager.removeSubscription(this.id,t),this.id=null,this.lastBlock=null,this.removeAllListeners()},s.prototype.subscribe=function(){var t=this,e=Array.prototype.slice.call(arguments),r=this._toPayload(e);if(!r)return this;if(!this.options.requestManager.provider)return setTimeout((function(){var e=new Error("No provider set.");t.callback(e,null,t),t.emit("error",e)}),0),this;if(!this.options.requestManager.provider.on)return setTimeout((function(){var e=new Error("The current provider doesn't support subscriptions: "+t.options.requestManager.provider.constructor.name);t.callback(e,null,t),t.emit("error",e)}),0),this;if(this.lastBlock&&this.options.params&&"object"==typeof this.options.params&&(r.params[1]=this.options.params,r.params[1].fromBlock=i.inputBlockNumberFormatter(this.lastBlock+1)),this.id&&this.unsubscribe(),this.options.params=r.params[1],"logs"===r.params[0]&&r.params[1]&&"object"==typeof r.params[1]&&r.params[1].hasOwnProperty("fromBlock")&&isFinite(r.params[1].fromBlock)){var n=Object.assign({},r.params[1]);this.options.requestManager.send({method:"eth_getLogs",params:[n]},(function(e,r){e?setTimeout((function(){t.callback(e,null,t),t.emit("error",e)}),0):r.forEach((function(e){var r=t._formatOutput(e);t.callback(null,r,t),t.emit("data",r)}))}))}return"object"==typeof r.params[1]&&delete r.params[1].fromBlock,this.options.requestManager.send(r,(function(e,n){!e&&n?(t.id=n,t.method=r.params[0],t.options.requestManager.addSubscription(t,(function(e,r){e?(t.callback(e,!1,t),t.emit("error",e)):(Array.isArray(r)||(r=[r]),r.forEach((function(e){var r=t._formatOutput(e);if(t.lastBlock=r&&"object"==typeof r?r.blockNumber:null,"function"==typeof t.options.subscription.subscriptionHandler)return t.options.subscription.subscriptionHandler.call(t,r);t.emit("data",r),t.callback(null,r,t)})))})),t.emit("connected",n)):setTimeout((function(){t.callback(e,!1,t),t.emit("error",e)}),0)})),this},s.prototype.resubscribe=function(){this.options.requestManager.removeSubscription(this.id),this.id=null,this.subscribe(this.callback)},t.exports=s},37327:function(t,e,r){"use strict";var n=r(84390).formatters,o=r(93952),i=r(18269);t.exports=function(t){var e=function(e){var r;return e.property?(t[e.property]||(t[e.property]={}),r=t[e.property]):r=t,e.methods&&e.methods.forEach((function(e){e instanceof o||(e=new o(e)),e.attachToObject(r),e.setRequestManager(t._requestManager)})),t};return e.formatters=n,e.utils=i,e.Method=o,e}},92928:function(t,e,r){const n=r(24983),o=r(37327);t.exports={packageInit:(t,e)=>{if(e=Array.prototype.slice.call(e),!t)throw new Error('You need to instantiate using the "new" keyword.');Object.defineProperty(t,"currentProvider",{get:()=>t._provider,set:e=>t.setProvider(e),enumerable:!0,configurable:!0}),e[0]&&e[0]._requestManager?t._requestManager=e[0]._requestManager:t._requestManager=new n.Manager(e[0],e[1]),t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers,t._provider=t._requestManager.provider,t.setProvider||(t.setProvider=(e,r)=>(t._requestManager.setProvider(e,r),t._provider=t._requestManager.provider,!0)),t.setRequestManager=e=>{t._requestManager=e,t._provider=e.provider},t.BatchRequest=n.BatchManager.bind(null,t._requestManager),t.extend=o(t)},addProviders:t=>{t.givenProvider=n.Manager.givenProvider,t.providers=n.Manager.providers}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy0xODIyN2RhNy4wYjBhMGE4M2RlZWZiYWY3NDgyMy5qcyIsIm1hcHBpbmdzIjoiOFFBQUEsSUFBSUEsRUFBRUMsRUFBRUMsRUFBRUMsRUFBRUMsRUFBRSxTQUFTSixFQUFFQyxHQUFHLE1BQU0sQ0FBQ0ksS0FBS0wsRUFBRU0sV0FBTSxJQUFTTCxHQUFHLEVBQUVBLEVBQUVNLE1BQU0sRUFBRUMsUUFBUSxHQUFHQyxHQUFHLE1BQU1DLE9BQU9DLEtBQUtDLE1BQU0sS0FBS0YsT0FBT0csS0FBS0MsTUFBTSxjQUFjRCxLQUFLRSxVQUFVLFFBQVFDLEVBQUUsU0FBU2hCLEVBQUVDLEdBQUcsSUFBSSxHQUFHZ0Isb0JBQW9CQyxvQkFBb0JDLFNBQVNuQixHQUFHLENBQUMsR0FBRyxnQkFBZ0JBLEtBQUssMkJBQTJCb0IsTUFBTSxPQUFPLElBQUlsQixFQUFFLElBQUllLHFCQUFvQixTQUFVakIsR0FBRyxPQUFPQSxFQUFFcUIsYUFBYUMsSUFBSXJCLE1BQU0sT0FBT0MsRUFBRXFCLFFBQVEsQ0FBQ0MsS0FBS3hCLEVBQUV5QixVQUFTLElBQUt2QixHQUFHLE1BQU1GLE1BQU0wQixFQUFFLFNBQVMxQixFQUFFQyxHQUFHLElBQUlDLEVBQUUsU0FBU0EsRUFBRUMsR0FBRyxhQUFhQSxFQUFFcUIsTUFBTSxXQUFXRyxTQUFTQyxrQkFBa0I1QixFQUFFRyxHQUFHRixJQUFJNEIsb0JBQW9CLG1CQUFtQjNCLEdBQUUsR0FBSTJCLG9CQUFvQixXQUFXM0IsR0FBRSxNQUFPNEIsaUJBQWlCLG1CQUFtQjVCLEdBQUUsR0FBSTRCLGlCQUFpQixXQUFXNUIsR0FBRSxJQUFLNkIsRUFBRSxTQUFTL0IsR0FBRzhCLGlCQUFpQixZQUFXLFNBQVU3QixHQUFHQSxFQUFFK0IsV0FBV2hDLEVBQUVDLE1BQUssSUFBS2dDLEVBQUUsbUJBQW1CQyxRQUFRLElBQUlBLFFBQVEsSUFBSUMsSUFBSUMsRUFBRSxTQUFTcEMsRUFBRUMsRUFBRUMsR0FBRyxJQUFJQyxFQUFFLE9BQU8s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Q29aLEVBQUlsRSxVQUFZM0osRUFBZXNMLFFBQVEzQixVQUN2Q2tFLEVBQUlFLFVBQVlGLEVBQUluWixnQkFBZ0JILFNBRS9Cc1osRUFBSWhaLGNBQ0xnWixFQUFJaFosWUFBYyxDQUFDTixFQUFVbVYsS0FDekJtRSxFQUFJblosZ0JBQWdCRyxZQUFZTixFQUFVbVYsR0FDMUNtRSxFQUFJRSxVQUFZRixFQUFJblosZ0JBQWdCSCxVQUM3QixJQUdmc1osRUFBSWxOLGtCQUFxQnVOLElBQ3JCTCxFQUFJblosZ0JBQWtCd1osRUFDdEJMLEVBQUlFLFVBQVlHLEVBQVEzWixVQUc1QnNaLEVBQUlNLGFBQWVuTyxFQUFld0osYUFBYS9ELEtBQUssS0FBTW9JLEVBQUluWixpQkFFOURtWixFQUFJRixPQUFTQSxFQUFPRSxJQVFwQk8sYUFOa0JQLElBQ2xCQSxFQUFJcFosY0FBZ0J1TCxFQUFlc0wsUUFBUTdXLGNBQzNDb1osRUFBSWxFLFVBQVkzSixFQUFlc0wsUUFBUTNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvd2ViLXZpdGFscy9kaXN0L3dlYi12aXRhbHMuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvd2ViMy1ienovbGliL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS1oZWxwZXJzL2xpYi9lcnJvcnMuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlLWhlbHBlcnMvbGliL2Zvcm1hdHRlcnMuanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlLWhlbHBlcnMvbGliL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS1tZXRob2QvbGliL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS1wcm9taWV2ZW50L2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUtcmVxdWVzdG1hbmFnZXIvbGliL2JhdGNoLmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS1yZXF1ZXN0bWFuYWdlci9saWIvZ2l2ZW5Qcm92aWRlci5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUtcmVxdWVzdG1hbmFnZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovL2h1Z2lyaXMtbmZ0Ly4vbm9kZV9tb2R1bGVzL3dlYjMtY29yZS1yZXF1ZXN0bWFuYWdlci9saWIvanNvbnJwYy5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUtc3Vic2NyaXB0aW9ucy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vaHVnaXJpcy1uZnQvLi9ub2RlX21vZHVsZXMvd2ViMy1jb3JlLXN1YnNjcmlwdGlvbnMvbGliL3N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2V4dGVuZC5qcyIsIndlYnBhY2s6Ly9odWdpcmlzLW5mdC8uL25vZGVfbW9kdWxlcy93ZWIzLWNvcmUvbGliL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlLHQsbixpLGE9ZnVuY3Rpb24oZSx0KXtyZXR1cm57bmFtZTplLHZhbHVlOnZvaWQgMD09PXQ/LTE6dCxkZWx0YTowLGVudHJpZXM6W10saWQ6XCJ2MS1cIi5jb25jYXQoRGF0ZS5ub3coKSxcIi1cIikuY29uY2F0KE1hdGguZmxvb3IoODk5OTk5OTk5OTk5OSpNYXRoLnJhbmRvbSgpKSsxZTEyKX19LHI9ZnVuY3Rpb24oZSx0KXt0cnl7aWYoUGVyZm9ybWFuY2VPYnNlcnZlci5zdXBwb3J0ZWRFbnRyeVR5cGVzLmluY2x1ZGVzKGUpKXtpZihcImZpcnN0LWlucHV0XCI9PT1lJiYhKFwiUGVyZm9ybWFuY2VFdmVudFRpbWluZ1wiaW4gc2VsZikpcmV0dXJuO3ZhciBuPW5ldyBQZXJmb3JtYW5jZU9ic2VydmVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRFbnRyaWVzKCkubWFwKHQpfSkpO3JldHVybiBuLm9ic2VydmUoe3R5cGU6ZSxidWZmZXJlZDohMH0pLG59fWNhdGNoKGUpe319LG89ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbiBuKGkpe1wicGFnZWhpZGVcIiE9PWkudHlwZSYmXCJoaWRkZW5cIiE9PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZXx8KGUoaSksdCYmKHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsbiwhMCkscmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsbiwhMCkpKX07YWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIixuLCEwKSxhZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIixuLCEwKX0sYz1mdW5jdGlvbihlKXthZGRFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIiwoZnVuY3Rpb24odCl7dC5wZXJzaXN0ZWQmJmUodCl9KSwhMCl9LHU9XCJmdW5jdGlvblwiPT10eXBlb2YgV2Vha1NldD9uZXcgV2Vha1NldDpuZXcgU2V0LGY9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpO3JldHVybiBmdW5jdGlvbigpe3QudmFsdWU+PTAmJihufHx1Lmhhcyh0KXx8XCJoaWRkZW5cIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkmJih0LmRlbHRhPXQudmFsdWUtKGl8fDApLCh0LmRlbHRhfHx2b2lkIDA9PT1pKSYmKGk9dC52YWx1ZSxlKHQpKSl9fSxzPWZ1bmN0aW9uKGUsdCl7dmFyIG4saT1hKFwiQ0xTXCIsMCksdT1mdW5jdGlvbihlKXtlLmhhZFJlY2VudElucHV0fHwoaS52YWx1ZSs9ZS52YWx1ZSxpLmVudHJpZXMucHVzaChlKSxuKCkpfSxzPXIoXCJsYXlvdXQtc2hpZnRcIix1KTtzJiYobj1mKGUsaSx0KSxvKChmdW5jdGlvbigpe3MudGFrZVJlY29yZHMoKS5tYXAodSksbigpfSkpLGMoKGZ1bmN0aW9uKCl7aT1hKFwiQ0xTXCIsMCksbj1mKGUsaSx0KX0pKSl9LG09LTEscD1mdW5jdGlvbigpe3JldHVyblwiaGlkZGVuXCI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/MDoxLzB9LHY9ZnVuY3Rpb24oKXtvKChmdW5jdGlvbihlKXt2YXIgdD1lLnRpbWVTdGFtcDttPXR9KSwhMCl9LGQ9ZnVuY3Rpb24oKXtyZXR1cm4gbTwwJiYobT1wKCksdigpLGMoKGZ1bmN0aW9uKCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXttPXAoKSx2KCl9KSwwKX0pKSkse2dldCB0aW1lU3RhbXAoKXtyZXR1cm4gbX19fSxsPWZ1bmN0aW9uKGUsdCl7dmFyIG4saT1kKCksbz1hKFwiRkNQXCIpLHM9ZnVuY3Rpb24oZSl7XCJmaXJzdC1jb250ZW50ZnVsLXBhaW50XCI9PT1lLm5hbWUmJihwJiZwLmRpc2Nvbm5lY3QoKSxlLnN0YXJ0VGltZTxpLnRpbWVTdGFtcCYmKG8udmFsdWU9ZS5zdGFydFRpbWUsby5lbnRyaWVzLnB1c2goZSksdS5hZGQobyksbigpKSl9LG09cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5TmFtZShcImZpcnN0LWNvbnRlbnRmdWwtcGFpbnRcIilbMF0scD1tP251bGw6cihcInBhaW50XCIscyk7KG18fHApJiYobj1mKGUsbyx0KSxtJiZzKG0pLGMoKGZ1bmN0aW9uKGkpe289YShcIkZDUFwiKSxuPWYoZSxvLHQpLHJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7by52YWx1ZT1wZXJmb3JtYW5jZS5ub3coKS1pLnRpbWVTdGFtcCx1LmFkZChvKSxuKCl9KSl9KSl9KSkpfSxoPXtwYXNzaXZlOiEwLGNhcHR1cmU6ITB9LFM9bmV3IERhdGUseT1mdW5jdGlvbihpLGEpe2V8fChlPWEsdD1pLG49bmV3IERhdGUsdyhyZW1vdmVFdmVudExpc3RlbmVyKSxnKCkpfSxnPWZ1bmN0aW9uKCl7aWYodD49MCYmdDxuLVMpe3ZhciBhPXtlbnRyeVR5cGU6XCJmaXJzdC1pbnB1dFwiLG5hbWU6ZS50eXBlLHRhcmdldDplLnRhcmdldCxjYW5jZWxhYmxlOmUuY2FuY2VsYWJsZSxzdGFydFRpbWU6ZS50aW1lU3RhbXAscHJvY2Vzc2luZ1N0YXJ0OmUudGltZVN0YW1wK3R9O2kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZShhKX0pKSxpPVtdfX0sRT1mdW5jdGlvbihlKXtpZihlLmNhbmNlbGFibGUpe3ZhciB0PShlLnRpbWVTdGFtcD4xZTEyP25ldyBEYXRlOnBlcmZvcm1hbmNlLm5vdygpKS1lLnRpbWVTdGFtcDtcInBvaW50ZXJkb3duXCI9PWUudHlwZT9mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKCl7eShlLHQpLGEoKX0saT1mdW5jdGlvbigpe2EoKX0sYT1mdW5jdGlvbigpe3JlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIixuLGgpLHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVyY2FuY2VsXCIsaSxoKX07YWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLG4saCksYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJjYW5jZWxcIixpLGgpfSh0LGUpOnkodCxlKX19LHc9ZnVuY3Rpb24oZSl7W1wibW91c2Vkb3duXCIsXCJrZXlkb3duXCIsXCJ0b3VjaHN0YXJ0XCIsXCJwb2ludGVyZG93blwiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZSh0LEUsaCl9KSl9LEw9ZnVuY3Rpb24obixzKXt2YXIgbSxwPWQoKSx2PWEoXCJGSURcIiksbD1mdW5jdGlvbihlKXtlLnN0YXJ0VGltZTxwLnRpbWVTdGFtcCYmKHYudmFsdWU9ZS5wcm9jZXNzaW5nU3RhcnQtZS5zdGFydFRpbWUsdi5lbnRyaWVzLnB1c2goZSksdS5hZGQodiksbSgpKX0saD1yKFwiZmlyc3QtaW5wdXRcIixsKTttPWYobix2LHMpLGgmJm8oKGZ1bmN0aW9uKCl7aC50YWtlUmVjb3JkcygpLm1hcChsKSxoLmRpc2Nvbm5lY3QoKX0pLCEwKSxoJiZjKChmdW5jdGlvbigpe3ZhciByO3Y9YShcIkZJRFwiKSxtPWYobix2LHMpLGk9W10sdD0tMSxlPW51bGwsdyhhZGRFdmVudExpc3RlbmVyKSxyPWwsaS5wdXNoKHIpLGcoKX0pKX0sVD1mdW5jdGlvbihlLHQpe3ZhciBuLGk9ZCgpLHM9YShcIkxDUFwiKSxtPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnRUaW1lO3Q8aS50aW1lU3RhbXAmJihzLnZhbHVlPXQscy5lbnRyaWVzLnB1c2goZSkpLG4oKX0scD1yKFwibGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50XCIsbSk7aWYocCl7bj1mKGUscyx0KTt2YXIgdj1mdW5jdGlvbigpe3UuaGFzKHMpfHwocC50YWtlUmVjb3JkcygpLm1hcChtKSxwLmRpc2Nvbm5lY3QoKSx1LmFkZChzKSxuKCkpfTtbXCJrZXlkb3duXCIsXCJjbGlja1wiXS5mb3JFYWNoKChmdW5jdGlvbihlKXthZGRFdmVudExpc3RlbmVyKGUsdix7b25jZTohMCxjYXB0dXJlOiEwfSl9KSksbyh2LCEwKSxjKChmdW5jdGlvbihpKXtzPWEoXCJMQ1BcIiksbj1mKGUscyx0KSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3MudmFsdWU9cGVyZm9ybWFuY2Uubm93KCktaS50aW1lU3RhbXAsdS5hZGQocyksbigpfSkpfSkpfSkpfX0sYj1mdW5jdGlvbihlKXt2YXIgdCxuPWEoXCJUVEZCXCIpO3Q9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9cGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIilbMF18fGZ1bmN0aW9uKCl7dmFyIGU9cGVyZm9ybWFuY2UudGltaW5nLHQ9e2VudHJ5VHlwZTpcIm5hdmlnYXRpb25cIixzdGFydFRpbWU6MH07Zm9yKHZhciBuIGluIGUpXCJuYXZpZ2F0aW9uU3RhcnRcIiE9PW4mJlwidG9KU09OXCIhPT1uJiYodFtuXT1NYXRoLm1heChlW25dLWUubmF2aWdhdGlvblN0YXJ0LDApKTtyZXR1cm4gdH0oKTtpZihuLnZhbHVlPW4uZGVsdGE9dC5yZXNwb25zZVN0YXJ0LG4udmFsdWU8MClyZXR1cm47bi5lbnRyaWVzPVt0XSxlKG4pfWNhdGNoKGUpe319LFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/c2V0VGltZW91dCh0LDApOmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLHQpfTtleHBvcnR7cyBhcyBnZXRDTFMsbCBhcyBnZXRGQ1AsTCBhcyBnZXRGSUQsVCBhcyBnZXRMQ1AsYiBhcyBnZXRUVEZCfTtcbiIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIGluZGV4LmpzXG4gKiBAYXV0aG9yIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhlcmV1bS5vcmc+XG4gKiBAZGF0ZSAyMDE3XG4gKi9cblwidXNlIHN0cmljdFwiO1xudmFyIHN3YXJtID0gcmVxdWlyZShcInN3YXJtLWpzXCIpO1xudmFyIEJ6eiA9IGZ1bmN0aW9uIEJ6eihwcm92aWRlcikge1xuICAgIHRoaXMuZ2l2ZW5Qcm92aWRlciA9IEJ6ei5naXZlblByb3ZpZGVyO1xuICAgIGlmIChwcm92aWRlciAmJiBwcm92aWRlci5fcmVxdWVzdE1hbmFnZXIpIHtcbiAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlci5jdXJyZW50UHJvdmlkZXI7XG4gICAgfVxuICAgIC8vIG9ubHkgYWxsb3cgZmlsZSBwaWNrZXIgd2hlbiBpbiBicm93c2VyXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5waWNrID0gc3dhcm0ucGljaztcbiAgICB9XG4gICAgdGhpcy5zZXRQcm92aWRlcihwcm92aWRlcik7XG59O1xuLy8gc2V0IGRlZmF1bHQgZXRoZXJldW0gcHJvdmlkZXJcbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbkJ6ei5naXZlblByb3ZpZGVyID0gbnVsbDtcbmlmICh0eXBlb2YgZXRoZXJldW0gIT09ICd1bmRlZmluZWQnICYmIGV0aGVyZXVtLmJ6eikge1xuICAgIEJ6ei5naXZlblByb3ZpZGVyID0gZXRoZXJldW0uYnp6O1xufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbkJ6ei5wcm90b3R5cGUuc2V0UHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIpIHtcbiAgICAvLyBpcyBldGhlcmV1bSBwcm92aWRlclxuICAgIGlmICghIXByb3ZpZGVyICYmIHR5cGVvZiBwcm92aWRlciA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHByb3ZpZGVyLmJ6eiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlci5ieno7XG4gICAgICAgIC8vIGlzIG5vIHN0cmluZywgc2V0IGRlZmF1bHRcbiAgICB9XG4gICAgLy8gZWxzZSBpZighXy5pc1N0cmluZyhwcm92aWRlcikpIHtcbiAgICAvLyAgICAgIHByb3ZpZGVyID0gJ2h0dHA6Ly9zd2FybS1nYXRld2F5cy5uZXQnOyAvLyBkZWZhdWx0IHRvIGdhdGV3YXlcbiAgICAvLyB9XG4gICAgaWYgKHR5cGVvZiBwcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UHJvdmlkZXIgPSBwcm92aWRlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudFByb3ZpZGVyID0gbnVsbDtcbiAgICAgICAgdmFyIG5vUHJvdmlkZXJFcnJvciA9IG5ldyBFcnJvcignTm8gcHJvdmlkZXIgc2V0LCBwbGVhc2Ugc2V0IG9uZSB1c2luZyBienouc2V0UHJvdmlkZXIoKS4nKTtcbiAgICAgICAgdGhpcy5kb3dubG9hZCA9IHRoaXMudXBsb2FkID0gdGhpcy5pc0F2YWlsYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IG5vUHJvdmlkZXJFcnJvcjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBhZGQgZnVuY3Rpb25zXG4gICAgdGhpcy5kb3dubG9hZCA9IHN3YXJtLmF0KHByb3ZpZGVyKS5kb3dubG9hZDtcbiAgICB0aGlzLnVwbG9hZCA9IHN3YXJtLmF0KHByb3ZpZGVyKS51cGxvYWQ7XG4gICAgdGhpcy5pc0F2YWlsYWJsZSA9IHN3YXJtLmF0KHByb3ZpZGVyKS5pc0F2YWlsYWJsZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IEJ6ejtcbiIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIGVycm9ycy5qc1xuICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZXJldW0ub3JnPlxuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAcGFyaXR5LmlvPlxuICogQGRhdGUgMjAxN1xuICovXG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIEVycm9yUmVzcG9uc2U6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAhIXJlc3VsdCAmJiAhIXJlc3VsdC5lcnJvciAmJiAhIXJlc3VsdC5lcnJvci5tZXNzYWdlID8gcmVzdWx0LmVycm9yLm1lc3NhZ2UgOiBKU09OLnN0cmluZ2lmeShyZXN1bHQpO1xuICAgICAgICB2YXIgZGF0YSA9ICghIXJlc3VsdC5lcnJvciAmJiAhIXJlc3VsdC5lcnJvci5kYXRhKSA/IHJlc3VsdC5lcnJvci5kYXRhIDogbnVsbDtcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignUmV0dXJuZWQgZXJyb3I6ICcgKyBtZXNzYWdlKTtcbiAgICAgICAgZXJyLmRhdGEgPSBkYXRhO1xuICAgICAgICByZXR1cm4gZXJyO1xuICAgIH0sXG4gICAgSW52YWxpZE51bWJlck9mUGFyYW1zOiBmdW5jdGlvbiAoZ290LCBleHBlY3RlZCwgbWV0aG9kKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgbnVtYmVyIG9mIHBhcmFtZXRlcnMgZm9yIFwiJyArIG1ldGhvZCArICdcIi4gR290ICcgKyBnb3QgKyAnIGV4cGVjdGVkICcgKyBleHBlY3RlZCArICchJyk7XG4gICAgfSxcbiAgICBJbnZhbGlkQ29ubmVjdGlvbjogZnVuY3Rpb24gKGhvc3QsIGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkNvbm5lY3Rpb25FcnJvcignQ09OTkVDVElPTiBFUlJPUjogQ291bGRuXFwndCBjb25uZWN0IHRvIG5vZGUgJyArIGhvc3QgKyAnLicsIGV2ZW50KTtcbiAgICB9LFxuICAgIEludmFsaWRQcm92aWRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdQcm92aWRlciBub3Qgc2V0IG9yIGludmFsaWQnKTtcbiAgICB9LFxuICAgIEludmFsaWRSZXNwb25zZTogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB2YXIgbWVzc2FnZSA9ICEhcmVzdWx0ICYmICEhcmVzdWx0LmVycm9yICYmICEhcmVzdWx0LmVycm9yLm1lc3NhZ2UgPyByZXN1bHQuZXJyb3IubWVzc2FnZSA6ICdJbnZhbGlkIEpTT04gUlBDIHJlc3BvbnNlOiAnICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9LFxuICAgIENvbm5lY3Rpb25UaW1lb3V0OiBmdW5jdGlvbiAobXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignQ09OTkVDVElPTiBUSU1FT1VUOiB0aW1lb3V0IG9mICcgKyBtcyArICcgbXMgYWNoaXZlZCcpO1xuICAgIH0sXG4gICAgQ29ubmVjdGlvbk5vdE9wZW5FcnJvcjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLkNvbm5lY3Rpb25FcnJvcignY29ubmVjdGlvbiBub3Qgb3BlbiBvbiBzZW5kKCknLCBldmVudCk7XG4gICAgfSxcbiAgICBDb25uZWN0aW9uQ2xvc2VFcnJvcjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnQgPT09ICdvYmplY3QnICYmIGV2ZW50LmNvZGUgJiYgZXZlbnQucmVhc29uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Db25uZWN0aW9uRXJyb3IoJ0NPTk5FQ1RJT04gRVJST1I6IFRoZSBjb25uZWN0aW9uIGdvdCBjbG9zZWQgd2l0aCAnICtcbiAgICAgICAgICAgICAgICAndGhlIGNsb3NlIGNvZGUgYCcgKyBldmVudC5jb2RlICsgJ2AgYW5kIHRoZSBmb2xsb3dpbmcgJyArXG4gICAgICAgICAgICAgICAgJ3JlYXNvbiBzdHJpbmcgYCcgKyBldmVudC5yZWFzb24gKyAnYCcsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdDT05ORUNUSU9OIEVSUk9SOiBUaGUgY29ubmVjdGlvbiBjbG9zZWQgdW5leHBlY3RlZGx5Jyk7XG4gICAgfSxcbiAgICBNYXhBdHRlbXB0c1JlYWNoZWRPblJlY29ubmVjdGluZ0Vycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ01heGltdW0gbnVtYmVyIG9mIHJlY29ubmVjdCBhdHRlbXB0cyByZWFjaGVkIScpO1xuICAgIH0sXG4gICAgUGVuZGluZ1JlcXVlc3RzT25SZWNvbm5lY3RpbmdFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdDT05ORUNUSU9OIEVSUk9SOiBQcm92aWRlciBzdGFydGVkIHRvIHJlY29ubmVjdCBiZWZvcmUgdGhlIHJlc3BvbnNlIGdvdCByZWNlaXZlZCEnKTtcbiAgICB9LFxuICAgIENvbm5lY3Rpb25FcnJvcjogZnVuY3Rpb24gKG1zZywgZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBlcnJvci5jb2RlID0gZXZlbnQuY29kZTtcbiAgICAgICAgICAgIGVycm9yLnJlYXNvbiA9IGV2ZW50LnJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSxcbiAgICBSZXZlcnRJbnN0cnVjdGlvbkVycm9yOiBmdW5jdGlvbiAocmVhc29uLCBzaWduYXR1cmUpIHtcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdZb3VyIHJlcXVlc3QgZ290IHJldmVydGVkIHdpdGggdGhlIGZvbGxvd2luZyByZWFzb24gc3RyaW5nOiAnICsgcmVhc29uKTtcbiAgICAgICAgZXJyb3IucmVhc29uID0gcmVhc29uO1xuICAgICAgICBlcnJvci5zaWduYXR1cmUgPSBzaWduYXR1cmU7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9LFxuICAgIFRyYW5zYWN0aW9uUmV2ZXJ0SW5zdHJ1Y3Rpb25FcnJvcjogZnVuY3Rpb24gKHJlYXNvbiwgc2lnbmF0dXJlLCByZWNlaXB0KSB7XG4gICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcignVHJhbnNhY3Rpb24gaGFzIGJlZW4gcmV2ZXJ0ZWQgYnkgdGhlIEVWTTpcXG4nICsgSlNPTi5zdHJpbmdpZnkocmVjZWlwdCwgbnVsbCwgMikpO1xuICAgICAgICBlcnJvci5yZWFzb24gPSByZWFzb247XG4gICAgICAgIGVycm9yLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICAgICAgZXJyb3IucmVjZWlwdCA9IHJlY2VpcHQ7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9LFxuICAgIFRyYW5zYWN0aW9uRXJyb3I6IGZ1bmN0aW9uIChtZXNzYWdlLCByZWNlaXB0KSB7XG4gICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgZXJyb3IucmVjZWlwdCA9IHJlY2VpcHQ7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9LFxuICAgIE5vQ29udHJhY3RBZGRyZXNzRm91bmRFcnJvcjogZnVuY3Rpb24gKHJlY2VpcHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVHJhbnNhY3Rpb25FcnJvcignVGhlIHRyYW5zYWN0aW9uIHJlY2VpcHQgZGlkblxcJ3QgY29udGFpbiBhIGNvbnRyYWN0IGFkZHJlc3MuJywgcmVjZWlwdCk7XG4gICAgfSxcbiAgICBDb250cmFjdENvZGVOb3RTdG9yZWRFcnJvcjogZnVuY3Rpb24gKHJlY2VpcHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVHJhbnNhY3Rpb25FcnJvcignVGhlIGNvbnRyYWN0IGNvZGUgY291bGRuXFwndCBiZSBzdG9yZWQsIHBsZWFzZSBjaGVjayB5b3VyIGdhcyBsaW1pdC4nLCByZWNlaXB0KTtcbiAgICB9LFxuICAgIFRyYW5zYWN0aW9uUmV2ZXJ0ZWRXaXRob3V0UmVhc29uRXJyb3I6IGZ1bmN0aW9uIChyZWNlaXB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLlRyYW5zYWN0aW9uRXJyb3IoJ1RyYW5zYWN0aW9uIGhhcyBiZWVuIHJldmVydGVkIGJ5IHRoZSBFVk06XFxuJyArIEpTT04uc3RyaW5naWZ5KHJlY2VpcHQsIG51bGwsIDIpLCByZWNlaXB0KTtcbiAgICB9LFxuICAgIFRyYW5zYWN0aW9uT3V0T2ZHYXNFcnJvcjogZnVuY3Rpb24gKHJlY2VpcHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVHJhbnNhY3Rpb25FcnJvcignVHJhbnNhY3Rpb24gcmFuIG91dCBvZiBnYXMuIFBsZWFzZSBwcm92aWRlIG1vcmUgZ2FzOlxcbicgKyBKU09OLnN0cmluZ2lmeShyZWNlaXB0LCBudWxsLCAyKSwgcmVjZWlwdCk7XG4gICAgfSxcbiAgICBSZXNvbHZlck1ldGhvZE1pc3NpbmdFcnJvcjogZnVuY3Rpb24gKGFkZHJlc3MsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignVGhlIHJlc29sdmVyIGF0ICcgKyBhZGRyZXNzICsgJ2RvZXMgbm90IGltcGxlbWVudCByZXF1ZXN0ZWQgbWV0aG9kOiBcIicgKyBuYW1lICsgJ1wiLicpO1xuICAgIH0sXG4gICAgQ29udHJhY3RNaXNzaW5nQUJJRXJyb3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignWW91IG11c3QgcHJvdmlkZSB0aGUganNvbiBpbnRlcmZhY2Ugb2YgdGhlIGNvbnRyYWN0IHdoZW4gaW5zdGFudGlhdGluZyBhIGNvbnRyYWN0IG9iamVjdC4nKTtcbiAgICB9LFxuICAgIENvbnRyYWN0T25jZVJlcXVpcmVzQ2FsbGJhY2tFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdPbmNlIHJlcXVpcmVzIGEgY2FsbGJhY2sgYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIuJyk7XG4gICAgfSxcbiAgICBDb250cmFjdEV2ZW50RG9lc05vdEV4aXN0RXJyb3I6IGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignRXZlbnQgXCInICsgZXZlbnROYW1lICsgJ1wiIGRvZXNuXFwndCBleGlzdCBpbiB0aGlzIGNvbnRyYWN0LicpO1xuICAgIH0sXG4gICAgQ29udHJhY3RSZXNlcnZlZEV2ZW50RXJyb3I6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1RoZSBldmVudCBcIicgKyB0eXBlICsgJ1wiIGlzIGEgcmVzZXJ2ZWQgZXZlbnQgbmFtZSwgeW91IGNhblxcJ3QgdXNlIGl0LicpO1xuICAgIH0sXG4gICAgQ29udHJhY3RNaXNzaW5nRGVwbG95RGF0YUVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ05vIFwiZGF0YVwiIHNwZWNpZmllZCBpbiBuZWl0aGVyIHRoZSBnaXZlbiBvcHRpb25zLCBub3IgdGhlIGRlZmF1bHQgb3B0aW9ucy4nKTtcbiAgICB9LFxuICAgIENvbnRyYWN0Tm9BZGRyZXNzRGVmaW5lZEVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1RoaXMgY29udHJhY3Qgb2JqZWN0IGRvZXNuXFwndCBoYXZlIGFkZHJlc3Mgc2V0IHlldCwgcGxlYXNlIHNldCBhbiBhZGRyZXNzIGZpcnN0LicpO1xuICAgIH0sXG4gICAgQ29udHJhY3ROb0Zyb21BZGRyZXNzRGVmaW5lZEVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ05vIFwiZnJvbVwiIGFkZHJlc3Mgc3BlY2lmaWVkIGluIG5laXRoZXIgdGhlIGdpdmVuIG9wdGlvbnMsIG5vciB0aGUgZGVmYXVsdCBvcHRpb25zLicpO1xuICAgIH1cbn07XG4iLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqXG4gKiBAZmlsZSBmb3JtYXR0ZXJzLmpzXG4gKiBAYXV0aG9yIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhlcmV1bS5vcmc+XG4gKiBAYXV0aG9yIE1hcmVrIEtvdGV3aWN6IDxtYXJla0BwYXJpdHkuaW8+XG4gKiBAZGF0ZSAyMDE3XG4gKi9cblwidXNlIHN0cmljdFwiO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnd2ViMy11dGlscycpO1xudmFyIEliYW4gPSByZXF1aXJlKCd3ZWIzLWV0aC1pYmFuJyk7XG4vKipcbiAqIFdpbGwgZm9ybWF0IHRoZSBnaXZlbiBzdG9yYWdlIGtleSBhcnJheSB2YWx1ZXMgdG8gaGV4IHN0cmluZ3MuXG4gKlxuICogQG1ldGhvZCBpbnB1dFN0b3JhZ2VLZXlzRm9ybWF0dGVyXG4gKlxuICogQHBhcmFtIHtBcnJheTxOdW1iZXJ8U3RyaW5nfEJOfEJpZ051bWJlcj59IGtleXNcbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8U3RyaW5nPn1cbiAqL1xudmFyIGlucHV0U3RvcmFnZUtleXNGb3JtYXR0ZXIgPSBmdW5jdGlvbiAoa2V5cykge1xuICAgIHJldHVybiBrZXlzLm1hcCh1dGlscy5udW1iZXJUb0hleCk7XG59O1xuLyoqXG4gKiBXaWxsIGZvcm1hdCB0aGUgZ2l2ZW4gcHJvb2YgcmVzcG9uc2UgZnJvbSB0aGUgbm9kZS5cbiAqXG4gKiBAbWV0aG9kIG91dHB1dFByb29mRm9ybWF0dGVyXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHByb29mXG4gKlxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xudmFyIG91dHB1dFByb29mRm9ybWF0dGVyID0gZnVuY3Rpb24gKHByb29mKSB7XG4gICAgcHJvb2YuYWRkcmVzcyA9IHV0aWxzLnRvQ2hlY2tzdW1BZGRyZXNzKHByb29mLmFkZHJlc3MpO1xuICAgIHByb29mLm5vbmNlID0gdXRpbHMuaGV4VG9OdW1iZXJTdHJpbmcocHJvb2Yubm9uY2UpO1xuICAgIHByb29mLmJhbGFuY2UgPSB1dGlscy5oZXhUb051bWJlclN0cmluZyhwcm9vZi5iYWxhbmNlKTtcbiAgICByZXR1cm4gcHJvb2Y7XG59O1xuLyoqXG4gKiBTaG91bGQgdGhlIGZvcm1hdCBvdXRwdXQgdG8gYSBiaWcgbnVtYmVyXG4gKlxuICogQG1ldGhvZCBvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXJcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8QmlnTnVtYmVyfEJOfSBudW1iZXJcbiAqXG4gKiBAcmV0dXJucyB7Qk59IG9iamVjdFxuICovXG52YXIgb3V0cHV0QmlnTnVtYmVyRm9ybWF0dGVyID0gZnVuY3Rpb24gKG51bWJlcikge1xuICAgIHJldHVybiB1dGlscy50b0JOKG51bWJlcikudG9TdHJpbmcoMTApO1xufTtcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBibG9ja051bWJlciBpcyAnbGF0ZXN0JywgJ3BlbmRpbmcnLCBvciAnZWFybGllc3QuXG4gKlxuICogQG1ldGhvZCBpc1ByZWRlZmluZWRCbG9ja051bWJlclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBibG9ja051bWJlclxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG52YXIgaXNQcmVkZWZpbmVkQmxvY2tOdW1iZXIgPSBmdW5jdGlvbiAoYmxvY2tOdW1iZXIpIHtcbiAgICByZXR1cm4gYmxvY2tOdW1iZXIgPT09ICdsYXRlc3QnIHx8IGJsb2NrTnVtYmVyID09PSAncGVuZGluZycgfHwgYmxvY2tOdW1iZXIgPT09ICdlYXJsaWVzdCc7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBnaXZlbiBibG9jayBudW1iZXIgYXMgaGV4IHN0cmluZyBvciBkb2VzIHJldHVybiB0aGUgZGVmYXVsdEJsb2NrIHByb3BlcnR5IG9mIHRoZSBjdXJyZW50IG1vZHVsZVxuICpcbiAqIEBtZXRob2QgaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXJcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8Qk58QmlnTnVtYmVyfSBibG9ja051bWJlclxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbnZhciBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlciA9IGZ1bmN0aW9uIChibG9ja051bWJlcikge1xuICAgIGlmICh0aGlzICYmIChibG9ja051bWJlciA9PT0gdW5kZWZpbmVkIHx8IGJsb2NrTnVtYmVyID09PSBudWxsKSkge1xuICAgICAgICByZXR1cm4gaW5wdXRCbG9ja051bWJlckZvcm1hdHRlcih0aGlzLmRlZmF1bHRCbG9jayk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKGJsb2NrTnVtYmVyKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGdpdmVuIGJsb2NrIG51bWJlciBhcyBoZXggc3RyaW5nIG9yIHRoZSBwcmVkZWZpbmVkIGJsb2NrIG51bWJlciAnbGF0ZXN0JywgJ3BlbmRpbmcnLCAnZWFybGllc3QnLCAnZ2VuZXNpcydcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ8Qk58QmlnTnVtYmVyfSBibG9ja051bWJlclxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbnZhciBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyID0gZnVuY3Rpb24gKGJsb2NrTnVtYmVyKSB7XG4gICAgaWYgKGJsb2NrTnVtYmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGlzUHJlZGVmaW5lZEJsb2NrTnVtYmVyKGJsb2NrTnVtYmVyKSkge1xuICAgICAgICByZXR1cm4gYmxvY2tOdW1iZXI7XG4gICAgfVxuICAgIGlmIChibG9ja051bWJlciA9PT0gJ2dlbmVzaXMnKSB7XG4gICAgICAgIHJldHVybiAnMHgwJztcbiAgICB9XG4gICAgcmV0dXJuICh1dGlscy5pc0hleFN0cmljdChibG9ja051bWJlcikpID8gKCh0eXBlb2YgYmxvY2tOdW1iZXIgPT09ICdzdHJpbmcnKSA/IGJsb2NrTnVtYmVyLnRvTG93ZXJDYXNlKCkgOiBibG9ja051bWJlcikgOiB1dGlscy5udW1iZXJUb0hleChibG9ja051bWJlcik7XG59O1xuLyoqXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICpcbiAqIEBtZXRob2QgX3R4SW5wdXRGb3JtYXR0ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0cmFuc2FjdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBvYmplY3RcbiAqL1xudmFyIF90eElucHV0Rm9ybWF0dGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy50bykgeyAvLyBpdCBtaWdodCBiZSBjb250cmFjdCBjcmVhdGlvblxuICAgICAgICBvcHRpb25zLnRvID0gaW5wdXRBZGRyZXNzRm9ybWF0dGVyKG9wdGlvbnMudG8pO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaW5wdXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgY2FuXFwndCBoYXZlIFwiZGF0YVwiIGFuZCBcImlucHV0XCIgYXMgcHJvcGVydGllcyBvZiB0cmFuc2FjdGlvbnMgYXQgdGhlIHNhbWUgdGltZSwgcGxlYXNlIHVzZSBlaXRoZXIgXCJkYXRhXCIgb3IgXCJpbnB1dFwiIGluc3RlYWQuJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaW5wdXQpIHtcbiAgICAgICAgb3B0aW9ucy5kYXRhID0gb3B0aW9ucy5pbnB1dDtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW5wdXQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgIW9wdGlvbnMuZGF0YS5zdGFydHNXaXRoKCcweCcpKSB7XG4gICAgICAgIG9wdGlvbnMuZGF0YSA9ICcweCcgKyBvcHRpb25zLmRhdGE7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgIXV0aWxzLmlzSGV4KG9wdGlvbnMuZGF0YSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZGF0YSBmaWVsZCBtdXN0IGJlIEhFWCBlbmNvZGVkIGRhdGEuJyk7XG4gICAgfVxuICAgIC8vIGFsbG93IGJvdGhcbiAgICBpZiAob3B0aW9ucy5nYXMgfHwgb3B0aW9ucy5nYXNMaW1pdCkge1xuICAgICAgICBvcHRpb25zLmdhcyA9IG9wdGlvbnMuZ2FzIHx8IG9wdGlvbnMuZ2FzTGltaXQ7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLm1heFByaW9yaXR5RmVlUGVyR2FzIHx8IG9wdGlvbnMubWF4RmVlUGVyR2FzKSB7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmdhc1ByaWNlO1xuICAgIH1cbiAgICBbJ2dhc1ByaWNlJywgJ2dhcycsICd2YWx1ZScsICdtYXhQcmlvcml0eUZlZVBlckdhcycsICdtYXhGZWVQZXJHYXMnLCAnbm9uY2UnXS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gb3B0aW9uc1trZXldICE9PSB1bmRlZmluZWQ7XG4gICAgfSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIG9wdGlvbnNba2V5XSA9IHV0aWxzLm51bWJlclRvSGV4KG9wdGlvbnNba2V5XSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59O1xuLyoqXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHRyYW5zYWN0aW9uIGFuZCBjb252ZXJ0cyBhbGwgdmFsdWVzIHRvIEhFWFxuICpcbiAqIEBtZXRob2QgaW5wdXRDYWxsRm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gdHJhbnNhY3Rpb24gb3B0aW9uc1xuICogQHJldHVybnMgb2JqZWN0XG4gKi9cbnZhciBpbnB1dENhbGxGb3JtYXR0ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBfdHhJbnB1dEZvcm1hdHRlcihvcHRpb25zKTtcbiAgICB2YXIgZnJvbSA9IG9wdGlvbnMuZnJvbSB8fCAodGhpcyA/IHRoaXMuZGVmYXVsdEFjY291bnQgOiBudWxsKTtcbiAgICBpZiAoZnJvbSkge1xuICAgICAgICBvcHRpb25zLmZyb20gPSBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIoZnJvbSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufTtcbi8qKlxuICogRm9ybWF0cyB0aGUgaW5wdXQgb2YgYSB0cmFuc2FjdGlvbiBhbmQgY29udmVydHMgYWxsIHZhbHVlcyB0byBIRVhcbiAqXG4gKiBAbWV0aG9kIGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJucyBvYmplY3RcbiAqL1xudmFyIGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBfdHhJbnB1dEZvcm1hdHRlcihvcHRpb25zKTtcbiAgICAvLyBjaGVjayBmcm9tLCBvbmx5IGlmIG5vdCBudW1iZXIsIG9yIG9iamVjdFxuICAgIGlmICghKHR5cGVvZiBvcHRpb25zLmZyb20gPT09ICdudW1iZXInKSAmJiAhKCEhb3B0aW9ucy5mcm9tICYmIHR5cGVvZiBvcHRpb25zLmZyb20gPT09ICdvYmplY3QnKSkge1xuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gfHwgKHRoaXMgPyB0aGlzLmRlZmF1bHRBY2NvdW50IDogbnVsbCk7XG4gICAgICAgIGlmICghb3B0aW9ucy5mcm9tICYmICEodHlwZW9mIG9wdGlvbnMuZnJvbSA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzZW5kIHRyYW5zYWN0aW9ucyBcImZyb21cIiBmaWVsZCBtdXN0IGJlIGRlZmluZWQhJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5mcm9tID0gaW5wdXRBZGRyZXNzRm9ybWF0dGVyKG9wdGlvbnMuZnJvbSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufTtcbi8qKlxuICogSGV4IGVuY29kZXMgdGhlIGRhdGEgcGFzc2VkIHRvIGV0aF9zaWduIGFuZCBwZXJzb25hbF9zaWduXG4gKlxuICogQG1ldGhvZCBpbnB1dFNpZ25Gb3JtYXR0ZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG52YXIgaW5wdXRTaWduRm9ybWF0dGVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICByZXR1cm4gKHV0aWxzLmlzSGV4U3RyaWN0KGRhdGEpKSA/IGRhdGEgOiB1dGlscy51dGY4VG9IZXgoZGF0YSk7XG59O1xuLyoqXG4gKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSB0cmFuc2FjdGlvbiB0byBpdHMgcHJvcGVyIHZhbHVlc1xuICpcbiAqIEBtZXRob2Qgb3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xudmFyIG91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyID0gZnVuY3Rpb24gKHR4KSB7XG4gICAgaWYgKHR4LmJsb2NrTnVtYmVyICE9PSBudWxsKVxuICAgICAgICB0eC5ibG9ja051bWJlciA9IHV0aWxzLmhleFRvTnVtYmVyKHR4LmJsb2NrTnVtYmVyKTtcbiAgICBpZiAodHgudHJhbnNhY3Rpb25JbmRleCAhPT0gbnVsbClcbiAgICAgICAgdHgudHJhbnNhY3Rpb25JbmRleCA9IHV0aWxzLmhleFRvTnVtYmVyKHR4LnRyYW5zYWN0aW9uSW5kZXgpO1xuICAgIHR4Lm5vbmNlID0gdXRpbHMuaGV4VG9OdW1iZXIodHgubm9uY2UpO1xuICAgIHR4LmdhcyA9IHV0aWxzLmhleFRvTnVtYmVyKHR4Lmdhcyk7XG4gICAgaWYgKHR4Lmdhc1ByaWNlKVxuICAgICAgICB0eC5nYXNQcmljZSA9IG91dHB1dEJpZ051bWJlckZvcm1hdHRlcih0eC5nYXNQcmljZSk7XG4gICAgaWYgKHR4Lm1heEZlZVBlckdhcylcbiAgICAgICAgdHgubWF4RmVlUGVyR2FzID0gb3V0cHV0QmlnTnVtYmVyRm9ybWF0dGVyKHR4Lm1heEZlZVBlckdhcyk7XG4gICAgaWYgKHR4Lm1heFByaW9yaXR5RmVlUGVyR2FzKVxuICAgICAgICB0eC5tYXhQcmlvcml0eUZlZVBlckdhcyA9IG91dHB1dEJpZ051bWJlckZvcm1hdHRlcih0eC5tYXhQcmlvcml0eUZlZVBlckdhcyk7XG4gICAgaWYgKHR4LnR5cGUpXG4gICAgICAgIHR4LnR5cGUgPSB1dGlscy5oZXhUb051bWJlcih0eC50eXBlKTtcbiAgICB0eC52YWx1ZSA9IG91dHB1dEJpZ051bWJlckZvcm1hdHRlcih0eC52YWx1ZSk7XG4gICAgaWYgKHR4LnRvICYmIHV0aWxzLmlzQWRkcmVzcyh0eC50bykpIHsgLy8gdHgudG8gY291bGQgYmUgYDB4MGAgb3IgYG51bGxgIHdoaWxlIGNvbnRyYWN0IGNyZWF0aW9uXG4gICAgICAgIHR4LnRvID0gdXRpbHMudG9DaGVja3N1bUFkZHJlc3ModHgudG8pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdHgudG8gPSBudWxsOyAvLyBzZXQgdG8gYG51bGxgIGlmIGludmFsaWQgYWRkcmVzc1xuICAgIH1cbiAgICBpZiAodHguZnJvbSkge1xuICAgICAgICB0eC5mcm9tID0gdXRpbHMudG9DaGVja3N1bUFkZHJlc3ModHguZnJvbSk7XG4gICAgfVxuICAgIHJldHVybiB0eDtcbn07XG4vKipcbiAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIHRyYW5zYWN0aW9uIHJlY2VpcHQgdG8gaXRzIHByb3BlciB2YWx1ZXNcbiAqXG4gKiBAbWV0aG9kIG91dHB1dFRyYW5zYWN0aW9uUmVjZWlwdEZvcm1hdHRlclxuICogQHBhcmFtIHtPYmplY3R9IHJlY2VpcHRcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbnZhciBvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXIgPSBmdW5jdGlvbiAocmVjZWlwdCkge1xuICAgIGlmICh0eXBlb2YgcmVjZWlwdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWNlaXZlZCByZWNlaXB0IGlzIGludmFsaWQ6ICcgKyByZWNlaXB0KTtcbiAgICB9XG4gICAgaWYgKHJlY2VpcHQuYmxvY2tOdW1iZXIgIT09IG51bGwpXG4gICAgICAgIHJlY2VpcHQuYmxvY2tOdW1iZXIgPSB1dGlscy5oZXhUb051bWJlcihyZWNlaXB0LmJsb2NrTnVtYmVyKTtcbiAgICBpZiAocmVjZWlwdC50cmFuc2FjdGlvbkluZGV4ICE9PSBudWxsKVxuICAgICAgICByZWNlaXB0LnRyYW5zYWN0aW9uSW5kZXggPSB1dGlscy5oZXhUb051bWJlcihyZWNlaXB0LnRyYW5zYWN0aW9uSW5kZXgpO1xuICAgIHJlY2VpcHQuY3VtdWxhdGl2ZUdhc1VzZWQgPSB1dGlscy5oZXhUb051bWJlcihyZWNlaXB0LmN1bXVsYXRpdmVHYXNVc2VkKTtcbiAgICByZWNlaXB0Lmdhc1VzZWQgPSB1dGlscy5oZXhUb051bWJlcihyZWNlaXB0Lmdhc1VzZWQpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHJlY2VpcHQubG9ncykpIHtcbiAgICAgICAgcmVjZWlwdC5sb2dzID0gcmVjZWlwdC5sb2dzLm1hcChvdXRwdXRMb2dGb3JtYXR0ZXIpO1xuICAgIH1cbiAgICBpZiAocmVjZWlwdC5lZmZlY3RpdmVHYXNQcmljZSkge1xuICAgICAgICByZWNlaXB0LmVmZmVjdGl2ZUdhc1ByaWNlID0gdXRpbHMuaGV4VG9OdW1iZXIocmVjZWlwdC5lZmZlY3RpdmVHYXNQcmljZSk7XG4gICAgfVxuICAgIGlmIChyZWNlaXB0LmNvbnRyYWN0QWRkcmVzcykge1xuICAgICAgICByZWNlaXB0LmNvbnRyYWN0QWRkcmVzcyA9IHV0aWxzLnRvQ2hlY2tzdW1BZGRyZXNzKHJlY2VpcHQuY29udHJhY3RBZGRyZXNzKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWNlaXB0LnN0YXR1cyAhPT0gJ3VuZGVmaW5lZCcgJiYgcmVjZWlwdC5zdGF0dXMgIT09IG51bGwpIHtcbiAgICAgICAgcmVjZWlwdC5zdGF0dXMgPSBCb29sZWFuKHBhcnNlSW50KHJlY2VpcHQuc3RhdHVzKSk7XG4gICAgfVxuICAgIHJldHVybiByZWNlaXB0O1xufTtcbi8qKlxuICogRm9ybWF0cyB0aGUgb3V0cHV0IG9mIGEgYmxvY2sgdG8gaXRzIHByb3BlciB2YWx1ZXNcbiAqXG4gKiBAbWV0aG9kIG91dHB1dEJsb2NrRm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gYmxvY2tcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbnZhciBvdXRwdXRCbG9ja0Zvcm1hdHRlciA9IGZ1bmN0aW9uIChibG9jaykge1xuICAgIC8vIHRyYW5zZm9ybSB0byBudW1iZXJcbiAgICBibG9jay5nYXNMaW1pdCA9IHV0aWxzLmhleFRvTnVtYmVyKGJsb2NrLmdhc0xpbWl0KTtcbiAgICBibG9jay5nYXNVc2VkID0gdXRpbHMuaGV4VG9OdW1iZXIoYmxvY2suZ2FzVXNlZCk7XG4gICAgYmxvY2suc2l6ZSA9IHV0aWxzLmhleFRvTnVtYmVyKGJsb2NrLnNpemUpO1xuICAgIGJsb2NrLnRpbWVzdGFtcCA9IHV0aWxzLmhleFRvTnVtYmVyKGJsb2NrLnRpbWVzdGFtcCk7XG4gICAgaWYgKGJsb2NrLm51bWJlciAhPT0gbnVsbClcbiAgICAgICAgYmxvY2subnVtYmVyID0gdXRpbHMuaGV4VG9OdW1iZXIoYmxvY2subnVtYmVyKTtcbiAgICBpZiAoYmxvY2suZGlmZmljdWx0eSlcbiAgICAgICAgYmxvY2suZGlmZmljdWx0eSA9IG91dHB1dEJpZ051bWJlckZvcm1hdHRlcihibG9jay5kaWZmaWN1bHR5KTtcbiAgICBpZiAoYmxvY2sudG90YWxEaWZmaWN1bHR5KVxuICAgICAgICBibG9jay50b3RhbERpZmZpY3VsdHkgPSBvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXIoYmxvY2sudG90YWxEaWZmaWN1bHR5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShibG9jay50cmFuc2FjdGlvbnMpKSB7XG4gICAgICAgIGJsb2NrLnRyYW5zYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoISh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpKVxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlcihpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChibG9jay5taW5lcilcbiAgICAgICAgYmxvY2subWluZXIgPSB1dGlscy50b0NoZWNrc3VtQWRkcmVzcyhibG9jay5taW5lcik7XG4gICAgaWYgKGJsb2NrLmJhc2VGZWVQZXJHYXMpXG4gICAgICAgIGJsb2NrLmJhc2VGZWVQZXJHYXMgPSB1dGlscy5oZXhUb051bWJlcihibG9jay5iYXNlRmVlUGVyR2FzKTtcbiAgICByZXR1cm4gYmxvY2s7XG59O1xuLyoqXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIGxvZ1xuICpcbiAqIEBtZXRob2QgaW5wdXRMb2dGb3JtYXR0ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBsb2cgb2JqZWN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBsb2dcbiAqL1xudmFyIGlucHV0TG9nRm9ybWF0dGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgdG9Ub3BpYyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKCcweCcpID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuZnJvbVV0ZjgodmFsdWUpO1xuICAgIH07XG4gICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIC8vIElmIG9wdGlvbnMgIT09IHVuZGVmaW5lZCwgZG9uJ3QgYmxvdyBvdXQgZXhpc3RpbmcgZGF0YVxuICAgIGlmIChvcHRpb25zLmZyb21CbG9jayA9PT0gdW5kZWZpbmVkKVxuICAgICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCBmcm9tQmxvY2s6ICdsYXRlc3QnIH07XG4gICAgaWYgKG9wdGlvbnMuZnJvbUJsb2NrIHx8IG9wdGlvbnMuZnJvbUJsb2NrID09PSAwKVxuICAgICAgICBvcHRpb25zLmZyb21CbG9jayA9IGlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIob3B0aW9ucy5mcm9tQmxvY2spO1xuICAgIGlmIChvcHRpb25zLnRvQmxvY2sgfHwgb3B0aW9ucy50b0Jsb2NrID09PSAwKVxuICAgICAgICBvcHRpb25zLnRvQmxvY2sgPSBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyKG9wdGlvbnMudG9CbG9jayk7XG4gICAgLy8gbWFrZSBzdXJlIHRvcGljcywgZ2V0IGNvbnZlcnRlZCB0byBoZXhcbiAgICBvcHRpb25zLnRvcGljcyA9IG9wdGlvbnMudG9waWNzIHx8IFtdO1xuICAgIG9wdGlvbnMudG9waWNzID0gb3B0aW9ucy50b3BpY3MubWFwKGZ1bmN0aW9uICh0b3BpYykge1xuICAgICAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkodG9waWMpKSA/IHRvcGljLm1hcCh0b1RvcGljKSA6IHRvVG9waWModG9waWMpO1xuICAgIH0pO1xuICAgIHRvVG9waWMgPSBudWxsO1xuICAgIGlmIChvcHRpb25zLmFkZHJlc3MpIHtcbiAgICAgICAgb3B0aW9ucy5hZGRyZXNzID0gKEFycmF5LmlzQXJyYXkob3B0aW9ucy5hZGRyZXNzKSkgPyBvcHRpb25zLmFkZHJlc3MubWFwKGZ1bmN0aW9uIChhZGRyKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRBZGRyZXNzRm9ybWF0dGVyKGFkZHIpO1xuICAgICAgICB9KSA6IGlucHV0QWRkcmVzc0Zvcm1hdHRlcihvcHRpb25zLmFkZHJlc3MpO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn07XG4vKipcbiAqIEZvcm1hdHMgdGhlIG91dHB1dCBvZiBhIGxvZ1xuICpcbiAqIEBtZXRob2Qgb3V0cHV0TG9nRm9ybWF0dGVyXG4gKiBAcGFyYW0ge09iamVjdH0gbG9nIG9iamVjdFxuICogQHJldHVybnMge09iamVjdH0gbG9nXG4gKi9cbnZhciBvdXRwdXRMb2dGb3JtYXR0ZXIgPSBmdW5jdGlvbiAobG9nKSB7XG4gICAgLy8gZ2VuZXJhdGUgYSBjdXN0b20gbG9nIGlkXG4gICAgaWYgKHR5cGVvZiBsb2cuYmxvY2tIYXNoID09PSAnc3RyaW5nJyAmJlxuICAgICAgICB0eXBlb2YgbG9nLnRyYW5zYWN0aW9uSGFzaCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgdHlwZW9mIGxvZy5sb2dJbmRleCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHNoYUlkID0gdXRpbHMuc2hhMyhsb2cuYmxvY2tIYXNoLnJlcGxhY2UoJzB4JywgJycpICsgbG9nLnRyYW5zYWN0aW9uSGFzaC5yZXBsYWNlKCcweCcsICcnKSArIGxvZy5sb2dJbmRleC5yZXBsYWNlKCcweCcsICcnKSk7XG4gICAgICAgIGxvZy5pZCA9ICdsb2dfJyArIHNoYUlkLnJlcGxhY2UoJzB4JywgJycpLnN1YnN0cigwLCA4KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWxvZy5pZCkge1xuICAgICAgICBsb2cuaWQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobG9nLmJsb2NrTnVtYmVyICE9PSBudWxsKVxuICAgICAgICBsb2cuYmxvY2tOdW1iZXIgPSB1dGlscy5oZXhUb051bWJlcihsb2cuYmxvY2tOdW1iZXIpO1xuICAgIGlmIChsb2cudHJhbnNhY3Rpb25JbmRleCAhPT0gbnVsbClcbiAgICAgICAgbG9nLnRyYW5zYWN0aW9uSW5kZXggPSB1dGlscy5oZXhUb051bWJlcihsb2cudHJhbnNhY3Rpb25JbmRleCk7XG4gICAgaWYgKGxvZy5sb2dJbmRleCAhPT0gbnVsbClcbiAgICAgICAgbG9nLmxvZ0luZGV4ID0gdXRpbHMuaGV4VG9OdW1iZXIobG9nLmxvZ0luZGV4KTtcbiAgICBpZiAobG9nLmFkZHJlc3MpIHtcbiAgICAgICAgbG9nLmFkZHJlc3MgPSB1dGlscy50b0NoZWNrc3VtQWRkcmVzcyhsb2cuYWRkcmVzcyk7XG4gICAgfVxuICAgIHJldHVybiBsb2c7XG59O1xuLyoqXG4gKiBGb3JtYXRzIHRoZSBpbnB1dCBvZiBhIHdoaXNwZXIgcG9zdCBhbmQgY29udmVydHMgYWxsIHZhbHVlcyB0byBIRVhcbiAqXG4gKiBAbWV0aG9kIGlucHV0UG9zdEZvcm1hdHRlclxuICogQHBhcmFtIHtPYmplY3R9IHRyYW5zYWN0aW9uIG9iamVjdFxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xudmFyIGlucHV0UG9zdEZvcm1hdHRlciA9IGZ1bmN0aW9uIChwb3N0KSB7XG4gICAgLy8gcG9zdC5wYXlsb2FkID0gdXRpbHMudG9IZXgocG9zdC5wYXlsb2FkKTtcbiAgICBpZiAocG9zdC50dGwpXG4gICAgICAgIHBvc3QudHRsID0gdXRpbHMubnVtYmVyVG9IZXgocG9zdC50dGwpO1xuICAgIGlmIChwb3N0LndvcmtUb1Byb3ZlKVxuICAgICAgICBwb3N0LndvcmtUb1Byb3ZlID0gdXRpbHMubnVtYmVyVG9IZXgocG9zdC53b3JrVG9Qcm92ZSk7XG4gICAgaWYgKHBvc3QucHJpb3JpdHkpXG4gICAgICAgIHBvc3QucHJpb3JpdHkgPSB1dGlscy5udW1iZXJUb0hleChwb3N0LnByaW9yaXR5KTtcbiAgICAvLyBmYWxsYmFja1xuICAgIGlmICghQXJyYXkuaXNBcnJheShwb3N0LnRvcGljcykpIHtcbiAgICAgICAgcG9zdC50b3BpY3MgPSBwb3N0LnRvcGljcyA/IFtwb3N0LnRvcGljc10gOiBbXTtcbiAgICB9XG4gICAgLy8gZm9ybWF0IHRoZSBmb2xsb3dpbmcgb3B0aW9uc1xuICAgIHBvc3QudG9waWNzID0gcG9zdC50b3BpY3MubWFwKGZ1bmN0aW9uICh0b3BpYykge1xuICAgICAgICAvLyBjb252ZXJ0IG9ubHkgaWYgbm90IGhleFxuICAgICAgICByZXR1cm4gKHRvcGljLmluZGV4T2YoJzB4JykgPT09IDApID8gdG9waWMgOiB1dGlscy5mcm9tVXRmOCh0b3BpYyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBvc3Q7XG59O1xuLyoqXG4gKiBGb3JtYXRzIHRoZSBvdXRwdXQgb2YgYSByZWNlaXZlZCBwb3N0IG1lc3NhZ2VcbiAqXG4gKiBAbWV0aG9kIG91dHB1dFBvc3RGb3JtYXR0ZXJcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xudmFyIG91dHB1dFBvc3RGb3JtYXR0ZXIgPSBmdW5jdGlvbiAocG9zdCkge1xuICAgIHBvc3QuZXhwaXJ5ID0gdXRpbHMuaGV4VG9OdW1iZXIocG9zdC5leHBpcnkpO1xuICAgIHBvc3Quc2VudCA9IHV0aWxzLmhleFRvTnVtYmVyKHBvc3Quc2VudCk7XG4gICAgcG9zdC50dGwgPSB1dGlscy5oZXhUb051bWJlcihwb3N0LnR0bCk7XG4gICAgcG9zdC53b3JrUHJvdmVkID0gdXRpbHMuaGV4VG9OdW1iZXIocG9zdC53b3JrUHJvdmVkKTtcbiAgICAvLyBwb3N0LnBheWxvYWRSYXcgPSBwb3N0LnBheWxvYWQ7XG4gICAgLy8gcG9zdC5wYXlsb2FkID0gdXRpbHMuaGV4VG9Bc2NpaShwb3N0LnBheWxvYWQpO1xuICAgIC8vIGlmICh1dGlscy5pc0pzb24ocG9zdC5wYXlsb2FkKSkge1xuICAgIC8vICAgICBwb3N0LnBheWxvYWQgPSBKU09OLnBhcnNlKHBvc3QucGF5bG9hZCk7XG4gICAgLy8gfVxuICAgIC8vIGZvcm1hdCB0aGUgZm9sbG93aW5nIG9wdGlvbnNcbiAgICBpZiAoIXBvc3QudG9waWNzKSB7XG4gICAgICAgIHBvc3QudG9waWNzID0gW107XG4gICAgfVxuICAgIHBvc3QudG9waWNzID0gcG9zdC50b3BpY3MubWFwKGZ1bmN0aW9uICh0b3BpYykge1xuICAgICAgICByZXR1cm4gdXRpbHMudG9VdGY4KHRvcGljKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcG9zdDtcbn07XG52YXIgaW5wdXRBZGRyZXNzRm9ybWF0dGVyID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICB2YXIgaWJhbiA9IG5ldyBJYmFuKGFkZHJlc3MpO1xuICAgIGlmIChpYmFuLmlzVmFsaWQoKSAmJiBpYmFuLmlzRGlyZWN0KCkpIHtcbiAgICAgICAgcmV0dXJuIGliYW4udG9BZGRyZXNzKCkudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodXRpbHMuaXNBZGRyZXNzKGFkZHJlc3MpKSB7XG4gICAgICAgIHJldHVybiAnMHgnICsgYWRkcmVzcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJzB4JywgJycpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIGFkZHJlc3MgJHthZGRyZXNzfSBpcyBpbnZhbGlkLCB0aGUgY2FwaXRhbGl6YXRpb24gY2hlY2tzdW0gdGVzdCBmYWlsZWQsIG9yIGl0J3MgYW4gaW5kaXJlY3QgSUJBTiBhZGRyZXNzIHdoaWNoIGNhbid0IGJlIGNvbnZlcnRlZC5gKTtcbn07XG52YXIgb3V0cHV0U3luY2luZ0Zvcm1hdHRlciA9IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICByZXN1bHQuc3RhcnRpbmdCbG9jayA9IHV0aWxzLmhleFRvTnVtYmVyKHJlc3VsdC5zdGFydGluZ0Jsb2NrKTtcbiAgICByZXN1bHQuY3VycmVudEJsb2NrID0gdXRpbHMuaGV4VG9OdW1iZXIocmVzdWx0LmN1cnJlbnRCbG9jayk7XG4gICAgcmVzdWx0LmhpZ2hlc3RCbG9jayA9IHV0aWxzLmhleFRvTnVtYmVyKHJlc3VsdC5oaWdoZXN0QmxvY2spO1xuICAgIGlmIChyZXN1bHQua25vd25TdGF0ZXMpIHtcbiAgICAgICAgcmVzdWx0Lmtub3duU3RhdGVzID0gdXRpbHMuaGV4VG9OdW1iZXIocmVzdWx0Lmtub3duU3RhdGVzKTtcbiAgICAgICAgcmVzdWx0LnB1bGxlZFN0YXRlcyA9IHV0aWxzLmhleFRvTnVtYmVyKHJlc3VsdC5wdWxsZWRTdGF0ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlucHV0RGVmYXVsdEJsb2NrTnVtYmVyRm9ybWF0dGVyOiBpbnB1dERlZmF1bHRCbG9ja051bWJlckZvcm1hdHRlcixcbiAgICBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyOiBpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyLFxuICAgIGlucHV0Q2FsbEZvcm1hdHRlcjogaW5wdXRDYWxsRm9ybWF0dGVyLFxuICAgIGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXI6IGlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIsXG4gICAgaW5wdXRBZGRyZXNzRm9ybWF0dGVyOiBpbnB1dEFkZHJlc3NGb3JtYXR0ZXIsXG4gICAgaW5wdXRQb3N0Rm9ybWF0dGVyOiBpbnB1dFBvc3RGb3JtYXR0ZXIsXG4gICAgaW5wdXRMb2dGb3JtYXR0ZXI6IGlucHV0TG9nRm9ybWF0dGVyLFxuICAgIGlucHV0U2lnbkZvcm1hdHRlcjogaW5wdXRTaWduRm9ybWF0dGVyLFxuICAgIGlucHV0U3RvcmFnZUtleXNGb3JtYXR0ZXI6IGlucHV0U3RvcmFnZUtleXNGb3JtYXR0ZXIsXG4gICAgb3V0cHV0UHJvb2ZGb3JtYXR0ZXI6IG91dHB1dFByb29mRm9ybWF0dGVyLFxuICAgIG91dHB1dEJpZ051bWJlckZvcm1hdHRlcjogb3V0cHV0QmlnTnVtYmVyRm9ybWF0dGVyLFxuICAgIG91dHB1dFRyYW5zYWN0aW9uRm9ybWF0dGVyOiBvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlcixcbiAgICBvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXI6IG91dHB1dFRyYW5zYWN0aW9uUmVjZWlwdEZvcm1hdHRlcixcbiAgICBvdXRwdXRCbG9ja0Zvcm1hdHRlcjogb3V0cHV0QmxvY2tGb3JtYXR0ZXIsXG4gICAgb3V0cHV0TG9nRm9ybWF0dGVyOiBvdXRwdXRMb2dGb3JtYXR0ZXIsXG4gICAgb3V0cHV0UG9zdEZvcm1hdHRlcjogb3V0cHV0UG9zdEZvcm1hdHRlcixcbiAgICBvdXRwdXRTeW5jaW5nRm9ybWF0dGVyOiBvdXRwdXRTeW5jaW5nRm9ybWF0dGVyXG59O1xuIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKlxuICogQGZpbGUgaW5kZXguanNcbiAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGVyZXVtLm9yZz5cbiAqIEBkYXRlIDIwMTdcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZXJyb3JzID0gcmVxdWlyZSgnLi9lcnJvcnMnKTtcbnZhciBmb3JtYXR0ZXJzID0gcmVxdWlyZSgnLi9mb3JtYXR0ZXJzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBlcnJvcnM6IGVycm9ycyxcbiAgICBmb3JtYXR0ZXJzOiBmb3JtYXR0ZXJzXG59O1xuIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKlxuICogQGZpbGUgaW5kZXguanNcbiAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGVyZXVtLm9yZz5cbiAqIEBhdXRob3IgTWFyZWsgS290ZXdpY3ogPG1hcmVrQHBhcml0eS5pbz5cbiAqIEBkYXRlIDIwMTdcbiAqL1xuJ3VzZSBzdHJpY3QnO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoJ3dlYjMtY29yZS1oZWxwZXJzJykuZXJyb3JzO1xudmFyIGZvcm1hdHRlcnMgPSByZXF1aXJlKCd3ZWIzLWNvcmUtaGVscGVycycpLmZvcm1hdHRlcnM7XG52YXIgdXRpbHMgPSByZXF1aXJlKCd3ZWIzLXV0aWxzJyk7XG52YXIgcHJvbWlFdmVudCA9IHJlcXVpcmUoJ3dlYjMtY29yZS1wcm9taWV2ZW50Jyk7XG52YXIgU3Vic2NyaXB0aW9ucyA9IHJlcXVpcmUoJ3dlYjMtY29yZS1zdWJzY3JpcHRpb25zJykuc3Vic2NyaXB0aW9ucztcbnZhciBFdGhlcnNUcmFuc2FjdGlvblV0aWxzID0gcmVxdWlyZSgnQGV0aGVyc3Byb2plY3QvdHJhbnNhY3Rpb25zJyk7XG52YXIgTWV0aG9kID0gZnVuY3Rpb24gTWV0aG9kKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMuY2FsbCB8fCAhb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2hlbiBjcmVhdGluZyBhIG1ldGhvZCB5b3UgbmVlZCB0byBwcm92aWRlIGF0IGxlYXN0IHRoZSBcIm5hbWVcIiBhbmQgXCJjYWxsXCIgcHJvcGVydHkuJyk7XG4gICAgfVxuICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICB0aGlzLmNhbGwgPSBvcHRpb25zLmNhbGw7XG4gICAgdGhpcy5wYXJhbXMgPSBvcHRpb25zLnBhcmFtcyB8fCAwO1xuICAgIHRoaXMuaW5wdXRGb3JtYXR0ZXIgPSBvcHRpb25zLmlucHV0Rm9ybWF0dGVyO1xuICAgIHRoaXMub3V0cHV0Rm9ybWF0dGVyID0gb3B0aW9ucy5vdXRwdXRGb3JtYXR0ZXI7XG4gICAgdGhpcy50cmFuc2Zvcm1QYXlsb2FkID0gb3B0aW9ucy50cmFuc2Zvcm1QYXlsb2FkO1xuICAgIHRoaXMuZXh0cmFGb3JtYXR0ZXJzID0gb3B0aW9ucy5leHRyYUZvcm1hdHRlcnM7XG4gICAgdGhpcy5hYmlDb2RlciA9IG9wdGlvbnMuYWJpQ29kZXI7IC8vIFdpbGwgYmUgdXNlZCB0byBlbmNvZGUgdGhlIHJldmVydCByZWFzb24gc3RyaW5nXG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG9wdGlvbnMucmVxdWVzdE1hbmFnZXI7XG4gICAgLy8gcmVmZXJlbmNlIHRvIGV0aC5hY2NvdW50c1xuICAgIHRoaXMuYWNjb3VudHMgPSBvcHRpb25zLmFjY291bnRzO1xuICAgIHRoaXMuZGVmYXVsdEJsb2NrID0gb3B0aW9ucy5kZWZhdWx0QmxvY2sgfHwgJ2xhdGVzdCc7XG4gICAgdGhpcy5kZWZhdWx0QWNjb3VudCA9IG9wdGlvbnMuZGVmYXVsdEFjY291bnQgfHwgbnVsbDtcbiAgICB0aGlzLnRyYW5zYWN0aW9uQmxvY2tUaW1lb3V0ID0gb3B0aW9ucy50cmFuc2FjdGlvbkJsb2NrVGltZW91dCB8fCA1MDtcbiAgICB0aGlzLnRyYW5zYWN0aW9uQ29uZmlybWF0aW9uQmxvY2tzID0gb3B0aW9ucy50cmFuc2FjdGlvbkNvbmZpcm1hdGlvbkJsb2NrcyB8fCAyNDtcbiAgICB0aGlzLnRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQgPSBvcHRpb25zLnRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQgfHwgNzUwO1xuICAgIHRoaXMudHJhbnNhY3Rpb25Qb2xsaW5nSW50ZXJ2YWwgPSBvcHRpb25zLnRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsIHx8IDEwMDA7XG4gICAgdGhpcy5ibG9ja0hlYWRlclRpbWVvdXQgPSBvcHRpb25zLmJsb2NrSGVhZGVyVGltZW91dCB8fCAxMDsgLy8gMTAgc2Vjb25kc1xuICAgIHRoaXMuZGVmYXVsdENvbW1vbiA9IG9wdGlvbnMuZGVmYXVsdENvbW1vbjtcbiAgICB0aGlzLmRlZmF1bHRDaGFpbiA9IG9wdGlvbnMuZGVmYXVsdENoYWluO1xuICAgIHRoaXMuZGVmYXVsdEhhcmRmb3JrID0gb3B0aW9ucy5kZWZhdWx0SGFyZGZvcms7XG4gICAgdGhpcy5oYW5kbGVSZXZlcnQgPSBvcHRpb25zLmhhbmRsZVJldmVydDtcbn07XG5NZXRob2QucHJvdG90eXBlLnNldFJlcXVlc3RNYW5hZ2VyID0gZnVuY3Rpb24gKHJlcXVlc3RNYW5hZ2VyLCBhY2NvdW50cykge1xuICAgIHRoaXMucmVxdWVzdE1hbmFnZXIgPSByZXF1ZXN0TWFuYWdlcjtcbiAgICAvLyByZWZlcmVuY2UgdG8gZXRoLmFjY291bnRzXG4gICAgaWYgKGFjY291bnRzKSB7XG4gICAgICAgIHRoaXMuYWNjb3VudHMgPSBhY2NvdW50cztcbiAgICB9XG59O1xuTWV0aG9kLnByb3RvdHlwZS5jcmVhdGVGdW5jdGlvbiA9IGZ1bmN0aW9uIChyZXF1ZXN0TWFuYWdlciwgYWNjb3VudHMpIHtcbiAgICB2YXIgZnVuYyA9IHRoaXMuYnVpbGRDYWxsKCk7XG4gICAgZnVuYy5jYWxsID0gdGhpcy5jYWxsO1xuICAgIHRoaXMuc2V0UmVxdWVzdE1hbmFnZXIocmVxdWVzdE1hbmFnZXIgfHwgdGhpcy5yZXF1ZXN0TWFuYWdlciwgYWNjb3VudHMgfHwgdGhpcy5hY2NvdW50cyk7XG4gICAgcmV0dXJuIGZ1bmM7XG59O1xuTWV0aG9kLnByb3RvdHlwZS5hdHRhY2hUb09iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgZnVuYyA9IHRoaXMuYnVpbGRDYWxsKCk7XG4gICAgZnVuYy5jYWxsID0gdGhpcy5jYWxsO1xuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lLnNwbGl0KCcuJyk7XG4gICAgaWYgKG5hbWUubGVuZ3RoID4gMSkge1xuICAgICAgICBvYmpbbmFtZVswXV0gPSBvYmpbbmFtZVswXV0gfHwge307XG4gICAgICAgIG9ialtuYW1lWzBdXVtuYW1lWzFdXSA9IGZ1bmM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmpbbmFtZVswXV0gPSBmdW5jO1xuICAgIH1cbn07XG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGRldGVybWluZSBuYW1lIG9mIHRoZSBqc29ucnBjIG1ldGhvZCBiYXNlZCBvbiBhcmd1bWVudHNcbiAqXG4gKiBAbWV0aG9kIGdldENhbGxcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3VtZW50c1xuICogQHJldHVybiB7U3RyaW5nfSBuYW1lIG9mIGpzb25ycGMgbWV0aG9kXG4gKi9cbk1ldGhvZC5wcm90b3R5cGUuZ2V0Q2FsbCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLmNhbGwgPT09ICdmdW5jdGlvbicgPyB0aGlzLmNhbGwoYXJncykgOiB0aGlzLmNhbGw7XG59O1xuLyoqXG4gKiBTaG91bGQgYmUgdXNlZCB0byBleHRyYWN0IGNhbGxiYWNrIGZyb20gYXJyYXkgb2YgYXJndW1lbnRzLiBNb2RpZmllcyBpbnB1dCBwYXJhbVxuICpcbiAqIEBtZXRob2QgZXh0cmFjdENhbGxiYWNrXG4gKiBAcGFyYW0ge0FycmF5fSBhcmd1bWVudHNcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufE51bGx9IGNhbGxiYWNrLCBpZiBleGlzdHNcbiAqL1xuTWV0aG9kLnByb3RvdHlwZS5leHRyYWN0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIGlmICh0eXBlb2YgKGFyZ3NbYXJncy5sZW5ndGggLSAxXSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3MucG9wKCk7IC8vIG1vZGlmeSB0aGUgYXJncyBhcnJheSFcbiAgICB9XG59O1xuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNoZWNrIGlmIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGlzIGNvcnJlY3RcbiAqXG4gKiBAbWV0aG9kIHZhbGlkYXRlQXJnc1xuICogQHBhcmFtIHtBcnJheX0gYXJndW1lbnRzXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgaXQgaXMgbm90XG4gKi9cbk1ldGhvZC5wcm90b3R5cGUudmFsaWRhdGVBcmdzID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBpZiAoYXJncy5sZW5ndGggIT09IHRoaXMucGFyYW1zKSB7XG4gICAgICAgIHRocm93IGVycm9ycy5JbnZhbGlkTnVtYmVyT2ZQYXJhbXMoYXJncy5sZW5ndGgsIHRoaXMucGFyYW1zLCB0aGlzLm5hbWUpO1xuICAgIH1cbn07XG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZm9ybWF0IGlucHV0IGFyZ3Mgb2YgbWV0aG9kXG4gKlxuICogQG1ldGhvZCBmb3JtYXRJbnB1dFxuICogQHBhcmFtIHtBcnJheX1cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5NZXRob2QucHJvdG90eXBlLmZvcm1hdElucHV0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGlmICghdGhpcy5pbnB1dEZvcm1hdHRlcikge1xuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaW5wdXRGb3JtYXR0ZXIubWFwKGZ1bmN0aW9uIChmb3JtYXR0ZXIsIGluZGV4KSB7XG4gICAgICAgIC8vIGJpbmQgdGhpcyBmb3IgZGVmYXVsdEJsb2NrLCBhbmQgZGVmYXVsdEFjY291bnRcbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlciA/IGZvcm1hdHRlci5jYWxsKF90aGlzLCBhcmdzW2luZGV4XSkgOiBhcmdzW2luZGV4XTtcbiAgICB9KTtcbn07XG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gZm9ybWF0IG91dHB1dChyZXN1bHQpIG9mIG1ldGhvZFxuICpcbiAqIEBtZXRob2QgZm9ybWF0T3V0cHV0XG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuTWV0aG9kLnByb3RvdHlwZS5mb3JtYXRPdXRwdXQgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQubWFwKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vdXRwdXRGb3JtYXR0ZXIgJiYgcmVzID8gX3RoaXMub3V0cHV0Rm9ybWF0dGVyKHJlcykgOiByZXM7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0Rm9ybWF0dGVyICYmIHJlc3VsdCA/IHRoaXMub3V0cHV0Rm9ybWF0dGVyKHJlc3VsdCkgOiByZXN1bHQ7XG4gICAgfVxufTtcbi8qKlxuICogU2hvdWxkIGNyZWF0ZSBwYXlsb2FkIGZyb20gZ2l2ZW4gaW5wdXQgYXJnc1xuICpcbiAqIEBtZXRob2QgdG9QYXlsb2FkXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbk1ldGhvZC5wcm90b3R5cGUudG9QYXlsb2FkID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgY2FsbCA9IHRoaXMuZ2V0Q2FsbChhcmdzKTtcbiAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLmV4dHJhY3RDYWxsYmFjayhhcmdzKTtcbiAgICB2YXIgcGFyYW1zID0gdGhpcy5mb3JtYXRJbnB1dChhcmdzKTtcbiAgICB0aGlzLnZhbGlkYXRlQXJncyhwYXJhbXMpO1xuICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgICBtZXRob2Q6IGNhbGwsXG4gICAgICAgIHBhcmFtczogcGFyYW1zLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2tcbiAgICB9O1xuICAgIGlmICh0aGlzLnRyYW5zZm9ybVBheWxvYWQpIHtcbiAgICAgICAgcGF5bG9hZCA9IHRoaXMudHJhbnNmb3JtUGF5bG9hZChwYXlsb2FkKTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59O1xuTWV0aG9kLnByb3RvdHlwZS5fY29uZmlybVRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKGRlZmVyLCByZXN1bHQsIHBheWxvYWQpIHtcbiAgICB2YXIgbWV0aG9kID0gdGhpcywgcHJvbWlzZVJlc29sdmVkID0gZmFsc2UsIGNhblVuc3Vic2NyaWJlID0gdHJ1ZSwgdGltZW91dENvdW50ID0gMCwgY29uZmlybWF0aW9uQ291bnQgPSAwLCBpbnRlcnZhbElkID0gbnVsbCwgYmxvY2tIZWFkZXJUaW1lb3V0SWQgPSBudWxsLCBsYXN0QmxvY2sgPSBudWxsLCByZWNlaXB0SlNPTiA9ICcnLCBnYXNQcm92aWRlZCA9ICgoISFwYXlsb2FkLnBhcmFtc1swXSAmJiB0eXBlb2YgcGF5bG9hZC5wYXJhbXNbMF0gPT09ICdvYmplY3QnKSAmJiBwYXlsb2FkLnBhcmFtc1swXS5nYXMpID8gcGF5bG9hZC5wYXJhbXNbMF0uZ2FzIDogbnVsbCwgaXNDb250cmFjdERlcGxveW1lbnQgPSAoISFwYXlsb2FkLnBhcmFtc1swXSAmJiB0eXBlb2YgcGF5bG9hZC5wYXJhbXNbMF0gPT09ICdvYmplY3QnKSAmJlxuICAgICAgICBwYXlsb2FkLnBhcmFtc1swXS5kYXRhICYmXG4gICAgICAgIHBheWxvYWQucGFyYW1zWzBdLmZyb20gJiZcbiAgICAgICAgIXBheWxvYWQucGFyYW1zWzBdLnRvLCBoYXNCeXRlY29kZSA9IGlzQ29udHJhY3REZXBsb3ltZW50ICYmIHBheWxvYWQucGFyYW1zWzBdLmRhdGEubGVuZ3RoID4gMjtcbiAgICAvLyBhZGQgY3VzdG9tIHNlbmQgTWV0aG9kc1xuICAgIHZhciBfZXRoZXJldW1DYWxscyA9IFtcbiAgICAgICAgbmV3IE1ldGhvZCh7XG4gICAgICAgICAgICBuYW1lOiAnZ2V0QmxvY2tCeU51bWJlcicsXG4gICAgICAgICAgICBjYWxsOiAnZXRoX2dldEJsb2NrQnlOdW1iZXInLFxuICAgICAgICAgICAgcGFyYW1zOiAyLFxuICAgICAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIsIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEhdmFsO1xuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgb3V0cHV0Rm9ybWF0dGVyOiBmb3JtYXR0ZXJzLm91dHB1dEJsb2NrRm9ybWF0dGVyXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgTWV0aG9kKHtcbiAgICAgICAgICAgIG5hbWU6ICdnZXRUcmFuc2FjdGlvblJlY2VpcHQnLFxuICAgICAgICAgICAgY2FsbDogJ2V0aF9nZXRUcmFuc2FjdGlvblJlY2VpcHQnLFxuICAgICAgICAgICAgcGFyYW1zOiAxLFxuICAgICAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtudWxsXSxcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdHRlcjogZm9ybWF0dGVycy5vdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXJcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBNZXRob2Qoe1xuICAgICAgICAgICAgbmFtZTogJ2dldENvZGUnLFxuICAgICAgICAgICAgY2FsbDogJ2V0aF9nZXRDb2RlJyxcbiAgICAgICAgICAgIHBhcmFtczogMixcbiAgICAgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbZm9ybWF0dGVycy5pbnB1dEFkZHJlc3NGb3JtYXR0ZXIsIGZvcm1hdHRlcnMuaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXJdXG4gICAgICAgIH0pLFxuICAgICAgICBuZXcgTWV0aG9kKHtcbiAgICAgICAgICAgIG5hbWU6ICdnZXRUcmFuc2FjdGlvbkJ5SGFzaCcsXG4gICAgICAgICAgICBjYWxsOiAnZXRoX2dldFRyYW5zYWN0aW9uQnlIYXNoJyxcbiAgICAgICAgICAgIHBhcmFtczogMSxcbiAgICAgICAgICAgIGlucHV0Rm9ybWF0dGVyOiBbbnVsbF0sXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IGZvcm1hdHRlcnMub3V0cHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXJcbiAgICAgICAgfSksXG4gICAgICAgIG5ldyBTdWJzY3JpcHRpb25zKHtcbiAgICAgICAgICAgIG5hbWU6ICdzdWJzY3JpYmUnLFxuICAgICAgICAgICAgdHlwZTogJ2V0aCcsXG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgJ25ld0Jsb2NrSGVhZGVycyc6IHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uTmFtZTogJ25ld0hlYWRzJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiAwLFxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRGb3JtYXR0ZXI6IGZvcm1hdHRlcnMub3V0cHV0QmxvY2tGb3JtYXR0ZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgXTtcbiAgICAvLyBhdHRhY2ggbWV0aG9kcyB0byB0aGlzLl9ldGhlcmV1bUNhbGxcbiAgICB2YXIgX2V0aGVyZXVtQ2FsbCA9IHt9O1xuICAgIF9ldGhlcmV1bUNhbGxzLmZvckVhY2gobXRoZCA9PiB7XG4gICAgICAgIG10aGQuYXR0YWNoVG9PYmplY3QoX2V0aGVyZXVtQ2FsbCk7XG4gICAgICAgIG10aGQucmVxdWVzdE1hbmFnZXIgPSBtZXRob2QucmVxdWVzdE1hbmFnZXI7IC8vIGFzc2lnbiByYXRoZXIgdGhhbiBjYWxsIHNldFJlcXVlc3RNYW5hZ2VyKClcbiAgICB9KTtcbiAgICAvLyBmaXJlIFwicmVjZWlwdFwiIGFuZCBjb25maXJtYXRpb24gZXZlbnRzIGFuZCByZXNvbHZlIGFmdGVyXG4gICAgdmFyIGNoZWNrQ29uZmlybWF0aW9uID0gZnVuY3Rpb24gKGV4aXN0aW5nUmVjZWlwdCwgaXNQb2xsaW5nLCBlcnIsIGJsb2NrSGVhZGVyLCBzdWIpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBmYWtlIHVuc3Vic2NyaWJlXG4gICAgICAgICAgICBpZiAoIXN1Yikge1xuICAgICAgICAgICAgICAgIHN1YiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYmxvY2tIZWFkZXJUaW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSB2YWxpZCByZWNlaXB0IHdlIGRvbid0IG5lZWQgdG8gc2VuZCBhIHJlcXVlc3RcbiAgICAgICAgICAgIHJldHVybiAoZXhpc3RpbmdSZWNlaXB0ID8gcHJvbWlFdmVudC5yZXNvbHZlKGV4aXN0aW5nUmVjZWlwdCkgOiBfZXRoZXJldW1DYWxsLmdldFRyYW5zYWN0aW9uUmVjZWlwdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgIC8vIGNhdGNoIGVycm9yIGZyb20gcmVxdWVzdGluZyByZWNlaXB0XG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBwcm9taXNlUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHV0aWxzLl9maXJlRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIGNoZWNrIGZvciB0cmFuc2FjdGlvbiByZWNlaXB0OicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGVyclxuICAgICAgICAgICAgICAgIH0sIGRlZmVyLmV2ZW50RW1pdHRlciwgZGVmZXIucmVqZWN0KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gaWYgQ09ORklSTUFUSU9OIGxpc3RlbmVyIGV4aXN0cyBjaGVjayBmb3IgY29uZmlybWF0aW9ucywgYnkgc2V0dGluZyBjYW5VbnN1YnNjcmliZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHJlY2VpcHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlY2VpcHQgfHwgIXJlY2VpcHQuYmxvY2tIYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVjZWlwdCBtaXNzaW5nIG9yIGJsb2NrSGFzaCBudWxsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGFwcGx5IGV4dHJhIGZvcm1hdHRlcnNcbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmV4dHJhRm9ybWF0dGVycyAmJiBtZXRob2QuZXh0cmFGb3JtYXR0ZXJzLnJlY2VpcHRGb3JtYXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjZWlwdCA9IG1ldGhvZC5leHRyYUZvcm1hdHRlcnMucmVjZWlwdEZvcm1hdHRlcihyZWNlaXB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgY29uZmlybWF0aW9uIGxpc3RlbmVyIGV4aXN0c1xuICAgICAgICAgICAgICAgIGlmIChkZWZlci5ldmVudEVtaXR0ZXIubGlzdGVuZXJzKCdjb25maXJtYXRpb24nKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGFuIGltbWVkaWF0ZWx5IHJldHJpZXZlZCByZWNlaXB0LCBpdCdzIGFscmVhZHlcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVlbiBjb25maXJtZWQgYnkgdGhlIGRpcmVjdCBjYWxsIHRvIGNoZWNrQ29uZmlybWF0aW9uIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgcGFyaXR5IGluc3RhbnQtc2VhbFxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdSZWNlaXB0ID09PSB1bmRlZmluZWQgfHwgY29uZmlybWF0aW9uQ291bnQgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCBsYXRlc3QgYmxvY2sgdG8gZW1pdCB3aXRoIGNvbmZpcm1hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdGVzdEJsb2NrID0gYXdhaXQgX2V0aGVyZXVtQ2FsbC5nZXRCbG9ja0J5TnVtYmVyKCdsYXRlc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRlc3RCbG9ja0hhc2ggPSBsYXRlc3RCbG9jayA/IGxhdGVzdEJsb2NrLmhhc2ggOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUG9sbGluZykgeyAvLyBDaGVjayBpZiBhY3R1YWxseSBhIG5ldyBibG9jayBpcyBleGlzdGluZyBvbiBwb2xsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RCbG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IGF3YWl0IF9ldGhlcmV1bUNhbGwuZ2V0QmxvY2tCeU51bWJlcihsYXN0QmxvY2subnVtYmVyICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEJsb2NrID0gYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5ldmVudEVtaXR0ZXIuZW1pdCgnY29uZmlybWF0aW9uJywgY29uZmlybWF0aW9uQ291bnQsIHJlY2VpcHQsIGxhdGVzdEJsb2NrSGFzaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gYXdhaXQgX2V0aGVyZXVtQ2FsbC5nZXRCbG9ja0J5TnVtYmVyKHJlY2VpcHQuYmxvY2tOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0QmxvY2sgPSBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ2NvbmZpcm1hdGlvbicsIGNvbmZpcm1hdGlvbkNvdW50LCByZWNlaXB0LCBsYXRlc3RCbG9ja0hhc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLmV2ZW50RW1pdHRlci5lbWl0KCdjb25maXJtYXRpb24nLCBjb25maXJtYXRpb25Db3VudCwgcmVjZWlwdCwgbGF0ZXN0QmxvY2tIYXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKGlzUG9sbGluZyAmJiBibG9jaykgfHwgIWlzUG9sbGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybWF0aW9uQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYW5VbnN1YnNjcmliZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybWF0aW9uQ291bnQgPT09IG1ldGhvZC50cmFuc2FjdGlvbkNvbmZpcm1hdGlvbkJsb2NrcyArIDEpIHsgLy8gYWRkIDEgc28gd2UgYWNjb3VudCBmb3IgY29uZiAwXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLmV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWlwdDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gQ0hFQ0sgZm9yIENPTlRSQUNUIERFUExPWU1FTlRcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyBmdW5jdGlvbiAocmVjZWlwdCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0NvbnRyYWN0RGVwbG95bWVudCAmJiAhcHJvbWlzZVJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVjZWlwdC5jb250cmFjdEFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VSZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5fZmlyZUVycm9yKGVycm9ycy5Ob0NvbnRyYWN0QWRkcmVzc0ZvdW5kRXJyb3IocmVjZWlwdCksIGRlZmVyLmV2ZW50RW1pdHRlciwgZGVmZXIucmVqZWN0LCBudWxsLCByZWNlaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgY29kZTtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBhd2FpdCBfZXRoZXJldW1DYWxsLmdldENvZGUocmVjZWlwdC5jb250cmFjdEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBkZXBsb3ltZW50IGlzIHN0YXR1cy50cnVlIGFuZCB0aGVyZSB3YXMgYSByZWFsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5dGVjb2RlIHN0cmluZywgYXNzdW1lIGl0IHdhcyBzdWNjZXNzZnVsLlxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwbG95bWVudFN1Y2Nlc3MgPSByZWNlaXB0LnN0YXR1cyA9PT0gdHJ1ZSAmJiBoYXNCeXRlY29kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGxveW1lbnRTdWNjZXNzIHx8IGNvZGUubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ3JlY2VpcHQnLCByZWNlaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGNvbnRyYWN0LCByZXR1cm4gaW5zdGFuY2UgaW5zdGVhZCBvZiByZWNlaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmV4dHJhRm9ybWF0dGVycyAmJiBtZXRob2QuZXh0cmFGb3JtYXR0ZXJzLmNvbnRyYWN0RGVwbG95Rm9ybWF0dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShtZXRob2QuZXh0cmFGb3JtYXR0ZXJzLmNvbnRyYWN0RGVwbG95Rm9ybWF0dGVyKHJlY2VpcHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlc29sdmUocmVjZWlwdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHJlbW92ZSBsaXN0ZW5lcnMsIGFzIHRoZXkgYXJlbid0IHJlbW92ZWQgYXV0b21hdGljYWxseSB3aGVuIHN1Y2Nlc2Z1bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5VbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLmV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLl9maXJlRXJyb3IoZXJyb3JzLkNvbnRyYWN0Q29kZU5vdFN0b3JlZEVycm9yKHJlY2VpcHQpLCBkZWZlci5ldmVudEVtaXR0ZXIsIGRlZmVyLnJlamVjdCwgbnVsbCwgcmVjZWlwdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhblVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWlwdDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gQ0hFQ0sgZm9yIG5vcm1hbCB0eCBjaGVjayBmb3IgcmVjZWlwdCBvbmx5XG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgZnVuY3Rpb24gKHJlY2VpcHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzQ29udHJhY3REZXBsb3ltZW50ICYmICFwcm9taXNlUmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWNlaXB0Lm91dE9mR2FzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWdhc1Byb3ZpZGVkIHx8IGdhc1Byb3ZpZGVkICE9PSByZWNlaXB0Lmdhc1VzZWQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVjZWlwdC5zdGF0dXMgPT09IHRydWUgfHwgcmVjZWlwdC5zdGF0dXMgPT09ICcweDEnIHx8IHR5cGVvZiByZWNlaXB0LnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5ldmVudEVtaXR0ZXIuZW1pdCgncmVjZWlwdCcsIHJlY2VpcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZWNlaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gcmVtb3ZlIGxpc3RlbmVycywgYXMgdGhleSBhcmVuJ3QgcmVtb3ZlZCBhdXRvbWF0aWNhbGx5IHdoZW4gc3VjY2VzZnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhblVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIuZXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWlwdEpTT04gPSBKU09OLnN0cmluZ2lmeShyZWNlaXB0LCBudWxsLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWNlaXB0LnN0YXR1cyA9PT0gZmFsc2UgfHwgcmVjZWlwdC5zdGF0dXMgPT09ICcweDAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldmVydE1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmhhbmRsZVJldmVydCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1ldGhvZC5jYWxsID09PSAnZXRoX3NlbmRUcmFuc2FjdGlvbicgfHwgbWV0aG9kLmNhbGwgPT09ICdldGhfc2VuZFJhd1RyYW5zYWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eFJlcGxheU9wdGlvbnMgPSBwYXlsb2FkLnBhcmFtc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHNlbmQgd2FzIHJhdywgZmV0Y2ggdGhlIHRyYW5zYWN0aW9uIGFuZCByZWNvbnN0aXR1dGUgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBwYXJhbXMgc28gdGhleSBjYW4gYmUgcmVwbGF5ZWQgd2l0aCBgZXRoX2NhbGxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kLmNhbGwgPT09ICdldGhfc2VuZFJhd1RyYW5zYWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYXdUcmFuc2FjdGlvbkhleCA9IHBheWxvYWQucGFyYW1zWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJzZWRUeCA9IEV0aGVyc1RyYW5zYWN0aW9uVXRpbHMucGFyc2UocmF3VHJhbnNhY3Rpb25IZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4UmVwbGF5T3B0aW9ucyA9IGZvcm1hdHRlcnMuaW5wdXRUcmFuc2FjdGlvbkZvcm1hdHRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcnNlZFR4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBwYXJzZWRUeC50byxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogcGFyc2VkVHguZnJvbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FzOiBwYXJzZWRUeC5nYXNMaW1pdC50b0hleFN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXNQcmljZTogcGFyc2VkVHguZ2FzUHJpY2UudG9IZXhTdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhcnNlZFR4LnZhbHVlLnRvSGV4U3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCByZXZlcnQgcmVhc29uIHN0cmluZyB3aXRoIGV0aF9jYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZlcnRNZXNzYWdlID0gYXdhaXQgbWV0aG9kLmdldFJldmVydFJlYXNvbih0eFJlcGxheU9wdGlvbnMsIHJlY2VpcHQuYmxvY2tOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldmVydE1lc3NhZ2UpIHsgLy8gT25seSB0aHJvdyBhIHJldmVydCBlcnJvciBpZiBhIHJldmVydCByZWFzb24gaXMgZXhpc3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5fZmlyZUVycm9yKGVycm9ycy5UcmFuc2FjdGlvblJldmVydEluc3RydWN0aW9uRXJyb3IocmV2ZXJ0TWVzc2FnZS5yZWFzb24sIHJldmVydE1lc3NhZ2Uuc2lnbmF0dXJlLCByZWNlaXB0KSwgZGVmZXIuZXZlbnRFbWl0dGVyLCBkZWZlci5yZWplY3QsIG51bGwsIHJlY2VpcHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZmFsc2U7IC8vIFRocm93IGZhbHNlIGFuZCBsZXQgdGhlIHRyeS9jYXRjaCBzdGF0ZW1lbnQgaGFuZGxlIHRoZSBlcnJvciBjb3JyZWN0bHkgYWZ0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGZhbHNlOyAvLyBUaHJvdyBmYWxzZSBhbmQgbGV0IHRoZSB0cnkvY2F0Y2ggc3RhdGVtZW50IGhhbmRsZSB0aGUgZXJyb3IgY29ycmVjdGx5IGFmdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRocm93IGFuIG5vcm1hbCByZXZlcnQgZXJyb3IgaWYgbm8gcmV2ZXJ0IHJlYXNvbiBpcyBnaXZlbiBvciB0aGUgZGV0ZWN0aW9uIG9mIGl0IGlzIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLl9maXJlRXJyb3IoZXJyb3JzLlRyYW5zYWN0aW9uUmV2ZXJ0ZWRXaXRob3V0UmVhc29uRXJyb3IocmVjZWlwdCksIGRlZmVyLmV2ZW50RW1pdHRlciwgZGVmZXIucmVqZWN0LCBudWxsLCByZWNlaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaHJvdyBPT0cgaWYgc3RhdHVzIGlzIG5vdCBleGlzdGluZyBhbmQgcHJvdmlkZWQgZ2FzIGFuZCB1c2VkIGdhcyBhcmUgZXF1YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5fZmlyZUVycm9yKGVycm9ycy5UcmFuc2FjdGlvbk91dE9mR2FzRXJyb3IocmVjZWlwdCksIGRlZmVyLmV2ZW50RW1pdHRlciwgZGVmZXIucmVqZWN0LCBudWxsLCByZWNlaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FuVW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VSZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyB0aW1lIG91dCB0aGUgdHJhbnNhY3Rpb24gaWYgbm90IG1pbmVkIGFmdGVyIDUwIGJsb2Nrc1xuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dENvdW50Kys7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgdG8gc2VlIGlmIHdlIGFyZSBodHRwIHBvbGxpbmdcbiAgICAgICAgICAgICAgICBpZiAoISFpc1BvbGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcG9sbGluZyB0aW1lb3V0IGlzIGRpZmZlcmVudCB0aGFuIHRyYW5zYWN0aW9uQmxvY2tUaW1lb3V0IGJsb2NrcyBzaW5jZSB3ZSBhcmUgdHJpZ2dlcmluZyBldmVyeSBzZWNvbmRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVvdXRDb3VudCAtIDEgPj0gbWV0aG9kLnRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLl9maXJlRXJyb3IoZXJyb3JzLlRyYW5zYWN0aW9uRXJyb3IoJ1RyYW5zYWN0aW9uIHdhcyBub3QgbWluZWQgd2l0aGluICcgKyBtZXRob2QudHJhbnNhY3Rpb25Qb2xsaW5nVGltZW91dCArICcgc2Vjb25kcywgcGxlYXNlIG1ha2Ugc3VyZSB5b3VyIHRyYW5zYWN0aW9uIHdhcyBwcm9wZXJseSBzZW50LiBCZSBhd2FyZSB0aGF0IGl0IG1pZ2h0IHN0aWxsIGJlIG1pbmVkIScpLCBkZWZlci5ldmVudEVtaXR0ZXIsIGRlZmVyLnJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0Q291bnQgLSAxID49IG1ldGhvZC50cmFuc2FjdGlvbkJsb2NrVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuX2ZpcmVFcnJvcihlcnJvcnMuVHJhbnNhY3Rpb25FcnJvcignVHJhbnNhY3Rpb24gd2FzIG5vdCBtaW5lZCB3aXRoaW4gJyArIG1ldGhvZC50cmFuc2FjdGlvbkJsb2NrVGltZW91dCArICcgYmxvY2tzLCBwbGVhc2UgbWFrZSBzdXJlIHlvdXIgdHJhbnNhY3Rpb24gd2FzIHByb3Blcmx5IHNlbnQuIEJlIGF3YXJlIHRoYXQgaXQgbWlnaHQgc3RpbGwgYmUgbWluZWQhJyksIGRlZmVyLmV2ZW50RW1pdHRlciwgZGVmZXIucmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBwcm9taXNlUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdXRpbHMuX2ZpcmVFcnJvcih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBzdWJzY3JpYmUgdG8gbmV3IG5ld0Jsb2NrSGVhZGVycyB0byBjb25maXJtIHRoZSB0cmFuc2FjdGlvbiByZWNlaXB0cy4nLFxuICAgICAgICAgICAgICAgIGRhdGE6IGVyclxuICAgICAgICAgICAgfSwgZGVmZXIuZXZlbnRFbWl0dGVyLCBkZWZlci5yZWplY3QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBzdGFydCB3YXRjaGluZyBmb3IgY29uZmlybWF0aW9uIGRlcGVuZGluZyBvbiB0aGUgc3VwcG9ydCBmZWF0dXJlcyBvZiB0aGUgcHJvdmlkZXJcbiAgICB2YXIgc3RhcnRXYXRjaGluZyA9IGZ1bmN0aW9uIChleGlzdGluZ1JlY2VpcHQpIHtcbiAgICAgICAgbGV0IGJsb2NrSGVhZGVyQXJyaXZlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBzdGFydEludGVydmFsID0gKCkgPT4ge1xuICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGNoZWNrQ29uZmlybWF0aW9uLmJpbmQobnVsbCwgZXhpc3RpbmdSZWNlaXB0LCB0cnVlKSwgbWV0aG9kLnRyYW5zYWN0aW9uUG9sbGluZ0ludGVydmFsKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gSWYgcHJvdmlkZXIgZG8gbm90IHN1cHBvcnQgZXZlbnQgc3Vic2NyaXB0aW9uIHVzZSBwb2xsaW5nXG4gICAgICAgIGlmICghdGhpcy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlci5vbikge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0SW50ZXJ2YWwoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gbmV3IGJsb2NrIGhlYWRlcnMgdG8gbG9vayBmb3IgdHggcmVjZWlwdFxuICAgICAgICBfZXRoZXJldW1DYWxsLnN1YnNjcmliZSgnbmV3QmxvY2tIZWFkZXJzJywgZnVuY3Rpb24gKGVyciwgYmxvY2tIZWFkZXIsIHN1Yikge1xuICAgICAgICAgICAgYmxvY2tIZWFkZXJBcnJpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChlcnIgfHwgIWJsb2NrSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIHBvbGxpbmdcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRJbnRlcnZhbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2tDb25maXJtYXRpb24oZXhpc3RpbmdSZWNlaXB0LCBmYWxzZSwgZXJyLCBibG9ja0hlYWRlciwgc3ViKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIHBvbGxpbmcgaWYgdHggcmVjZWlwdCBkaWRuJ3QgYXJyaXZlZCBpbiBcImJsb2NrSGVhZGVyVGltZW91dFwiIFsxMCBzZWNvbmRzXVxuICAgICAgICBibG9ja0hlYWRlclRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFibG9ja0hlYWRlckFycml2ZWQpIHtcbiAgICAgICAgICAgICAgICBzdGFydEludGVydmFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMuYmxvY2tIZWFkZXJUaW1lb3V0ICogMTAwMCk7XG4gICAgfS5iaW5kKHRoaXMpO1xuICAgIC8vIGZpcnN0IGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGNvbmZpcm1lZCB0cmFuc2FjdGlvblxuICAgIF9ldGhlcmV1bUNhbGwuZ2V0VHJhbnNhY3Rpb25SZWNlaXB0KHJlc3VsdClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlY2VpcHQpIHtcbiAgICAgICAgaWYgKHJlY2VpcHQgJiYgcmVjZWlwdC5ibG9ja0hhc2gpIHtcbiAgICAgICAgICAgIGlmIChkZWZlci5ldmVudEVtaXR0ZXIubGlzdGVuZXJzKCdjb25maXJtYXRpb24nKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgbXVzdCBrZWVwIG9uIHdhdGNoaW5nIGZvciBuZXcgQmxvY2tzLCBpZiBhIGNvbmZpcm1hdGlvbiBsaXN0ZW5lciBpcyBwcmVzZW50XG4gICAgICAgICAgICAgICAgc3RhcnRXYXRjaGluZyhyZWNlaXB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoZWNrQ29uZmlybWF0aW9uKHJlY2VpcHQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghcHJvbWlzZVJlc29sdmVkKSB7XG4gICAgICAgICAgICBzdGFydFdhdGNoaW5nKCk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXByb21pc2VSZXNvbHZlZClcbiAgICAgICAgICAgIHN0YXJ0V2F0Y2hpbmcoKTtcbiAgICB9KTtcbn07XG52YXIgZ2V0V2FsbGV0ID0gZnVuY3Rpb24gKGZyb20sIGFjY291bnRzKSB7XG4gICAgdmFyIHdhbGxldCA9IG51bGw7XG4gICAgLy8gaXMgaW5kZXggZ2l2ZW5cbiAgICBpZiAodHlwZW9mIGZyb20gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHdhbGxldCA9IGFjY291bnRzLndhbGxldFtmcm9tXTtcbiAgICAgICAgLy8gaXMgYWNjb3VudCBnaXZlblxuICAgIH1cbiAgICBlbHNlIGlmICghIWZyb20gJiYgdHlwZW9mIGZyb20gPT09ICdvYmplY3QnICYmIGZyb20uYWRkcmVzcyAmJiBmcm9tLnByaXZhdGVLZXkpIHtcbiAgICAgICAgd2FsbGV0ID0gZnJvbTtcbiAgICAgICAgLy8gc2VhcmNoIGluIHdhbGxldCBmb3IgYWRkcmVzc1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgd2FsbGV0ID0gYWNjb3VudHMud2FsbGV0W2Zyb20udG9Mb3dlckNhc2UoKV07XG4gICAgfVxuICAgIHJldHVybiB3YWxsZXQ7XG59O1xuTWV0aG9kLnByb3RvdHlwZS5idWlsZENhbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1ldGhvZCA9IHRoaXMsIGlzU2VuZFR4ID0gKG1ldGhvZC5jYWxsID09PSAnZXRoX3NlbmRUcmFuc2FjdGlvbicgfHwgbWV0aG9kLmNhbGwgPT09ICdldGhfc2VuZFJhd1RyYW5zYWN0aW9uJyksIC8vIHx8IG1ldGhvZC5jYWxsID09PSAncGVyc29uYWxfc2VuZFRyYW5zYWN0aW9uJ1xuICAgIGlzQ2FsbCA9IChtZXRob2QuY2FsbCA9PT0gJ2V0aF9jYWxsJyk7XG4gICAgLy8gYWN0dWFsIHNlbmQgZnVuY3Rpb25cbiAgICB2YXIgc2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVyID0gcHJvbWlFdmVudCghaXNTZW5kVHgpLCBwYXlsb2FkID0gbWV0aG9kLnRvUGF5bG9hZChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICAgICAgLy8gQ0FMTEJBQ0sgZnVuY3Rpb25cbiAgICAgICAgdmFyIHNlbmRUeENhbGxiYWNrID0gZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAobWV0aG9kLmhhbmRsZVJldmVydCAmJiBpc0NhbGwgJiYgbWV0aG9kLmFiaUNvZGVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYXNvbkRhdGE7XG4gICAgICAgICAgICAgICAgLy8gR2FuYWNoZSAvIEdldGggPD0gMS45LjEzIHJldHVybiB0aGUgcmVhc29uIGRhdGEgYXMgYSBzdWNjZXNzZnVsIGV0aF9jYWxsIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgLy8gR2V0aCA+PSAxLjkuMTUgYXR0YWNoZXMgdGhlIHJlYXNvbiBkYXRhIHRvIGFuIGVycm9yIG9iamVjdC5cbiAgICAgICAgICAgICAgICAvLyBHZXRoIDEuOS4xNCBpcyBtaXNzaW5nIHJldmVydCByZWFzb24gKGh0dHBzOi8vZ2l0aHViLmNvbS9ldGhlcmV1bS93ZWIzLmpzL2lzc3Vlcy8zNTIwKVxuICAgICAgICAgICAgICAgIGlmICghZXJyICYmIG1ldGhvZC5pc1JldmVydFJlYXNvblN0cmluZyhyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbkRhdGEgPSByZXN1bHQuc3Vic3RyaW5nKDEwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyICYmIGVyci5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbkRhdGEgPSBlcnIuZGF0YS5zdWJzdHJpbmcoMTApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVhc29uRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gbWV0aG9kLmFiaUNvZGVyLmRlY29kZVBhcmFtZXRlcignc3RyaW5nJywgJzB4JyArIHJlYXNvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2lnbmF0dXJlID0gJ0Vycm9yKFN0cmluZyknO1xuICAgICAgICAgICAgICAgICAgICB1dGlscy5fZmlyZUVycm9yKGVycm9ycy5SZXZlcnRJbnN0cnVjdGlvbkVycm9yKHJlYXNvbiwgc2lnbmF0dXJlKSwgZGVmZXIuZXZlbnRFbWl0dGVyLCBkZWZlci5yZWplY3QsIHBheWxvYWQuY2FsbGJhY2ssIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogcmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBzaWduYXR1cmVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG1ldGhvZC5mb3JtYXRPdXRwdXQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyID0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGVyciA9IHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQuY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5jYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChlcnIuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyID0gZXJyLmVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX2ZpcmVFcnJvcihlcnIsIGRlZmVyLmV2ZW50RW1pdHRlciwgZGVmZXIucmVqZWN0LCBwYXlsb2FkLmNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBQUk9NSVNFXG4gICAgICAgICAgICBpZiAoIWlzU2VuZFR4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gUFJPTUlFVkVOVFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ3RyYW5zYWN0aW9uSGFzaCcsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgbWV0aG9kLl9jb25maXJtVHJhbnNhY3Rpb24oZGVmZXIsIHJlc3VsdCwgcGF5bG9hZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFNFTkRTIHRoZSBTSUdORUQgU0lHTkFUVVJFXG4gICAgICAgIHZhciBzZW5kU2lnbmVkVHggPSBmdW5jdGlvbiAoc2lnbikge1xuICAgICAgICAgICAgdmFyIHNpZ25lZFBheWxvYWQgPSB7IC4uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnZXRoX3NlbmRSYXdUcmFuc2FjdGlvbicsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiBbc2lnbi5yYXdUcmFuc2FjdGlvbl1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtZXRob2QucmVxdWVzdE1hbmFnZXIuc2VuZChzaWduZWRQYXlsb2FkLCBzZW5kVHhDYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIChwYXlsb2FkLCBtZXRob2QpIHtcbiAgICAgICAgICAgIGlmIChtZXRob2QgJiYgbWV0aG9kLmFjY291bnRzICYmIG1ldGhvZC5hY2NvdW50cy53YWxsZXQgJiYgbWV0aG9kLmFjY291bnRzLndhbGxldC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2FsbGV0O1xuICAgICAgICAgICAgICAgIC8vIEVUSF9TRU5EVFJBTlNBQ1RJT05cbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5tZXRob2QgPT09ICdldGhfc2VuZFRyYW5zYWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHggPSBwYXlsb2FkLnBhcmFtc1swXTtcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0ID0gZ2V0V2FsbGV0KCghIXR4ICYmIHR5cGVvZiB0eCA9PT0gJ29iamVjdCcpID8gdHguZnJvbSA6IG51bGwsIG1ldGhvZC5hY2NvdW50cyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdhbGxldCB3YXMgZm91bmQsIHNpZ24gdHgsIGFuZCBzZW5kIHVzaW5nIHNlbmRSYXdUcmFuc2FjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAod2FsbGV0ICYmIHdhbGxldC5wcml2YXRlS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHggPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHR4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdHguZnJvbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QuZGVmYXVsdENoYWluICYmICF0eC5jaGFpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmNoYWluID0gbWV0aG9kLmRlZmF1bHRDaGFpbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QuZGVmYXVsdEhhcmRmb3JrICYmICF0eC5oYXJkZm9yaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmhhcmRmb3JrID0gbWV0aG9kLmRlZmF1bHRIYXJkZm9yaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2QuZGVmYXVsdENvbW1vbiAmJiAhdHguY29tbW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguY29tbW9uID0gbWV0aG9kLmRlZmF1bHRDb21tb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2QuYWNjb3VudHMuc2lnblRyYW5zYWN0aW9uKHR4LCB3YWxsZXQucHJpdmF0ZUtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihzZW5kU2lnbmVkVHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlZmVyLmV2ZW50RW1pdHRlci5saXN0ZW5lcnMgPT09ICdmdW5jdGlvbicgJiYgZGVmZXIuZXZlbnRFbWl0dGVyLmxpc3RlbmVycygnZXJyb3InKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLmV2ZW50RW1pdHRlci5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHVzZXJsYW5kIGVycm9yIHByZXZlbnQgaXQgdG8gYnViYmxlIHVwIHdpdGhpbiB3ZWIzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLmV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIuZXZlbnRFbWl0dGVyLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVyLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gRVRIX1NJR05cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGF5bG9hZC5tZXRob2QgPT09ICdldGhfc2lnbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBwYXlsb2FkLnBhcmFtc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0ID0gZ2V0V2FsbGV0KHBheWxvYWQucGFyYW1zWzBdLCBtZXRob2QuYWNjb3VudHMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3YWxsZXQgd2FzIGZvdW5kLCBzaWduIHR4LCBhbmQgc2VuZCB1c2luZyBzZW5kUmF3VHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHdhbGxldCAmJiB3YWxsZXQucHJpdmF0ZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpZ24gPSBtZXRob2QuYWNjb3VudHMuc2lnbihkYXRhLCB3YWxsZXQucHJpdmF0ZUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5jYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuY2FsbGJhY2sobnVsbCwgc2lnbi5zaWduYXR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShzaWduLnNpZ25hdHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWV0aG9kLnJlcXVlc3RNYW5hZ2VyLnNlbmQocGF5bG9hZCwgc2VuZFR4Q2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgICAgICAvLyBTZW5kIHRoZSBhY3R1YWwgdHJhbnNhY3Rpb25cbiAgICAgICAgaWYgKGlzU2VuZFR4XG4gICAgICAgICAgICAmJiAhIXBheWxvYWQucGFyYW1zWzBdXG4gICAgICAgICAgICAmJiB0eXBlb2YgcGF5bG9hZC5wYXJhbXNbMF0gPT09ICdvYmplY3QnXG4gICAgICAgICAgICAmJiAodHlwZW9mIHBheWxvYWQucGFyYW1zWzBdLmdhc1ByaWNlID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICYmICh0eXBlb2YgcGF5bG9hZC5wYXJhbXNbMF0ubWF4UHJpb3JpdHlGZWVQZXJHYXMgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgIHx8IHR5cGVvZiBwYXlsb2FkLnBhcmFtc1swXS5tYXhGZWVQZXJHYXMgPT09ICd1bmRlZmluZWQnKSkpIHtcbiAgICAgICAgICAgIF9oYW5kbGVUeFByaWNpbmcobWV0aG9kLCBwYXlsb2FkLnBhcmFtc1swXSkudGhlbih0eFByaWNpbmcgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eFByaWNpbmcuZ2FzUHJpY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnBhcmFtc1swXS5nYXNQcmljZSA9IHR4UHJpY2luZy5nYXNQcmljZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHhQcmljaW5nLm1heFByaW9yaXR5RmVlUGVyR2FzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgJiYgdHhQcmljaW5nLm1heEZlZVBlckdhcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQucGFyYW1zWzBdLm1heFByaW9yaXR5RmVlUGVyR2FzID0gdHhQcmljaW5nLm1heFByaW9yaXR5RmVlUGVyR2FzO1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnBhcmFtc1swXS5tYXhGZWVQZXJHYXMgPSB0eFByaWNpbmcubWF4RmVlUGVyR2FzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNTZW5kVHgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlci5ldmVudEVtaXR0ZXIuZW1pdCgnc2VuZGluZycsIHBheWxvYWQpO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VuZFJlcXVlc3QocGF5bG9hZCwgbWV0aG9kKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzU2VuZFR4KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVyLmV2ZW50RW1pdHRlci5lbWl0KCdzZW5kaW5nJywgcGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZW5kUmVxdWVzdChwYXlsb2FkLCBtZXRob2QpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NlbmRUeCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGVmZXIuZXZlbnRFbWl0dGVyLmVtaXQoJ3NlbnQnLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlci5ldmVudEVtaXR0ZXI7XG4gICAgfTtcbiAgICAvLyBuZWNlc3NhcnkgdG8gYXR0YWNoIHRoaW5ncyB0byB0aGUgbWV0aG9kXG4gICAgc2VuZC5tZXRob2QgPSBtZXRob2Q7XG4gICAgLy8gbmVjZXNzYXJ5IGZvciBiYXRjaCByZXF1ZXN0c1xuICAgIHNlbmQucmVxdWVzdCA9IHRoaXMucmVxdWVzdC5iaW5kKHRoaXMpO1xuICAgIHJldHVybiBzZW5kO1xufTtcbmZ1bmN0aW9uIF9oYW5kbGVUeFByaWNpbmcobWV0aG9kLCB0eCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgZ2V0QmxvY2tCeU51bWJlciA9IChuZXcgTWV0aG9kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnZ2V0QmxvY2tCeU51bWJlcicsXG4gICAgICAgICAgICAgICAgY2FsbDogJ2V0aF9nZXRCbG9ja0J5TnVtYmVyJyxcbiAgICAgICAgICAgICAgICBwYXJhbXM6IDIsXG4gICAgICAgICAgICAgICAgaW5wdXRGb3JtYXR0ZXI6IFtmdW5jdGlvbiAoYmxvY2tOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9ja051bWJlciA/IHV0aWxzLnRvSGV4KGJsb2NrTnVtYmVyKSA6ICdsYXRlc3QnO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9KSkuY3JlYXRlRnVuY3Rpb24obWV0aG9kLnJlcXVlc3RNYW5hZ2VyKTtcbiAgICAgICAgICAgIHZhciBnZXRHYXNQcmljZSA9IChuZXcgTWV0aG9kKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnZ2V0R2FzUHJpY2UnLFxuICAgICAgICAgICAgICAgIGNhbGw6ICdldGhfZ2FzUHJpY2UnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogMFxuICAgICAgICAgICAgfSkpLmNyZWF0ZUZ1bmN0aW9uKG1ldGhvZC5yZXF1ZXN0TWFuYWdlcik7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgZ2V0QmxvY2tCeU51bWJlcigpLFxuICAgICAgICAgICAgICAgIGdldEdhc1ByaWNlKClcbiAgICAgICAgICAgIF0pLnRoZW4ocmVzcG9uc2VzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbYmxvY2ssIGdhc1ByaWNlXSA9IHJlc3BvbnNlcztcbiAgICAgICAgICAgICAgICBpZiAoKHR4LnR5cGUgPT09ICcweDInIHx8IHR4LnR5cGUgPT09IHVuZGVmaW5lZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGJsb2NrICYmIGJsb2NrLmJhc2VGZWVQZXJHYXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBuZXR3b3JrIHN1cHBvcnRzIEVJUC0xNTU5XG4gICAgICAgICAgICAgICAgICAgIC8vIFRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2V0aGVycy1pby9ldGhlcnMuanMvYmxvYi9iYTY4NTRiZGQ1YTkxMmZlODczZDVkYTQ5NGNiNWM2MmMxOTBhZGRlL3BhY2thZ2VzL2Fic3RyYWN0LXByb3ZpZGVyL3NyYy50cy9pbmRleC50cyNMMjMwXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHguZ2FzUHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIGxlZ2FjeSBnYXNQcmljZSBwcm9wZXJ0eSBvbiBhbiBlaXAtMTU1OSBuZXR3b3JrLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gdXNlIGdhc1ByaWNlIGFzIGJvdGggZmVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzID0gdHguZ2FzUHJpY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGZWVQZXJHYXMgPSB0eC5nYXNQcmljZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0eC5nYXNQcmljZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzID0gdHgubWF4UHJpb3JpdHlGZWVQZXJHYXMgfHwgJzB4OTUwMkY5MDAnOyAvLyAyLjUgR3dlaVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzID0gdHgubWF4RmVlUGVyR2FzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMudG9IZXgodXRpbHMudG9CTihibG9jay5iYXNlRmVlUGVyR2FzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubXVsKHV0aWxzLnRvQk4oMikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGQodXRpbHMudG9CTihtYXhQcmlvcml0eUZlZVBlckdhcykpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgbWF4RmVlUGVyR2FzLCBtYXhQcmlvcml0eUZlZVBlckdhcyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eC5tYXhQcmlvcml0eUZlZVBlckdhcyB8fCB0eC5tYXhGZWVQZXJHYXMpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIk5ldHdvcmsgZG9lc24ndCBzdXBwb3J0IGVpcC0xNTU5XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgZ2FzUHJpY2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHJldmVydCByZWFzb24gc3RyaW5nIGlmIGV4aXN0aW5nIG9yIG90aGVyd2lzZSBmYWxzZS5cbiAqXG4gKiBAbWV0aG9kIGdldFJldmVydFJlYXNvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eE9wdGlvbnNcbiAqIEBwYXJhbSB7TnVtYmVyfSBibG9ja051bWJlclxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlPEJvb2xlYW58U3RyaW5nPn1cbiAqL1xuTWV0aG9kLnByb3RvdHlwZS5nZXRSZXZlcnRSZWFzb24gPSBmdW5jdGlvbiAodHhPcHRpb25zLCBibG9ja051bWJlcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAobmV3IE1ldGhvZCh7XG4gICAgICAgICAgICBuYW1lOiAnY2FsbCcsXG4gICAgICAgICAgICBjYWxsOiAnZXRoX2NhbGwnLFxuICAgICAgICAgICAgcGFyYW1zOiAyLFxuICAgICAgICAgICAgYWJpQ29kZXI6IHNlbGYuYWJpQ29kZXIsXG4gICAgICAgICAgICBoYW5kbGVSZXZlcnQ6IHRydWVcbiAgICAgICAgfSkpXG4gICAgICAgICAgICAuY3JlYXRlRnVuY3Rpb24oc2VsZi5yZXF1ZXN0TWFuYWdlcikodHhPcHRpb25zLCB1dGlscy5udW1iZXJUb0hleChibG9ja051bWJlcikpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5yZWFzb24pIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBlcnJvci5yZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogZXJyb3Iuc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gaGV4IHN0cmluZyBpcyBhIHJldmVydCBtZXNzYWdlIGZyb20gdGhlIEVWTVxuICpcbiAqIEBtZXRob2QgaXNSZXZlcnRSZWFzb25TdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YSAtIEhleCBzdHJpbmcgcHJlZml4ZWQgd2l0aCAweFxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5NZXRob2QucHJvdG90eXBlLmlzUmV2ZXJ0UmVhc29uU3RyaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmICgoZGF0YS5sZW5ndGggLSAyKSAvIDIpICUgMzIgPT09IDQgJiYgZGF0YS5zdWJzdHJpbmcoMCwgMTApID09PSAnMHgwOGMzNzlhMCc7XG59O1xuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIGNyZWF0ZSB0aGUgcHVyZSBKU09OUlBDIHJlcXVlc3Qgd2hpY2ggY2FuIGJlIHVzZWQgaW4gYSBiYXRjaCByZXF1ZXN0XG4gKlxuICogQG1ldGhvZCByZXF1ZXN0XG4gKiBAcmV0dXJuIHtPYmplY3R9IGpzb25ycGMgcmVxdWVzdFxuICovXG5NZXRob2QucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBheWxvYWQgPSB0aGlzLnRvUGF5bG9hZChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICBwYXlsb2FkLmZvcm1hdCA9IHRoaXMuZm9ybWF0T3V0cHV0LmJpbmQodGhpcyk7XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59O1xubW9kdWxlLmV4cG9ydHMgPSBNZXRob2Q7XG4iLCIvKlxuIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbi8qKlxuICogQGZpbGUgaW5kZXguanNcbiAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGVyZXVtLm9yZz5cbiAqIEBkYXRlIDIwMTZcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGdlbmVyYXRlcyBhIGRlZmVyIHByb21pc2UgYW5kIGFkZHMgZXZlbnRFbWl0dGVyIGZ1bmN0aW9uYWxpdHkgdG8gaXRcbiAqXG4gKiBAbWV0aG9kIGV2ZW50aWZpZWRQcm9taXNlXG4gKi9cbnZhciBQcm9taUV2ZW50ID0gZnVuY3Rpb24gUHJvbWlFdmVudChqdXN0UHJvbWlzZSkge1xuICAgIHZhciByZXNvbHZlLCByZWplY3QsIGV2ZW50RW1pdHRlciA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzb2x2ZSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgcmVqZWN0ID0gYXJndW1lbnRzWzFdO1xuICAgIH0pO1xuICAgIGlmIChqdXN0UHJvbWlzZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgICAgICAgZXZlbnRFbWl0dGVyOiBldmVudEVtaXR0ZXJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gZ2V0IGV2ZW50RW1pdHRlclxuICAgIHZhciBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIC8vIGFkZCBldmVudEVtaXR0ZXIgdG8gdGhlIHByb21pc2VcbiAgICBldmVudEVtaXR0ZXIuX2V2ZW50cyA9IGVtaXR0ZXIuX2V2ZW50cztcbiAgICBldmVudEVtaXR0ZXIuZW1pdCA9IGVtaXR0ZXIuZW1pdDtcbiAgICBldmVudEVtaXR0ZXIub24gPSBlbWl0dGVyLm9uO1xuICAgIGV2ZW50RW1pdHRlci5vbmNlID0gZW1pdHRlci5vbmNlO1xuICAgIGV2ZW50RW1pdHRlci5vZmYgPSBlbWl0dGVyLm9mZjtcbiAgICBldmVudEVtaXR0ZXIubGlzdGVuZXJzID0gZW1pdHRlci5saXN0ZW5lcnM7XG4gICAgZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyID0gZW1pdHRlci5hZGRMaXN0ZW5lcjtcbiAgICBldmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPSBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyO1xuICAgIGV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBlbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycztcbiAgICByZXR1cm4ge1xuICAgICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgICByZWplY3Q6IHJlamVjdCxcbiAgICAgICAgZXZlbnRFbWl0dGVyOiBldmVudEVtaXR0ZXJcbiAgICB9O1xufTtcblByb21pRXZlbnQucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gUHJvbWlFdmVudCh0cnVlKTtcbiAgICBwcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICAgIHJldHVybiBwcm9taXNlLmV2ZW50RW1pdHRlcjtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IFByb21pRXZlbnQ7XG4iLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqXG4gKiBAZmlsZSBiYXRjaC5qc1xuICogQGF1dGhvciBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgSnNvbnJwYyA9IHJlcXVpcmUoJy4vanNvbnJwYycpO1xudmFyIGVycm9ycyA9IHJlcXVpcmUoJ3dlYjMtY29yZS1oZWxwZXJzJykuZXJyb3JzO1xudmFyIEJhdGNoID0gZnVuY3Rpb24gKHJlcXVlc3RNYW5hZ2VyKSB7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IHJlcXVlc3RNYW5hZ2VyO1xuICAgIHRoaXMucmVxdWVzdHMgPSBbXTtcbn07XG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gYWRkIGNyZWF0ZSBuZXcgcmVxdWVzdCB0byBiYXRjaCByZXF1ZXN0XG4gKlxuICogQG1ldGhvZCBhZGRcbiAqIEBwYXJhbSB7T2JqZWN0fSBqc29ucnBjIHJlcXVldCBvYmplY3RcbiAqL1xuQmF0Y2gucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgdGhpcy5yZXF1ZXN0cy5wdXNoKHJlcXVlc3QpO1xufTtcbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBleGVjdXRlIGJhdGNoIHJlcXVlc3RcbiAqXG4gKiBAbWV0aG9kIGV4ZWN1dGVcbiAqL1xuQmF0Y2gucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlcXVlc3RzID0gdGhpcy5yZXF1ZXN0cztcbiAgICB2YXIgc29ydFJlc3BvbnNlcyA9IHRoaXMuX3NvcnRSZXNwb25zZXMuYmluZCh0aGlzKTtcbiAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyLnNlbmRCYXRjaChyZXF1ZXN0cywgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgICAgICByZXN1bHRzID0gc29ydFJlc3BvbnNlcyhyZXN1bHRzKTtcbiAgICAgICAgcmVxdWVzdHMubWFwKGZ1bmN0aW9uIChyZXF1ZXN0LCBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHNbaW5kZXhdIHx8IHt9O1xuICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQsIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdHNbaW5kZXhdLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RzW2luZGV4XS5jYWxsYmFjayhlcnJvcnMuRXJyb3JSZXNwb25zZShyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFKc29ucnBjLmlzVmFsaWRSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0c1tpbmRleF0uY2FsbGJhY2soZXJyb3JzLkludmFsaWRSZXNwb25zZShyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHNbaW5kZXhdLmNhbGxiYWNrKG51bGwsIHJlcXVlc3RzW2luZGV4XS5mb3JtYXQgPyByZXF1ZXN0c1tpbmRleF0uZm9ybWF0KHJlc3VsdC5yZXN1bHQpIDogcmVzdWx0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHNbaW5kZXhdLmNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG4vLyBTb3J0IHJlc3BvbnNlc1xuQmF0Y2gucHJvdG90eXBlLl9zb3J0UmVzcG9uc2VzID0gZnVuY3Rpb24gKHJlc3BvbnNlcykge1xuICAgIHJldHVybiAocmVzcG9uc2VzIHx8IFtdKS5zb3J0KChhLCBiKSA9PiBhLmlkIC0gYi5pZCk7XG59O1xubW9kdWxlLmV4cG9ydHMgPSBCYXRjaDtcbiIsIi8qXG4gVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuLyoqXG4gKiBAZmlsZSBnaXZlblByb3ZpZGVyLmpzXG4gKiBAYXV0aG9yIEZhYmlhbiBWb2dlbHN0ZWxsZXIgPGZhYmlhbkBldGhlcmV1bS5vcmc+XG4gKiBAZGF0ZSAyMDE3XG4gKi9cblwidXNlIHN0cmljdFwiO1xudmFyIGdpdmVuUHJvdmlkZXIgPSBudWxsO1xuLy8gQUREIEdJVkVOIFBST1ZJREVSXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgZ2xvYmFsO1xudHJ5IHtcbiAgICBnbG9iYWwgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufVxuY2F0Y2ggKGUpIHtcbiAgICBnbG9iYWwgPSB3aW5kb3c7XG59XG4vLyBFSVAtMTE5Mzogd2luZG93LmV0aGVyZXVtXG5pZiAodHlwZW9mIGdsb2JhbC5ldGhlcmV1bSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnaXZlblByb3ZpZGVyID0gZ2xvYmFsLmV0aGVyZXVtO1xuICAgIC8vIExlZ2FjeSB3ZWIzLmN1cnJlbnRQcm92aWRlclxufVxuZWxzZSBpZiAodHlwZW9mIGdsb2JhbC53ZWIzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwud2ViMy5jdXJyZW50UHJvdmlkZXIpIHtcbiAgICBpZiAoZ2xvYmFsLndlYjMuY3VycmVudFByb3ZpZGVyLnNlbmRBc3luYykge1xuICAgICAgICBnbG9iYWwud2ViMy5jdXJyZW50UHJvdmlkZXIuc2VuZCA9IGdsb2JhbC53ZWIzLmN1cnJlbnRQcm92aWRlci5zZW5kQXN5bmM7XG4gICAgICAgIGRlbGV0ZSBnbG9iYWwud2ViMy5jdXJyZW50UHJvdmlkZXIuc2VuZEFzeW5jO1xuICAgIH1cbiAgICAvLyBpZiBjb25uZWN0aW9uIGlzICdpcGNQcm92aWRlcldyYXBwZXInLCBhZGQgc3Vic2NyaXB0aW9uIHN1cHBvcnRcbiAgICBpZiAoIWdsb2JhbC53ZWIzLmN1cnJlbnRQcm92aWRlci5vbiAmJlxuICAgICAgICBnbG9iYWwud2ViMy5jdXJyZW50UHJvdmlkZXIuY29ubmVjdGlvbiAmJlxuICAgICAgICBnbG9iYWwud2ViMy5jdXJyZW50UHJvdmlkZXIuY29ubmVjdGlvbi5jb25zdHJ1Y3Rvci5uYW1lID09PSAnaXBjUHJvdmlkZXJXcmFwcGVyJykge1xuICAgICAgICBnbG9iYWwud2ViMy5jdXJyZW50UHJvdmlkZXIub24gPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2Vjb25kIHBhcmFtZXRlciBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdkYXRhJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLm9uKCdkYXRhJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgcGFyc2UgcmVzcG9uc2UgZGF0YScgKyBkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3RpZmljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmlkICYmIHJlc3VsdC5tZXRob2QuaW5kZXhPZignX3N1YnNjcmlwdGlvbicpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24ub24odHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2l2ZW5Qcm92aWRlciA9IGdsb2JhbC53ZWIzLmN1cnJlbnRQcm92aWRlcjtcbn1cbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5tb2R1bGUuZXhwb3J0cyA9IGdpdmVuUHJvdmlkZXI7XG4iLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqXG4gKiBAZmlsZSBpbmRleC5qc1xuICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZXJldW0ub3JnPlxuICogQGRhdGUgMjAxN1xuICovXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IHsgY2FsbGJhY2tpZnkgfSA9IHJlcXVpcmUoJ3V0aWwnKTtcbnZhciBlcnJvcnMgPSByZXF1aXJlKCd3ZWIzLWNvcmUtaGVscGVycycpLmVycm9ycztcbnZhciBKc29ucnBjID0gcmVxdWlyZSgnLi9qc29ucnBjLmpzJyk7XG52YXIgQmF0Y2hNYW5hZ2VyID0gcmVxdWlyZSgnLi9iYXRjaC5qcycpO1xudmFyIGdpdmVuUHJvdmlkZXIgPSByZXF1aXJlKCcuL2dpdmVuUHJvdmlkZXIuanMnKTtcbi8qKlxuICogSXQncyByZXNwb25zaWJsZSBmb3IgcGFzc2luZyBtZXNzYWdlcyB0byBwcm92aWRlcnNcbiAqIEl0J3MgYWxzbyByZXNwb25zaWJsZSBmb3IgcG9sbGluZyB0aGUgZXRoZXJldW0gbm9kZSBmb3IgaW5jb21pbmcgbWVzc2FnZXNcbiAqIERlZmF1bHQgcG9sbCB0aW1lb3V0IGlzIDEgc2Vjb25kXG4gKiBTaW5nbGV0b25cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9cHJvdmlkZXJcbiAqIEBwYXJhbSB7TmV0LlNvY2tldH0gbmV0XG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBSZXF1ZXN0TWFuYWdlciA9IGZ1bmN0aW9uIFJlcXVlc3RNYW5hZ2VyKHByb3ZpZGVyLCBuZXQpIHtcbiAgICB0aGlzLnByb3ZpZGVyID0gbnVsbDtcbiAgICB0aGlzLnByb3ZpZGVycyA9IFJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVycztcbiAgICB0aGlzLnNldFByb3ZpZGVyKHByb3ZpZGVyLCBuZXQpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IG5ldyBNYXAoKTtcbn07XG5SZXF1ZXN0TWFuYWdlci5naXZlblByb3ZpZGVyID0gZ2l2ZW5Qcm92aWRlcjtcblJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVycyA9IHtcbiAgICBXZWJzb2NrZXRQcm92aWRlcjogcmVxdWlyZSgnd2ViMy1wcm92aWRlcnMtd3MnKSxcbiAgICBIdHRwUHJvdmlkZXI6IHJlcXVpcmUoJ3dlYjMtcHJvdmlkZXJzLWh0dHAnKSxcbiAgICBJcGNQcm92aWRlcjogcmVxdWlyZSgnd2ViMy1wcm92aWRlcnMtaXBjJylcbn07XG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIHNldCBwcm92aWRlciBvZiByZXF1ZXN0IG1hbmFnZXJcbiAqXG4gKiBAbWV0aG9kIHNldFByb3ZpZGVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3ZpZGVyXG4gKiBAcGFyYW0ge25ldC5Tb2NrZXR9IG5ldFxuICpcbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuUmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLnNldFByb3ZpZGVyID0gZnVuY3Rpb24gKHByb3ZpZGVyLCBuZXQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIC8vIGF1dG9kZXRlY3QgcHJvdmlkZXJcbiAgICBpZiAocHJvdmlkZXIgJiYgdHlwZW9mIHByb3ZpZGVyID09PSAnc3RyaW5nJyAmJiB0aGlzLnByb3ZpZGVycykge1xuICAgICAgICAvLyBIVFRQXG4gICAgICAgIGlmICgvXmh0dHAocyk/OlxcL1xcLy9pLnRlc3QocHJvdmlkZXIpKSB7XG4gICAgICAgICAgICBwcm92aWRlciA9IG5ldyB0aGlzLnByb3ZpZGVycy5IdHRwUHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgICAgICAgLy8gV1NcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgvXndzKHMpPzpcXC9cXC8vaS50ZXN0KHByb3ZpZGVyKSkge1xuICAgICAgICAgICAgcHJvdmlkZXIgPSBuZXcgdGhpcy5wcm92aWRlcnMuV2Vic29ja2V0UHJvdmlkZXIocHJvdmlkZXIpO1xuICAgICAgICAgICAgLy8gSVBDXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvdmlkZXIgJiYgdHlwZW9mIG5ldCA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG5ldC5jb25uZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBwcm92aWRlciA9IG5ldyB0aGlzLnByb3ZpZGVycy5JcGNQcm92aWRlcihwcm92aWRlciwgbmV0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IGF1dG9kZXRlY3QgcHJvdmlkZXIgZm9yIFwiJyArIHByb3ZpZGVyICsgJ1wiJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gcmVzZXQgdGhlIG9sZCBvbmUgYmVmb3JlIGNoYW5naW5nLCBpZiBzdGlsbCBjb25uZWN0ZWRcbiAgICBpZiAodGhpcy5wcm92aWRlciAmJiB0aGlzLnByb3ZpZGVyLmNvbm5lY3RlZClcbiAgICAgICAgdGhpcy5jbGVhclN1YnNjcmlwdGlvbnMoKTtcbiAgICB0aGlzLnByb3ZpZGVyID0gcHJvdmlkZXIgfHwgbnVsbDtcbiAgICAvLyBsaXN0ZW4gdG8gaW5jb21pbmcgbm90aWZpY2F0aW9uc1xuICAgIGlmICh0aGlzLnByb3ZpZGVyICYmIHRoaXMucHJvdmlkZXIub24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm92aWRlci5yZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7IC8vIEVJUC0xMTkzIHByb3ZpZGVyXG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVyLm9uKCdtZXNzYWdlJywgZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLnR5cGUgPT09ICdldGhfc3Vic2NyaXB0aW9uJyAmJiBwYXlsb2FkLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBheWxvYWQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3Vic2NyaXB0aW9uICYmIF90aGlzLnN1YnNjcmlwdGlvbnMuaGFzKGRhdGEuc3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZGF0YS5zdWJzY3JpcHRpb24pLmNhbGxiYWNrKG51bGwsIGRhdGEucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBsZWdhY3kgcHJvdmlkZXIgc3Vic2NyaXB0aW9uIGV2ZW50XG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVyLm9uKCdkYXRhJywgZnVuY3Rpb24gZGF0YShyZXN1bHQsIGRlcHJlY2F0ZWRSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgfHwgZGVwcmVjYXRlZFJlc3VsdDsgLy8gdGhpcyBpcyBmb3IgcG9zc2libGUgb2xkIHByb3ZpZGVycywgd2hpY2ggbWF5IGhhZCB0aGUgZXJyb3IgZmlyc3QgaGFuZGxlclxuICAgICAgICAgICAgICAgIC8vIGlmIHJlc3VsdCBpcyBhIHN1YnNjcmlwdGlvbiwgY2FsbCBjYWxsYmFjayBmb3IgdGhhdCBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm1ldGhvZCAmJiByZXN1bHQucGFyYW1zICYmIHJlc3VsdC5wYXJhbXMuc3Vic2NyaXB0aW9uICYmIF90aGlzLnN1YnNjcmlwdGlvbnMuaGFzKHJlc3VsdC5wYXJhbXMuc3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25zLmdldChyZXN1bHQucGFyYW1zLnN1YnNjcmlwdGlvbikuY2FsbGJhY2sobnVsbCwgcmVzdWx0LnBhcmFtcy5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlc3Vic2NyaWJlIGlmIHRoZSBwcm92aWRlciBoYXMgcmVjb25uZWN0ZWRcbiAgICAgICAgdGhpcy5wcm92aWRlci5vbignY29ubmVjdCcsIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb24ucmVzdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gbm90aWZ5IGFsbCBzdWJzY3JpcHRpb25zIGFib3V0IHRoZSBlcnJvciBjb25kaXRpb25cbiAgICAgICAgdGhpcy5wcm92aWRlci5vbignZXJyb3InLCBmdW5jdGlvbiBlcnJvcihlcnJvcikge1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24uY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBub3RpZnkgYWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgYmFkIGNsb3NlIGNvbmRpdGlvbnNcbiAgICAgICAgY29uc3QgZGlzY29ubmVjdCA9IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX2lzQ2xlYW5DbG9zZUV2ZW50KGV2ZW50KSB8fCBfdGhpcy5faXNJcGNDbG9zZUVycm9yKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5jYWxsYmFjayhlcnJvcnMuQ29ubmVjdGlvbkNsb3NlRXJyb3IoZXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoc3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbi5pZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnByb3ZpZGVyICYmIF90aGlzLnByb3ZpZGVyLmVtaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucHJvdmlkZXIuZW1pdCgnZXJyb3InLCBlcnJvcnMuQ29ubmVjdGlvbkNsb3NlRXJyb3IoZXZlbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMucHJvdmlkZXIgJiYgX3RoaXMucHJvdmlkZXIuZW1pdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3ZpZGVyLmVtaXQoJ2VuZCcsIGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIGNsb3NlIG9uY2UgdGhlIHN0YW5kYXJkIGFsbG93cyBpdFxuICAgICAgICB0aGlzLnByb3ZpZGVyLm9uKCdjbG9zZScsIGRpc2Nvbm5lY3QpO1xuICAgICAgICB0aGlzLnByb3ZpZGVyLm9uKCdkaXNjb25uZWN0JywgZGlzY29ubmVjdCk7XG4gICAgICAgIC8vIFRPRE8gYWRkIGVuZCwgdGltZW91dD8/XG4gICAgfVxufTtcbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2VuZCByZXF1ZXN0IHRvIHByb3ZpZGVyLlxuICogUHJlZmVycyB0byB1c2UgdGhlIGByZXF1ZXN0YCBtZXRob2QgYXZhaWxhYmxlIG9uIHRoZSBwcm92aWRlciBhcyBzcGVjaWZpZWQgaW4gW0VJUC0xMTkzXShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTExOTMpLlxuICogSWYgYHJlcXVlc3RgIGlzIG5vdCBhdmFpbGFibGUsIGZhbGxzIGJhY2sgdG8gYHNlbmRBc3luY2AgYW5kIGBzZW5kYCByZXNwZWN0aXZlbHkuXG4gKiBAbWV0aG9kIHNlbmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5SZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhLCBjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkgeyB9O1xuICAgIGlmICghdGhpcy5wcm92aWRlcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyb3JzLkludmFsaWRQcm92aWRlcigpKTtcbiAgICB9XG4gICAgY29uc3QgeyBtZXRob2QsIHBhcmFtcyB9ID0gZGF0YTtcbiAgICBjb25zdCBqc29ucnBjUGF5bG9hZCA9IEpzb25ycGMudG9QYXlsb2FkKG1ldGhvZCwgcGFyYW1zKTtcbiAgICBjb25zdCBqc29ucnBjUmVzdWx0Q2FsbGJhY2sgPSB0aGlzLl9qc29ucnBjUmVzdWx0Q2FsbGJhY2soY2FsbGJhY2ssIGpzb25ycGNQYXlsb2FkKTtcbiAgICBpZiAodGhpcy5wcm92aWRlci5yZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrUmVxdWVzdCA9IGNhbGxiYWNraWZ5KHRoaXMucHJvdmlkZXIucmVxdWVzdC5iaW5kKHRoaXMucHJvdmlkZXIpKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdEFyZ3MgPSB7IG1ldGhvZCwgcGFyYW1zIH07XG4gICAgICAgIGNhbGxiYWNrUmVxdWVzdChyZXF1ZXN0QXJncywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnByb3ZpZGVyLnNlbmRBc3luYykge1xuICAgICAgICB0aGlzLnByb3ZpZGVyLnNlbmRBc3luYyhqc29ucnBjUGF5bG9hZCwganNvbnJwY1Jlc3VsdENhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5wcm92aWRlci5zZW5kKSB7XG4gICAgICAgIHRoaXMucHJvdmlkZXIuc2VuZChqc29ucnBjUGF5bG9hZCwganNvbnJwY1Jlc3VsdENhbGxiYWNrKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZXIgZG9lcyBub3QgaGF2ZSBhIHJlcXVlc3Qgb3Igc2VuZCBtZXRob2QgdG8gdXNlLicpO1xuICAgIH1cbn07XG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNlbmQgYmF0Y2ggcmVxdWVzdC5cbiAqIE9ubHkgd29ya3MgaWYgcHJvdmlkZXIgc3VwcG9ydHMgYmF0Y2ggbWV0aG9kcyB0aHJvdWdoIGBzZW5kQXN5bmNgIG9yIGBzZW5kYC5cbiAqIEBtZXRob2Qgc2VuZEJhdGNoXG4gKiBAcGFyYW0ge0FycmF5fSBkYXRhIC0gYXJyYXkgb2YgcGF5bG9hZCBvYmplY3RzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5SZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUuc2VuZEJhdGNoID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0aGlzLnByb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcnMuSW52YWxpZFByb3ZpZGVyKCkpO1xuICAgIH1cbiAgICB2YXIgcGF5bG9hZCA9IEpzb25ycGMudG9CYXRjaFBheWxvYWQoZGF0YSk7XG4gICAgdGhpcy5wcm92aWRlclt0aGlzLnByb3ZpZGVyLnNlbmRBc3luYyA/ICdzZW5kQXN5bmMnIDogJ3NlbmQnXShwYXlsb2FkLCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycm9ycy5JbnZhbGlkUmVzcG9uc2UocmVzdWx0cykpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICAgIH0pO1xufTtcbi8qKlxuICogV2FpdHMgZm9yIG5vdGlmaWNhdGlvbnNcbiAqXG4gKiBAbWV0aG9kIGFkZFN1YnNjcmlwdGlvblxuICogQHBhcmFtIHtTdWJzY3JpcHRpb259IHN1YnNjcmlwdGlvbiAgICAgICAgIHRoZSBzdWJzY3JpcHRpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlICAgICAgICAgdGhlIHN1YnNjcmlwdGlvbiBuYW1lc3BhY2UgKGV0aCwgcGVyc29uYWwsIGV0YylcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrICAgdGhlIGNhbGxiYWNrIHRvIGNhbGwgZm9yIGluY29taW5nIG5vdGlmaWNhdGlvbnNcbiAqL1xuUmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLmFkZFN1YnNjcmlwdGlvbiA9IGZ1bmN0aW9uIChzdWJzY3JpcHRpb24sIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMucHJvdmlkZXIub24pIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnNldChzdWJzY3JpcHRpb24uaWQsIHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvdmlkZXIgZG9lc25cXCd0IHN1cHBvcnQgc3Vic2NyaXB0aW9uczogJyArIHRoaXMucHJvdmlkZXIuY29uc3RydWN0b3IubmFtZSk7XG4gICAgfVxufTtcbi8qKlxuICogV2FpdHMgZm9yIG5vdGlmaWNhdGlvbnNcbiAqXG4gKiBAbWV0aG9kIHJlbW92ZVN1YnNjcmlwdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGlkICAgICAgICAgICB0aGUgc3Vic2NyaXB0aW9uIGlkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAgIGZpcmVkIG9uY2UgdGhlIHN1YnNjcmlwdGlvbiBpcyByZW1vdmVkXG4gKi9cblJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoaWQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucy5oYXMoaWQpKSB7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy5zdWJzY3JpcHRpb25zLmdldChpZCkuc3Vic2NyaXB0aW9uLm9wdGlvbnMudHlwZTtcbiAgICAgICAgLy8gcmVtb3ZlIHN1YnNjcmlwdGlvbiBmaXJzdCB0byBhdm9pZCByZWVudHJ5XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoaWQpO1xuICAgICAgICAvLyB0aGVuLCB0cnkgdG8gYWN0dWFsbHkgdW5zdWJzY3JpYmVcbiAgICAgICAgdGhpcy5zZW5kKHtcbiAgICAgICAgICAgIG1ldGhvZDogdHlwZSArICdfdW5zdWJzY3JpYmUnLFxuICAgICAgICAgICAgcGFyYW1zOiBbaWRdXG4gICAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIGlmIHRoZSBzdWJzY3JpcHRpb24gd2FzIGFscmVhZHkgcmVtb3ZlZFxuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICB9XG59O1xuLyoqXG4gKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlc2V0IHRoZSBzdWJzY3JpcHRpb25zXG4gKlxuICogQG1ldGhvZCByZXNldFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5SZXF1ZXN0TWFuYWdlci5wcm90b3R5cGUuY2xlYXJTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gKGtlZXBJc1N5bmNpbmcpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyB1bmluc3RhbGwgYWxsIHN1YnNjcmlwdGlvbnNcbiAgICAgICAgaWYgKHRoaXMuc3Vic2NyaXB0aW9ucy5zaXplID4gMCkge1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpZCkge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcElzU3luY2luZyB8fCB2YWx1ZS5uYW1lICE9PSAnc3luY2luZycpXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZVN1YnNjcmlwdGlvbihpZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAgcmVzZXQgbm90aWZpY2F0aW9uIGNhbGxiYWNrcyBldGMuXG4gICAgICAgIGlmICh0aGlzLnByb3ZpZGVyLnJlc2V0KVxuICAgICAgICAgICAgdGhpcy5wcm92aWRlci5yZXNldCgpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciB3aGlsZSBjbGVhcmluZyBzdWJzY3JpcHRpb25zOiAke2V9YCk7XG4gICAgfVxufTtcbi8qKlxuICogRXZhbHVhdGVzIFdTIGNsb3NlIGV2ZW50XG4gKlxuICogQG1ldGhvZCBfaXNDbGVhbkNsb3NlXG4gKlxuICogQHBhcmFtIHtDbG9zZUV2ZW50IHwgYm9vbGVhbn0gZXZlbnQgV1MgY2xvc2UgZXZlbnQgb3IgZXhjZXB0aW9uIGZsYWdcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuUmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLl9pc0NsZWFuQ2xvc2VFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiB0eXBlb2YgZXZlbnQgPT09ICdvYmplY3QnICYmIChbMTAwMF0uaW5jbHVkZXMoZXZlbnQuY29kZSkgfHwgZXZlbnQud2FzQ2xlYW4gPT09IHRydWUpO1xufTtcbi8qKlxuICogRGV0ZWN0cyBJcGMgY2xvc2UgZXJyb3IuIFRoZSBub2RlLm5ldCBtb2R1bGUgZW1pdHMgKCdjbG9zZScsIGlzRXhjZXB0aW9uKVxuICpcbiAqIEBtZXRob2QgX2lzSXBjQ2xvc2VFcnJvclxuICpcbiAqIEBwYXJhbSB7Q2xvc2VFdmVudCB8IGJvb2xlYW59IGV2ZW50IFdTIGNsb3NlIGV2ZW50IG9yIGV4Y2VwdGlvbiBmbGFnXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblJlcXVlc3RNYW5hZ2VyLnByb3RvdHlwZS5faXNJcGNDbG9zZUVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBldmVudCA9PT0gJ2Jvb2xlYW4nICYmIGV2ZW50O1xufTtcbi8qKlxuICogVGhlIGpzb25ycGMgcmVzdWx0IGNhbGxiYWNrIGZvciBSZXF1ZXN0TWFuYWdlci5zZW5kXG4gKlxuICogQG1ldGhvZCBfanNvbnJwY1Jlc3VsdENhbGxiYWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIHVzZVxuICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgdGhlIGpzb25ycGMgcGF5bG9hZFxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gcmV0dXJuIGNhbGxiYWNrIG9mIGZvcm0gKGVyciwgcmVzdWx0KVxuICpcbiAqL1xuUmVxdWVzdE1hbmFnZXIucHJvdG90eXBlLl9qc29ucnBjUmVzdWx0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHBheWxvYWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmlkICYmIHBheWxvYWQuaWQgIT09IHJlc3VsdC5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcihgV3JvbmcgcmVzcG9uc2UgaWQgJHtyZXN1bHQuaWR9IChleHBlY3RlZDogJHtwYXlsb2FkLmlkfSkgaW4gJHtKU09OLnN0cmluZ2lmeShwYXlsb2FkKX1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcnMuRXJyb3JSZXNwb25zZShyZXN1bHQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIUpzb25ycGMuaXNWYWxpZFJlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnJvcnMuSW52YWxpZFJlc3BvbnNlKHJlc3VsdCkpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5yZXN1bHQpO1xuICAgIH07XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgTWFuYWdlcjogUmVxdWVzdE1hbmFnZXIsXG4gICAgQmF0Y2hNYW5hZ2VyOiBCYXRjaE1hbmFnZXJcbn07XG4iLCIvKlxuICAgIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIHdlYjMuanMuXG5cbiAgICB3ZWIzLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAgICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG5cbiAgICB3ZWIzLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAgICBhbG9uZyB3aXRoIHdlYjMuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4qL1xuLyoqIEBmaWxlIGpzb25ycGMuanNcbiAqIEBhdXRob3JzOlxuICogICBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZXJldW0ub3JnPlxuICogICBNYXJlayBLb3Rld2ljeiA8bWFyZWtAZXRoZGV2LmNvbT5cbiAqICAgQWFyb24gS3VtYXZpcyA8YWFyb25Aa3VtYXZpcy5tZT5cbiAqIEBkYXRlIDIwMTVcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG4vLyBJbml0aWFsaXplIEpzb25ycGMgYXMgYSBzaW1wbGUgb2JqZWN0IHdpdGggdXRpbGl0eSBmdW5jdGlvbnMuXG52YXIgSnNvbnJwYyA9IHtcbiAgICBtZXNzYWdlSWQ6IDBcbn07XG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gdmFsaWQganNvbiBjcmVhdGUgcGF5bG9hZCBvYmplY3RcbiAqXG4gKiBAbWV0aG9kIHRvUGF5bG9hZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kIG9mIGpzb25ycGMgY2FsbCwgcmVxdWlyZWRcbiAqIEBwYXJhbSB7QXJyYXl9IHBhcmFtcywgYW4gYXJyYXkgb2YgbWV0aG9kIHBhcmFtcywgb3B0aW9uYWxcbiAqIEByZXR1cm5zIHtPYmplY3R9IHZhbGlkIGpzb25ycGMgcGF5bG9hZCBvYmplY3RcbiAqL1xuSnNvbnJwYy50b1BheWxvYWQgPSBmdW5jdGlvbiAobWV0aG9kLCBwYXJhbXMpIHtcbiAgICBpZiAoIW1ldGhvZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0pTT05SUEMgbWV0aG9kIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIHBhcmFtczogXCInICsgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSArICdcIiEnKTtcbiAgICB9XG4gICAgLy8gYWR2YW5jZSBtZXNzYWdlIElEXG4gICAgSnNvbnJwYy5tZXNzYWdlSWQrKztcbiAgICByZXR1cm4ge1xuICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgaWQ6IEpzb25ycGMubWVzc2FnZUlkLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgcGFyYW1zOiBwYXJhbXMgfHwgW11cbiAgICB9O1xufTtcbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBjaGVjayBpZiBqc29ucnBjIHJlc3BvbnNlIGlzIHZhbGlkXG4gKlxuICogQG1ldGhvZCBpc1ZhbGlkUmVzcG9uc2VcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgcmVzcG9uc2UgaXMgdmFsaWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5Kc29ucnBjLmlzVmFsaWRSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJlc3BvbnNlKSA/IHJlc3BvbnNlLmV2ZXJ5KHZhbGlkYXRlU2luZ2xlTWVzc2FnZSkgOiB2YWxpZGF0ZVNpbmdsZU1lc3NhZ2UocmVzcG9uc2UpO1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlU2luZ2xlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiAhIW1lc3NhZ2UgJiZcbiAgICAgICAgICAgICFtZXNzYWdlLmVycm9yICYmXG4gICAgICAgICAgICBtZXNzYWdlLmpzb25ycGMgPT09ICcyLjAnICYmXG4gICAgICAgICAgICAodHlwZW9mIG1lc3NhZ2UuaWQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBtZXNzYWdlLmlkID09PSAnc3RyaW5nJykgJiZcbiAgICAgICAgICAgIG1lc3NhZ2UucmVzdWx0ICE9PSB1bmRlZmluZWQ7IC8vIG9ubHkgdW5kZWZpbmVkIGlzIG5vdCB2YWxpZCBqc29uIG9iamVjdFxuICAgIH1cbn07XG4vKipcbiAqIFNob3VsZCBiZSBjYWxsZWQgdG8gY3JlYXRlIGJhdGNoIHBheWxvYWQgb2JqZWN0XG4gKlxuICogQG1ldGhvZCB0b0JhdGNoUGF5bG9hZFxuICogQHBhcmFtIHtBcnJheX0gbWVzc2FnZXMsIGFuIGFycmF5IG9mIG9iamVjdHMgd2l0aCBtZXRob2QgKHJlcXVpcmVkKSBhbmQgcGFyYW1zIChvcHRpb25hbCkgZmllbGRzXG4gKiBAcmV0dXJucyB7QXJyYXl9IGJhdGNoIHBheWxvYWRcbiAqL1xuSnNvbnJwYy50b0JhdGNoUGF5bG9hZCA9IGZ1bmN0aW9uIChtZXNzYWdlcykge1xuICAgIHJldHVybiBtZXNzYWdlcy5tYXAoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIEpzb25ycGMudG9QYXlsb2FkKG1lc3NhZ2UubWV0aG9kLCBtZXNzYWdlLnBhcmFtcyk7XG4gICAgfSk7XG59O1xubW9kdWxlLmV4cG9ydHMgPSBKc29ucnBjO1xuIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKlxuICogQGZpbGUgaW5kZXguanNcbiAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGVyZXVtLm9yZz5cbiAqIEBkYXRlIDIwMTdcbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgU3Vic2NyaXB0aW9uID0gcmVxdWlyZSgnLi9zdWJzY3JpcHRpb24uanMnKTtcbnZhciBTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gU3Vic2NyaXB0aW9ucyhvcHRpb25zKSB7XG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgIHRoaXMudHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBvcHRpb25zLnN1YnNjcmlwdGlvbnMgfHwge307XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG51bGw7XG59O1xuU3Vic2NyaXB0aW9ucy5wcm90b3R5cGUuc2V0UmVxdWVzdE1hbmFnZXIgPSBmdW5jdGlvbiAocm0pIHtcbiAgICB0aGlzLnJlcXVlc3RNYW5hZ2VyID0gcm07XG59O1xuU3Vic2NyaXB0aW9ucy5wcm90b3R5cGUuYXR0YWNoVG9PYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIGZ1bmMgPSB0aGlzLmJ1aWxkQ2FsbCgpO1xuICAgIHZhciBuYW1lID0gdGhpcy5uYW1lLnNwbGl0KCcuJyk7XG4gICAgaWYgKG5hbWUubGVuZ3RoID4gMSkge1xuICAgICAgICBvYmpbbmFtZVswXV0gPSBvYmpbbmFtZVswXV0gfHwge307XG4gICAgICAgIG9ialtuYW1lWzBdXVtuYW1lWzFdXSA9IGZ1bmM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmpbbmFtZVswXV0gPSBmdW5jO1xuICAgIH1cbn07XG5TdWJzY3JpcHRpb25zLnByb3RvdHlwZS5idWlsZENhbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIV90aGlzLnN1YnNjcmlwdGlvbnNbYXJndW1lbnRzWzBdXSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdTdWJzY3JpcHRpb24gJyArIEpTT04uc3RyaW5naWZ5KGFyZ3VtZW50c1swXSkgKyAnIGRvZXNuXFwndCBleGlzdC4gU3Vic2NyaWJpbmcgYW55d2F5LicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbjogX3RoaXMuc3Vic2NyaXB0aW9uc1thcmd1bWVudHNbMF1dIHx8IHt9LFxuICAgICAgICAgICAgcmVxdWVzdE1hbmFnZXI6IF90aGlzLnJlcXVlc3RNYW5hZ2VyLFxuICAgICAgICAgICAgdHlwZTogX3RoaXMudHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbi5zdWJzY3JpYmUuYXBwbHkoc3Vic2NyaXB0aW9uLCBhcmd1bWVudHMpO1xuICAgIH07XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9ucyxcbiAgICBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvblxufTtcbiIsIi8qXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2Ygd2ViMy5qcy5cblxuICAgIHdlYjMuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICAgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cblxuICAgIHdlYjMuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAgICBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cblxuICAgIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICAgIGFsb25nIHdpdGggd2ViMy5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiovXG4vKipcbiAqIEBmaWxlIHN1YnNjcmlwdGlvbi5qc1xuICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZXJldW0ub3JnPlxuICogQGRhdGUgMjAxN1xuICovXG5cInVzZSBzdHJpY3RcIjtcbnZhciBlcnJvcnMgPSByZXF1aXJlKCd3ZWIzLWNvcmUtaGVscGVycycpLmVycm9ycztcbnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudGVtaXR0ZXIzJyk7XG52YXIgZm9ybWF0dGVycyA9IHJlcXVpcmUoJ3dlYjMtY29yZS1oZWxwZXJzJykuZm9ybWF0dGVycztcbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gU3Vic2NyaXB0aW9uKG9wdGlvbnMpIHtcbiAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmlkID0gbnVsbDtcbiAgICB0aGlzLmNhbGxiYWNrID0gaWRlbnRpdHk7XG4gICAgdGhpcy5hcmd1bWVudHMgPSBudWxsO1xuICAgIHRoaXMubGFzdEJsb2NrID0gbnVsbDsgLy8gXCJmcm9tXCIgYmxvY2sgdHJhY2tlciBmb3IgYmFja2ZpbGxpbmcgZXZlbnRzIG9uIHJlY29ubmVjdGlvblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgc3Vic2NyaXB0aW9uOiBvcHRpb25zLnN1YnNjcmlwdGlvbixcbiAgICAgICAgdHlwZTogb3B0aW9ucy50eXBlLFxuICAgICAgICByZXF1ZXN0TWFuYWdlcjogb3B0aW9ucy5yZXF1ZXN0TWFuYWdlclxuICAgIH07XG59XG4vLyBJTkhFUklUXG5TdWJzY3JpcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudEVtaXR0ZXIucHJvdG90eXBlKTtcblN1YnNjcmlwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdWJzY3JpcHRpb247XG4vKipcbiAqIFNob3VsZCBiZSB1c2VkIHRvIGV4dHJhY3QgY2FsbGJhY2sgZnJvbSBhcnJheSBvZiBhcmd1bWVudHMuIE1vZGlmaWVzIGlucHV0IHBhcmFtXG4gKlxuICogQG1ldGhvZCBleHRyYWN0Q2FsbGJhY2tcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3VtZW50c1xuICogQHJldHVybiB7RnVuY3Rpb258TnVsbH0gY2FsbGJhY2ssIGlmIGV4aXN0c1xuICovXG5TdWJzY3JpcHRpb24ucHJvdG90eXBlLl9leHRyYWN0Q2FsbGJhY2sgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIGlmICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBhcmdzLnBvcCgpOyAvLyBtb2RpZnkgdGhlIGFyZ3MgYXJyYXkhXG4gICAgfVxufTtcbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBjaGVjayBpZiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpcyBjb3JyZWN0XG4gKlxuICogQG1ldGhvZCB2YWxpZGF0ZUFyZ3NcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3VtZW50c1xuICogQHRocm93cyB7RXJyb3J9IGlmIGl0IGlzIG5vdFxuICovXG5TdWJzY3JpcHRpb24ucHJvdG90eXBlLl92YWxpZGF0ZUFyZ3MgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLm9wdGlvbnMuc3Vic2NyaXB0aW9uO1xuICAgIGlmICghc3Vic2NyaXB0aW9uKVxuICAgICAgICBzdWJzY3JpcHRpb24gPSB7fTtcbiAgICBpZiAoIXN1YnNjcmlwdGlvbi5wYXJhbXMpXG4gICAgICAgIHN1YnNjcmlwdGlvbi5wYXJhbXMgPSAwO1xuICAgIGlmIChhcmdzLmxlbmd0aCAhPT0gc3Vic2NyaXB0aW9uLnBhcmFtcykge1xuICAgICAgICB0aHJvdyBlcnJvcnMuSW52YWxpZE51bWJlck9mUGFyYW1zKGFyZ3MubGVuZ3RoLCBzdWJzY3JpcHRpb24ucGFyYW1zLCBzdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uTmFtZSk7XG4gICAgfVxufTtcbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBmb3JtYXQgaW5wdXQgYXJncyBvZiBtZXRob2RcbiAqXG4gKiBAbWV0aG9kIGZvcm1hdElucHV0XG4gKiBAcGFyYW0ge0FycmF5fVxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2Zvcm1hdElucHV0ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5vcHRpb25zLnN1YnNjcmlwdGlvbjtcbiAgICBpZiAoIXN1YnNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9XG4gICAgaWYgKCFzdWJzY3JpcHRpb24uaW5wdXRGb3JtYXR0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgfVxuICAgIHZhciBmb3JtYXR0ZWRBcmdzID0gc3Vic2NyaXB0aW9uLmlucHV0Rm9ybWF0dGVyLm1hcChmdW5jdGlvbiAoZm9ybWF0dGVyLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm9ybWF0dGVyID8gZm9ybWF0dGVyKGFyZ3NbaW5kZXhdKSA6IGFyZ3NbaW5kZXhdO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtYXR0ZWRBcmdzO1xufTtcbi8qKlxuICogU2hvdWxkIGJlIGNhbGxlZCB0byBmb3JtYXQgb3V0cHV0KHJlc3VsdCkgb2YgbWV0aG9kXG4gKlxuICogQG1ldGhvZCBmb3JtYXRPdXRwdXRcbiAqIEBwYXJhbSByZXN1bHQge09iamVjdH1cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fZm9ybWF0T3V0cHV0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSB0aGlzLm9wdGlvbnMuc3Vic2NyaXB0aW9uO1xuICAgIHJldHVybiAoc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5vdXRwdXRGb3JtYXR0ZXIgJiYgcmVzdWx0KSA/IHN1YnNjcmlwdGlvbi5vdXRwdXRGb3JtYXR0ZXIocmVzdWx0KSA6IHJlc3VsdDtcbn07XG4vKipcbiAqIFNob3VsZCBjcmVhdGUgcGF5bG9hZCBmcm9tIGdpdmVuIGlucHV0IGFyZ3NcbiAqXG4gKiBAbWV0aG9kIHRvUGF5bG9hZFxuICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5TdWJzY3JpcHRpb24ucHJvdG90eXBlLl90b1BheWxvYWQgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICB0aGlzLmNhbGxiYWNrID0gdGhpcy5fZXh0cmFjdENhbGxiYWNrKGFyZ3MpIHx8IGlkZW50aXR5O1xuICAgIGlmICghdGhpcy5zdWJzY3JpcHRpb25NZXRob2QpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25NZXRob2QgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIC8vIHJlcGxhY2Ugc3Vic2NyaXB0aW9uIHdpdGggZ2l2ZW4gbmFtZVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25OYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbk1ldGhvZCA9IHRoaXMub3B0aW9ucy5zdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRoaXMuYXJndW1lbnRzKSB7XG4gICAgICAgIHRoaXMuYXJndW1lbnRzID0gdGhpcy5fZm9ybWF0SW5wdXQoYXJncyk7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlQXJncyh0aGlzLmFyZ3VtZW50cyk7XG4gICAgICAgIGFyZ3MgPSBbXTsgLy8gbWFrZSBlbXB0eSBhZnRlciB2YWxpZGF0aW9uXG4gICAgfVxuICAgIC8vIHJlLWFkZCBzdWJzY3JpcHRpb25OYW1lXG4gICAgcGFyYW1zLnB1c2godGhpcy5zdWJzY3JpcHRpb25NZXRob2QpO1xuICAgIHBhcmFtcyA9IHBhcmFtcy5jb25jYXQodGhpcy5hcmd1bWVudHMpO1xuICAgIGlmIChhcmdzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgYSBjYWxsYmFjayBpcyBhbGxvd2VkIGFzIHBhcmFtZXRlciBvbiBhbiBhbHJlYWR5IGluc3RhbnRpYXRlZCBzdWJzY3JpcHRpb24uJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1ldGhvZDogdGhpcy5vcHRpb25zLnR5cGUgKyAnX3N1YnNjcmliZScsXG4gICAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgfTtcbn07XG4vKipcbiAqIFVuc3Vic2NyaWJlcyBhbmQgY2xlYXJzIGNhbGxiYWNrc1xuICpcbiAqIEBtZXRob2QgdW5zdWJzY3JpYmVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuU3Vic2NyaXB0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHRoaXMub3B0aW9ucy5yZXF1ZXN0TWFuYWdlci5yZW1vdmVTdWJzY3JpcHRpb24odGhpcy5pZCwgY2FsbGJhY2spO1xuICAgIHRoaXMuaWQgPSBudWxsO1xuICAgIHRoaXMubGFzdEJsb2NrID0gbnVsbDtcbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xufTtcbi8qKlxuICogU3Vic2NyaWJlcyBhbmQgd2F0Y2hlcyBmb3IgY2hhbmdlc1xuICpcbiAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3Vic2NyaXB0aW9uIHRoZSBzdWJzY3JpcHRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHRoZSBvcHRpb25zIG9iamVjdCB3aXRoIGFkZHJlc3MgdG9waWNzIGFuZCBmcm9tQmxvY2tcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgdmFyIHBheWxvYWQgPSB0aGlzLl90b1BheWxvYWQoYXJncyk7XG4gICAgaWYgKCFwYXlsb2FkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyB0aHJvdyBlcnJvciwgaWYgcHJvdmlkZXIgaXMgbm90IHNldFxuICAgIGlmICghdGhpcy5vcHRpb25zLnJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVycjEgPSBuZXcgRXJyb3IoJ05vIHByb3ZpZGVyIHNldC4nKTtcbiAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrKGVycjEsIG51bGwsIF90aGlzKTtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoJ2Vycm9yJywgZXJyMSk7XG4gICAgICAgIH0sIDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gdGhyb3cgZXJyb3IsIGlmIHByb3ZpZGVyIGRvZXNudCBzdXBwb3J0IHN1YnNjcmlwdGlvbnNcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZXF1ZXN0TWFuYWdlci5wcm92aWRlci5vbikge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlcnIyID0gbmV3IEVycm9yKCdUaGUgY3VycmVudCBwcm92aWRlciBkb2VzblxcJ3Qgc3VwcG9ydCBzdWJzY3JpcHRpb25zOiAnICtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25zLnJlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgICAgX3RoaXMuY2FsbGJhY2soZXJyMiwgbnVsbCwgX3RoaXMpO1xuICAgICAgICAgICAgX3RoaXMuZW1pdCgnZXJyb3InLCBlcnIyKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBSZS1zdWJzY3JpcHRpb24gb25seTogY29udGludWUgZmV0Y2hpbmcgZnJvbSB0aGUgbGFzdCBibG9jayB3ZSByZWNlaXZlZC5cbiAgICAvLyBhIGRyb3BwZWQgY29ubmVjdGlvbiBtYXkgaGF2ZSByZXN1bHRlZCBpbiBnYXBzIGluIHRoZSBsb2dzLi4uXG4gICAgaWYgKHRoaXMubGFzdEJsb2NrICYmICEhdGhpcy5vcHRpb25zLnBhcmFtcyAmJiB0eXBlb2YgdGhpcy5vcHRpb25zLnBhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcGF5bG9hZC5wYXJhbXNbMV0gPSB0aGlzLm9wdGlvbnMucGFyYW1zO1xuICAgICAgICBwYXlsb2FkLnBhcmFtc1sxXS5mcm9tQmxvY2sgPSBmb3JtYXR0ZXJzLmlucHV0QmxvY2tOdW1iZXJGb3JtYXR0ZXIodGhpcy5sYXN0QmxvY2sgKyAxKTtcbiAgICB9XG4gICAgLy8gaWYgaWQgaXMgdGhlcmUgdW5zdWJzY3JpYmUgZmlyc3RcbiAgICBpZiAodGhpcy5pZCkge1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIC8vIHN0b3JlIHRoZSBwYXJhbXMgaW4gdGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgdGhpcy5vcHRpb25zLnBhcmFtcyA9IHBheWxvYWQucGFyYW1zWzFdO1xuICAgIC8vIGdldCBwYXN0IGxvZ3MsIGlmIGZyb21CbG9jayBpcyBhdmFpbGFibGVcbiAgICBpZiAocGF5bG9hZC5wYXJhbXNbMF0gPT09ICdsb2dzJyAmJiAhIXBheWxvYWQucGFyYW1zWzFdICYmIHR5cGVvZiBwYXlsb2FkLnBhcmFtc1sxXSA9PT0gJ29iamVjdCcgJiYgcGF5bG9hZC5wYXJhbXNbMV0uaGFzT3duUHJvcGVydHkoJ2Zyb21CbG9jaycpICYmIGlzRmluaXRlKHBheWxvYWQucGFyYW1zWzFdLmZyb21CbG9jaykpIHtcbiAgICAgICAgLy8gc2VuZCB0aGUgc3Vic2NyaXB0aW9uIHJlcXVlc3RcbiAgICAgICAgLy8gY29weSB0aGUgcGFyYW1zIHRvIGF2b2lkIHJhY2UtY29uZGl0aW9uIHdpdGggZGVsZXRpb24gYmVsb3cgdGhpcyBibG9ja1xuICAgICAgICB2YXIgYmxvY2tQYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXlsb2FkLnBhcmFtc1sxXSk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5yZXF1ZXN0TWFuYWdlci5zZW5kKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ2V0aF9nZXRMb2dzJyxcbiAgICAgICAgICAgIHBhcmFtczogW2Jsb2NrUGFyYW1zXVxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCBsb2dzKSB7XG4gICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgICAgIGxvZ3MuZm9yRWFjaChmdW5jdGlvbiAobG9nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXRwdXQgPSBfdGhpcy5fZm9ybWF0T3V0cHV0KGxvZyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrKG51bGwsIG91dHB1dCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KCdkYXRhJywgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHN1YnNjcmliZSBoZXJlPyBhZnRlciB0aGUgcGFzdCBsb2dzP1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrKGVyciwgbnVsbCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgc3Vic2NyaXB0aW9uXG4gICAgLy8gVE9ETyBtb3ZlIHRvIHNlcGFyYXRlIGZ1bmN0aW9uPyBzbyB0aGF0IHBhc3QgbG9ncyBjYW4gZ28gZmlyc3Q/XG4gICAgaWYgKHR5cGVvZiBwYXlsb2FkLnBhcmFtc1sxXSA9PT0gJ29iamVjdCcpXG4gICAgICAgIGRlbGV0ZSBwYXlsb2FkLnBhcmFtc1sxXS5mcm9tQmxvY2s7XG4gICAgdGhpcy5vcHRpb25zLnJlcXVlc3RNYW5hZ2VyLnNlbmQocGF5bG9hZCwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGlmICghZXJyICYmIHJlc3VsdCkge1xuICAgICAgICAgICAgX3RoaXMuaWQgPSByZXN1bHQ7XG4gICAgICAgICAgICBfdGhpcy5tZXRob2QgPSBwYXlsb2FkLnBhcmFtc1swXTtcbiAgICAgICAgICAgIC8vIGNhbGwgY2FsbGJhY2sgb24gbm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5yZXF1ZXN0TWFuYWdlci5hZGRTdWJzY3JpcHRpb24oX3RoaXMsIGZ1bmN0aW9uIChlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gW3Jlc3VsdF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRwdXQgPSBfdGhpcy5fZm9ybWF0T3V0cHV0KHJlc3VsdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2sgY3VycmVudCBibG9jayAoZm9yIGdhcHMgaW50cm9kdWNlZCBieSBkcm9wcGVkIGNvbm5lY3Rpb25zKVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubGFzdEJsb2NrID0gISFvdXRwdXQgJiYgdHlwZW9mIG91dHB1dCA9PT0gJ29iamVjdCcgPyBvdXRwdXQuYmxvY2tOdW1iZXIgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5vcHRpb25zLnN1YnNjcmlwdGlvbi5zdWJzY3JpcHRpb25IYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9wdGlvbnMuc3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbkhhbmRsZXIuY2FsbChfdGhpcywgb3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVtaXQoJ2RhdGEnLCBvdXRwdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCB0aGUgY2FsbGJhY2ssIGxhc3Qgc28gdGhhdCB1bnN1YnNjcmliZSB0aGVyZSB3b24ndCBhZmZlY3QgdGhlIGVtaXQgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrKG51bGwsIG91dHB1dCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNhbGxiYWNrKGVycm9yLCBmYWxzZSwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmVtaXQoJ2Nvbm5lY3RlZCcsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jYWxsYmFjayhlcnIsIGZhbHNlLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyByZXR1cm4gYW4gb2JqZWN0IHRvIGNhbmNlbCB0aGUgc3Vic2NyaXB0aW9uXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuLyoqXG4gKiBSZXN1YnNjcmliZVxuICpcbiAqIEBtZXRob2QgcmVzdWJzY3JpYmVcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZXN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLm9wdGlvbnMucmVxdWVzdE1hbmFnZXIucmVtb3ZlU3Vic2NyaXB0aW9uKHRoaXMuaWQpOyAvLyB1bnN1YnNjcmliZVxuICAgIHRoaXMuaWQgPSBudWxsO1xuICAgIHRoaXMuc3Vic2NyaWJlKHRoaXMuY2FsbGJhY2spO1xufTtcbm1vZHVsZS5leHBvcnRzID0gU3Vic2NyaXB0aW9uO1xuIiwiLypcbiBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG4vKipcbiAqIEBmaWxlIGV4dGVuZC5qc1xuICogQGF1dGhvciBGYWJpYW4gVm9nZWxzdGVsbGVyIDxmYWJpYW5AZXRoZXJldW0ub3JnPlxuICogQGRhdGUgMjAxN1xuICovXG5cInVzZSBzdHJpY3RcIjtcbnZhciBmb3JtYXR0ZXJzID0gcmVxdWlyZSgnd2ViMy1jb3JlLWhlbHBlcnMnKS5mb3JtYXR0ZXJzO1xudmFyIE1ldGhvZCA9IHJlcXVpcmUoJ3dlYjMtY29yZS1tZXRob2QnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJ3dlYjMtdXRpbHMnKTtcbnZhciBleHRlbmQgPSBmdW5jdGlvbiAocGNrZykge1xuICAgIC8qIGpzaGludCBtYXhjb21wbGV4aXR5OjUgKi9cbiAgICB2YXIgZXggPSBmdW5jdGlvbiAoZXh0ZW5zaW9uKSB7XG4gICAgICAgIHZhciBleHRlbmRlZE9iamVjdDtcbiAgICAgICAgaWYgKGV4dGVuc2lvbi5wcm9wZXJ0eSkge1xuICAgICAgICAgICAgaWYgKCFwY2tnW2V4dGVuc2lvbi5wcm9wZXJ0eV0pIHtcbiAgICAgICAgICAgICAgICBwY2tnW2V4dGVuc2lvbi5wcm9wZXJ0eV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4dGVuZGVkT2JqZWN0ID0gcGNrZ1tleHRlbnNpb24ucHJvcGVydHldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXh0ZW5kZWRPYmplY3QgPSBwY2tnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbnNpb24ubWV0aG9kcykge1xuICAgICAgICAgICAgZXh0ZW5zaW9uLm1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEobWV0aG9kIGluc3RhbmNlb2YgTWV0aG9kKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2QgPSBuZXcgTWV0aG9kKG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGhvZC5hdHRhY2hUb09iamVjdChleHRlbmRlZE9iamVjdCk7XG4gICAgICAgICAgICAgICAgbWV0aG9kLnNldFJlcXVlc3RNYW5hZ2VyKHBja2cuX3JlcXVlc3RNYW5hZ2VyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwY2tnO1xuICAgIH07XG4gICAgZXguZm9ybWF0dGVycyA9IGZvcm1hdHRlcnM7XG4gICAgZXgudXRpbHMgPSB1dGlscztcbiAgICBleC5NZXRob2QgPSBNZXRob2Q7XG4gICAgcmV0dXJuIGV4O1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXh0ZW5kO1xuIiwiLypcbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB3ZWIzLmpzLlxuXG4gICAgd2ViMy5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gICAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuXG4gICAgd2ViMy5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gICAgYWxvbmcgd2l0aCB3ZWIzLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuKi9cbi8qKlxuICogQGZpbGUgaW5kZXguanNcbiAqIEBhdXRob3IgRmFiaWFuIFZvZ2Vsc3RlbGxlciA8ZmFiaWFuQGV0aGVyZXVtLm9yZz5cbiAqIEBkYXRlIDIwMTdcbiAqL1xuY29uc3QgcmVxdWVzdE1hbmFnZXIgPSByZXF1aXJlKFwid2ViMy1jb3JlLXJlcXVlc3RtYW5hZ2VyXCIpO1xuY29uc3QgZXh0ZW5kID0gcmVxdWlyZShcIi4vZXh0ZW5kXCIpO1xuY29uc3QgcGFja2FnZUluaXQgPSAocGtnLCBhcmdzKSA9PiB7XG4gICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpO1xuICAgIGlmICghcGtnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gaW5zdGFudGlhdGUgdXNpbmcgdGhlIFwibmV3XCIga2V5d29yZC4nKTtcbiAgICB9XG4gICAgLy8gbWFrZSBwcm9wZXJ0eSBvZiBwa2cuX3Byb3ZpZGVyLCB3aGljaCBjYW4gcHJvcGVybHkgc2V0IHByb3ZpZGVyc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwa2csICdjdXJyZW50UHJvdmlkZXInLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBrZy5fcHJvdmlkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGtnLnNldFByb3ZpZGVyKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gaW5oZXJpdCBmcm9tIHBhcmVudCBwYWNrYWdlIG9yIGNyZWF0ZSBhIG5ldyBSZXF1ZXN0TWFuYWdlclxuICAgIGlmIChhcmdzWzBdICYmIGFyZ3NbMF0uX3JlcXVlc3RNYW5hZ2VyKSB7XG4gICAgICAgIHBrZy5fcmVxdWVzdE1hbmFnZXIgPSBhcmdzWzBdLl9yZXF1ZXN0TWFuYWdlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHBrZy5fcmVxdWVzdE1hbmFnZXIgPSBuZXcgcmVxdWVzdE1hbmFnZXIuTWFuYWdlcihhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICB9XG4gICAgLy8gYWRkIGdpdmVuUHJvdmlkZXJcbiAgICBwa2cuZ2l2ZW5Qcm92aWRlciA9IHJlcXVlc3RNYW5hZ2VyLk1hbmFnZXIuZ2l2ZW5Qcm92aWRlcjtcbiAgICBwa2cucHJvdmlkZXJzID0gcmVxdWVzdE1hbmFnZXIuTWFuYWdlci5wcm92aWRlcnM7XG4gICAgcGtnLl9wcm92aWRlciA9IHBrZy5fcmVxdWVzdE1hbmFnZXIucHJvdmlkZXI7XG4gICAgLy8gYWRkIFNFVFBST1ZJREVSIGZ1bmN0aW9uIChkb24ndCBvdmVyd3JpdGUgaWYgYWxyZWFkeSBleGlzdGluZylcbiAgICBpZiAoIXBrZy5zZXRQcm92aWRlcikge1xuICAgICAgICBwa2cuc2V0UHJvdmlkZXIgPSAocHJvdmlkZXIsIG5ldCkgPT4ge1xuICAgICAgICAgICAgcGtnLl9yZXF1ZXN0TWFuYWdlci5zZXRQcm92aWRlcihwcm92aWRlciwgbmV0KTtcbiAgICAgICAgICAgIHBrZy5fcHJvdmlkZXIgPSBwa2cuX3JlcXVlc3RNYW5hZ2VyLnByb3ZpZGVyO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHBrZy5zZXRSZXF1ZXN0TWFuYWdlciA9IChtYW5hZ2VyKSA9PiB7XG4gICAgICAgIHBrZy5fcmVxdWVzdE1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgICAgICBwa2cuX3Byb3ZpZGVyID0gbWFuYWdlci5wcm92aWRlcjtcbiAgICB9O1xuICAgIC8vIGF0dGFjaCBiYXRjaCByZXF1ZXN0IGNyZWF0aW9uXG4gICAgcGtnLkJhdGNoUmVxdWVzdCA9IHJlcXVlc3RNYW5hZ2VyLkJhdGNoTWFuYWdlci5iaW5kKG51bGwsIHBrZy5fcmVxdWVzdE1hbmFnZXIpO1xuICAgIC8vIGF0dGFjaCBleHRlbmQgZnVuY3Rpb25cbiAgICBwa2cuZXh0ZW5kID0gZXh0ZW5kKHBrZyk7XG59O1xuY29uc3QgYWRkUHJvdmlkZXJzID0gKHBrZykgPT4ge1xuICAgIHBrZy5naXZlblByb3ZpZGVyID0gcmVxdWVzdE1hbmFnZXIuTWFuYWdlci5naXZlblByb3ZpZGVyO1xuICAgIHBrZy5wcm92aWRlcnMgPSByZXF1ZXN0TWFuYWdlci5NYW5hZ2VyLnByb3ZpZGVycztcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBwYWNrYWdlSW5pdCxcbiAgICBhZGRQcm92aWRlcnNcbn07XG4iXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiaSIsImEiLCJuYW1lIiwidmFsdWUiLCJkZWx0YSIsImVudHJpZXMiLCJpZCIsImNvbmNhdCIsIkRhdGUiLCJub3ciLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyIiwiUGVyZm9ybWFuY2VPYnNlcnZlciIsInN1cHBvcnRlZEVudHJ5VHlwZXMiLCJpbmNsdWRlcyIsInNlbGYiLCJnZXRFbnRyaWVzIiwibWFwIiwib2JzZXJ2ZSIsInR5cGUiLCJidWZmZXJlZCIsIm8iLCJkb2N1bWVudCIsInZpc2liaWxpdHlTdGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiYyIsInBlcnNpc3RlZCIsInUiLCJXZWFrU2V0IiwiU2V0IiwiZiIsImhhcyIsInMiLCJoYWRSZWNlbnRJbnB1dCIsInB1c2giLCJ0YWtlUmVjb3JkcyIsIm0iLCJwIiwidiIsInRpbWVTdGFtcCIsImQiLCJzZXRUaW1lb3V0IiwibCIsImRpc2Nvbm5lY3QiLCJzdGFydFRpbWUiLCJhZGQiLCJwZXJmb3JtYW5jZSIsImdldEVudHJpZXNCeU5hbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJoIiwicGFzc2l2ZSIsImNhcHR1cmUiLCJTIiwieSIsInciLCJnIiwiZW50cnlUeXBlIiwidGFyZ2V0IiwiY2FuY2VsYWJsZSIsInByb2Nlc3NpbmdTdGFydCIsImZvckVhY2giLCJFIiwiTCIsIlQiLCJvbmNlIiwiYiIsImdldEVudHJpZXNCeVR5cGUiLCJ0aW1pbmciLCJtYXgiLCJuYXZpZ2F0aW9uU3RhcnQiLCJyZXNwb25zZVN0YXJ0IiwicmVhZHlTdGF0ZSIsInN3YXJtIiwiQnp6IiwicHJvdmlkZXIiLCJ0aGlzIiwiZ2l2ZW5Qcm92aWRlciIsIl9yZXF1ZXN0TWFuYWdlciIsImN1cnJlbnRQcm92aWRlciIsInBpY2siLCJzZXRQcm92aWRlciIsImV0aGVyZXVtIiwiYnp6IiwicHJvdG90eXBlIiwibm9Qcm92aWRlckVycm9yIiwiRXJyb3IiLCJkb3dubG9hZCIsInVwbG9hZCIsImlzQXZhaWxhYmxlIiwiYXQiLCJtb2R1bGUiLCJleHBvcnRzIiwiRXJyb3JSZXNwb25zZSIsInJlc3VsdCIsIm1lc3NhZ2UiLCJlcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwiZXJyIiwiSW52YWxpZE51bWJlck9mUGFyYW1zIiwiZ290IiwiZXhwZWN0ZWQiLCJtZXRob2QiLCJJbnZhbGlkQ29ubmVjdGlvbiIsImhvc3QiLCJldmVudCIsIkNvbm5lY3Rpb25FcnJvciIsIkludmFsaWRQcm92aWRlciIsIkludmFsaWRSZXNwb25zZSIsIkNvbm5lY3Rpb25UaW1lb3V0IiwibXMiLCJDb25uZWN0aW9uTm90T3BlbkVycm9yIiwiQ29ubmVjdGlvbkNsb3NlRXJyb3IiLCJjb2RlIiwicmVhc29uIiwiTWF4QXR0ZW1wdHNSZWFjaGVkT25SZWNvbm5lY3RpbmdFcnJvciIsIlBlbmRpbmdSZXF1ZXN0c09uUmVjb25uZWN0aW5nRXJyb3IiLCJtc2ciLCJSZXZlcnRJbnN0cnVjdGlvbkVycm9yIiwic2lnbmF0dXJlIiwiVHJhbnNhY3Rpb25SZXZlcnRJbnN0cnVjdGlvbkVycm9yIiwicmVjZWlwdCIsIlRyYW5zYWN0aW9uRXJyb3IiLCJOb0NvbnRyYWN0QWRkcmVzc0ZvdW5kRXJyb3IiLCJDb250cmFjdENvZGVOb3RTdG9yZWRFcnJvciIsIlRyYW5zYWN0aW9uUmV2ZXJ0ZWRXaXRob3V0UmVhc29uRXJyb3IiLCJUcmFuc2FjdGlvbk91dE9mR2FzRXJyb3IiLCJSZXNvbHZlck1ldGhvZE1pc3NpbmdFcnJvciIsImFkZHJlc3MiLCJDb250cmFjdE1pc3NpbmdBQklFcnJvciIsIkNvbnRyYWN0T25jZVJlcXVpcmVzQ2FsbGJhY2tFcnJvciIsIkNvbnRyYWN0RXZlbnREb2VzTm90RXhpc3RFcnJvciIsImV2ZW50TmFtZSIsIkNvbnRyYWN0UmVzZXJ2ZWRFdmVudEVycm9yIiwiQ29udHJhY3RNaXNzaW5nRGVwbG95RGF0YUVycm9yIiwiQ29udHJhY3ROb0FkZHJlc3NEZWZpbmVkRXJyb3IiLCJDb250cmFjdE5vRnJvbUFkZHJlc3NEZWZpbmVkRXJyb3IiLCJ1dGlscyIsIkliYW4iLCJvdXRwdXRCaWdOdW1iZXJGb3JtYXR0ZXIiLCJudW1iZXIiLCJ0b0JOIiwidG9TdHJpbmciLCJpbnB1dEJsb2NrTnVtYmVyRm9ybWF0dGVyIiwiYmxvY2tOdW1iZXIiLCJ1bmRlZmluZWQiLCJpc1ByZWRlZmluZWRCbG9ja051bWJlciIsImlzSGV4U3RyaWN0IiwidG9Mb3dlckNhc2UiLCJudW1iZXJUb0hleCIsIl90eElucHV0Rm9ybWF0dGVyIiwib3B0aW9ucyIsInRvIiwiaW5wdXRBZGRyZXNzRm9ybWF0dGVyIiwiaW5wdXQiLCJzdGFydHNXaXRoIiwiaXNIZXgiLCJnYXMiLCJnYXNMaW1pdCIsIm1heFByaW9yaXR5RmVlUGVyR2FzIiwibWF4RmVlUGVyR2FzIiwiZ2FzUHJpY2UiLCJmaWx0ZXIiLCJrZXkiLCJvdXRwdXRUcmFuc2FjdGlvbkZvcm1hdHRlciIsInR4IiwiaGV4VG9OdW1iZXIiLCJ0cmFuc2FjdGlvbkluZGV4Iiwibm9uY2UiLCJpc0FkZHJlc3MiLCJ0b0NoZWNrc3VtQWRkcmVzcyIsImZyb20iLCJvdXRwdXRMb2dGb3JtYXR0ZXIiLCJsb2ciLCJibG9ja0hhc2giLCJ0cmFuc2FjdGlvbkhhc2giLCJsb2dJbmRleCIsInNoYUlkIiwic2hhMyIsInJlcGxhY2UiLCJzdWJzdHIiLCJpYmFuIiwiaXNWYWxpZCIsImlzRGlyZWN0IiwidG9BZGRyZXNzIiwiaW5wdXREZWZhdWx0QmxvY2tOdW1iZXJGb3JtYXR0ZXIiLCJkZWZhdWx0QmxvY2siLCJpbnB1dENhbGxGb3JtYXR0ZXIiLCJkZWZhdWx0QWNjb3VudCIsImlucHV0VHJhbnNhY3Rpb25Gb3JtYXR0ZXIiLCJpbnB1dFBvc3RGb3JtYXR0ZXIiLCJwb3N0IiwidHRsIiwid29ya1RvUHJvdmUiLCJwcmlvcml0eSIsIkFycmF5IiwiaXNBcnJheSIsInRvcGljcyIsInRvcGljIiwiaW5kZXhPZiIsImZyb21VdGY4IiwiaW5wdXRMb2dGb3JtYXR0ZXIiLCJ0b1RvcGljIiwiU3RyaW5nIiwiZnJvbUJsb2NrIiwidG9CbG9jayIsImFkZHIiLCJpbnB1dFNpZ25Gb3JtYXR0ZXIiLCJ1dGY4VG9IZXgiLCJpbnB1dFN0b3JhZ2VLZXlzRm9ybWF0dGVyIiwia2V5cyIsIm91dHB1dFByb29mRm9ybWF0dGVyIiwicHJvb2YiLCJoZXhUb051bWJlclN0cmluZyIsImJhbGFuY2UiLCJvdXRwdXRUcmFuc2FjdGlvblJlY2VpcHRGb3JtYXR0ZXIiLCJjdW11bGF0aXZlR2FzVXNlZCIsImdhc1VzZWQiLCJsb2dzIiwiZWZmZWN0aXZlR2FzUHJpY2UiLCJjb250cmFjdEFkZHJlc3MiLCJzdGF0dXMiLCJCb29sZWFuIiwicGFyc2VJbnQiLCJvdXRwdXRCbG9ja0Zvcm1hdHRlciIsImJsb2NrIiwic2l6ZSIsInRpbWVzdGFtcCIsImRpZmZpY3VsdHkiLCJ0b3RhbERpZmZpY3VsdHkiLCJ0cmFuc2FjdGlvbnMiLCJpdGVtIiwibWluZXIiLCJiYXNlRmVlUGVyR2FzIiwib3V0cHV0UG9zdEZvcm1hdHRlciIsImV4cGlyeSIsInNlbnQiLCJ3b3JrUHJvdmVkIiwidG9VdGY4Iiwib3V0cHV0U3luY2luZ0Zvcm1hdHRlciIsInN0YXJ0aW5nQmxvY2siLCJjdXJyZW50QmxvY2siLCJoaWdoZXN0QmxvY2siLCJrbm93blN0YXRlcyIsInB1bGxlZFN0YXRlcyIsImVycm9ycyIsImZvcm1hdHRlcnMiLCJwcm9taUV2ZW50IiwiU3Vic2NyaXB0aW9ucyIsIkV0aGVyc1RyYW5zYWN0aW9uVXRpbHMiLCJNZXRob2QiLCJjYWxsIiwicGFyYW1zIiwiaW5wdXRGb3JtYXR0ZXIiLCJvdXRwdXRGb3JtYXR0ZXIiLCJ0cmFuc2Zvcm1QYXlsb2FkIiwiZXh0cmFGb3JtYXR0ZXJzIiwiYWJpQ29kZXIiLCJyZXF1ZXN0TWFuYWdlciIsImFjY291bnRzIiwidHJhbnNhY3Rpb25CbG9ja1RpbWVvdXQiLCJ0cmFuc2FjdGlvbkNvbmZpcm1hdGlvbkJsb2NrcyIsInRyYW5zYWN0aW9uUG9sbGluZ1RpbWVvdXQiLCJ0cmFuc2FjdGlvblBvbGxpbmdJbnRlcnZhbCIsImJsb2NrSGVhZGVyVGltZW91dCIsImRlZmF1bHRDb21tb24iLCJkZWZhdWx0Q2hhaW4iLCJkZWZhdWx0SGFyZGZvcmsiLCJoYW5kbGVSZXZlcnQiLCJzZXRSZXF1ZXN0TWFuYWdlciIsImNyZWF0ZUZ1bmN0aW9uIiwiZnVuYyIsImJ1aWxkQ2FsbCIsImF0dGFjaFRvT2JqZWN0Iiwib2JqIiwic3BsaXQiLCJsZW5ndGgiLCJnZXRDYWxsIiwiYXJncyIsImV4dHJhY3RDYWxsYmFjayIsInBvcCIsInZhbGlkYXRlQXJncyIsImZvcm1hdElucHV0IiwiX3RoaXMiLCJmb3JtYXR0ZXIiLCJpbmRleCIsImZvcm1hdE91dHB1dCIsInJlcyIsInRvUGF5bG9hZCIsImNhbGxiYWNrIiwicGF5bG9hZCIsIl9jb25maXJtVHJhbnNhY3Rpb24iLCJkZWZlciIsInByb21pc2VSZXNvbHZlZCIsImNhblVuc3Vic2NyaWJlIiwidGltZW91dENvdW50IiwiY29uZmlybWF0aW9uQ291bnQiLCJpbnRlcnZhbElkIiwiYmxvY2tIZWFkZXJUaW1lb3V0SWQiLCJsYXN0QmxvY2siLCJnYXNQcm92aWRlZCIsImlzQ29udHJhY3REZXBsb3ltZW50IiwiaGFzQnl0ZWNvZGUiLCJfZXRoZXJldW1DYWxscyIsInZhbCIsInN1YnNjcmlwdGlvbnMiLCJzdWJzY3JpcHRpb25OYW1lIiwiX2V0aGVyZXVtQ2FsbCIsIm10aGQiLCJjaGVja0NvbmZpcm1hdGlvbiIsImV4aXN0aW5nUmVjZWlwdCIsImlzUG9sbGluZyIsImJsb2NrSGVhZGVyIiwic3ViIiwidW5zdWJzY3JpYmUiLCJjbGVhckludGVydmFsIiwiY2xlYXJUaW1lb3V0IiwicmVzb2x2ZSIsImdldFRyYW5zYWN0aW9uUmVjZWlwdCIsImNhdGNoIiwiX2ZpcmVFcnJvciIsImV2ZW50RW1pdHRlciIsInJlamVjdCIsInRoZW4iLCJhc3luYyIsInJlY2VpcHRGb3JtYXR0ZXIiLCJsaXN0ZW5lcnMiLCJsYXRlc3RCbG9jayIsImdldEJsb2NrQnlOdW1iZXIiLCJsYXRlc3RCbG9ja0hhc2giLCJoYXNoIiwiZW1pdCIsInJlbW92ZUFsbExpc3RlbmVycyIsImdldENvZGUiLCJjb250cmFjdERlcGxveUZvcm1hdHRlciIsIm91dE9mR2FzIiwicmV2ZXJ0TWVzc2FnZSIsInR4UmVwbGF5T3B0aW9ucyIsInJhd1RyYW5zYWN0aW9uSGV4IiwicGFyc2VkVHgiLCJwYXJzZSIsInRvSGV4U3RyaW5nIiwiZ2V0UmV2ZXJ0UmVhc29uIiwic3RhcnRXYXRjaGluZyIsImJsb2NrSGVhZGVyQXJyaXZlZCIsInN0YXJ0SW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImJpbmQiLCJvbiIsInN1YnNjcmliZSIsImdldFdhbGxldCIsIndhbGxldCIsInByaXZhdGVLZXkiLCJfaGFuZGxlVHhQcmljaW5nIiwiUHJvbWlzZSIsInRvSGV4IiwiZ2V0R2FzUHJpY2UiLCJhbGwiLCJyZXNwb25zZXMiLCJtdWwiLCJpc1NlbmRUeCIsImlzQ2FsbCIsInNlbmQiLCJzbGljZSIsImFyZ3VtZW50cyIsInNlbmRUeENhbGxiYWNrIiwicmVhc29uRGF0YSIsImlzUmV2ZXJ0UmVhc29uU3RyaW5nIiwic3Vic3RyaW5nIiwiZGVjb2RlUGFyYW1ldGVyIiwic2VuZFNpZ25lZFR4Iiwic2lnbiIsInNpZ25lZFBheWxvYWQiLCJyYXdUcmFuc2FjdGlvbiIsInNlbmRSZXF1ZXN0IiwiY2hhaW4iLCJoYXJkZm9yayIsImNvbW1vbiIsInNpZ25UcmFuc2FjdGlvbiIsInR4UHJpY2luZyIsInJlcXVlc3QiLCJ0eE9wdGlvbnMiLCJmb3JtYXQiLCJFdmVudEVtaXR0ZXIiLCJQcm9taUV2ZW50IiwianVzdFByb21pc2UiLCJlbWl0dGVyIiwiX2V2ZW50cyIsIm9mZiIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJwcm9taXNlIiwiSnNvbnJwYyIsIkJhdGNoIiwicmVxdWVzdHMiLCJleGVjdXRlIiwic29ydFJlc3BvbnNlcyIsIl9zb3J0UmVzcG9uc2VzIiwic2VuZEJhdGNoIiwicmVzdWx0cyIsImlzVmFsaWRSZXNwb25zZSIsInNvcnQiLCJnbG9iYWwiLCJGdW5jdGlvbiIsIndpbmRvdyIsIndlYjMiLCJzZW5kQXN5bmMiLCJjb25uZWN0aW9uIiwiY29uc3RydWN0b3IiLCJjYWxsYmFja2lmeSIsIkJhdGNoTWFuYWdlciIsIlJlcXVlc3RNYW5hZ2VyIiwibmV0IiwicHJvdmlkZXJzIiwiTWFwIiwiV2Vic29ja2V0UHJvdmlkZXIiLCJIdHRwUHJvdmlkZXIiLCJJcGNQcm92aWRlciIsInRlc3QiLCJjb25uZWN0IiwiY29ubmVjdGVkIiwiY2xlYXJTdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uIiwiZ2V0IiwiZGVwcmVjYXRlZFJlc3VsdCIsInJlc3Vic2NyaWJlIiwiX2lzQ2xlYW5DbG9zZUV2ZW50IiwiX2lzSXBjQ2xvc2VFcnJvciIsImRlbGV0ZSIsImpzb25ycGNQYXlsb2FkIiwianNvbnJwY1Jlc3VsdENhbGxiYWNrIiwiX2pzb25ycGNSZXN1bHRDYWxsYmFjayIsImNhbGxiYWNrUmVxdWVzdCIsInRvQmF0Y2hQYXlsb2FkIiwiYWRkU3Vic2NyaXB0aW9uIiwic2V0IiwicmVtb3ZlU3Vic2NyaXB0aW9uIiwia2VlcElzU3luY2luZyIsInJlc2V0Iiwid2FzQ2xlYW4iLCJNYW5hZ2VyIiwibWVzc2FnZUlkIiwianNvbnJwYyIsInJlc3BvbnNlIiwiZXZlcnkiLCJ2YWxpZGF0ZVNpbmdsZU1lc3NhZ2UiLCJtZXNzYWdlcyIsIlN1YnNjcmlwdGlvbiIsInJtIiwiY29uc29sZSIsIndhcm4iLCJhcHBseSIsImlkZW50aXR5IiwiT2JqZWN0IiwiY3JlYXRlIiwiX2V4dHJhY3RDYWxsYmFjayIsIl92YWxpZGF0ZUFyZ3MiLCJfZm9ybWF0SW5wdXQiLCJfZm9ybWF0T3V0cHV0IiwiX3RvUGF5bG9hZCIsInN1YnNjcmlwdGlvbk1ldGhvZCIsInNoaWZ0IiwiZXJyMSIsImVycjIiLCJoYXNPd25Qcm9wZXJ0eSIsImlzRmluaXRlIiwiYmxvY2tQYXJhbXMiLCJhc3NpZ24iLCJvdXRwdXQiLCJyZXN1bHRJdGVtIiwic3Vic2NyaXB0aW9uSGFuZGxlciIsInBja2ciLCJleCIsImV4dGVuc2lvbiIsImV4dGVuZGVkT2JqZWN0IiwicHJvcGVydHkiLCJtZXRob2RzIiwiZXh0ZW5kIiwicGFja2FnZUluaXQiLCJwa2ciLCJkZWZpbmVQcm9wZXJ0eSIsIl9wcm92aWRlciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJtYW5hZ2VyIiwiQmF0Y2hSZXF1ZXN0IiwiYWRkUHJvdmlkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==