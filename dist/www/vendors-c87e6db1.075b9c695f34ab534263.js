/*! For license information please see vendors-c87e6db1.075b9c695f34ab534263.js.LICENSE.txt */
(self.webpackChunkhugiris_nft=self.webpackChunkhugiris_nft||[]).push([[2827],{284:function(e){function t(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")}e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},8091:function(e){"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),n=1;n<arguments.length;n++){var s=arguments[n];if(null!=s)for(var o=Object.keys(Object(s)),i=0,a=o.length;i<a;i++){var c=o[i],u=Object.getOwnPropertyDescriptor(s,c);void 0!==u&&u.enumerable&&(r[c]=s[c])}}return r}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},53786:function(e){"use strict";const t=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r(((r,s)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),s(t)):r(t)}else e?s(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)}))};e.exports=(e,r)=>{let n;r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r),n="function"==typeof e?function(){return(r.excludeMain?e:t(e,r)).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const o in e){var s=e[o];n[o]="function"==typeof s&&(e=>{var t=t=>"string"==typeof t?e===t:t.test(e);return r.include?r.include.some(t):!r.exclude.some(t)})(o)?t(s,r):s}return n}},55850:function(e,t,r){r(75682),r(53786),r=r(37253);const n=(e,t)=>e+t,s=["sync","latest"];function o(e){return Number.parseInt(e,16)}e.exports=class extends r{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock||await new Promise((e=>this.once("latest",e)))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){s.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){0<this._getBlockTrackerEventCount()||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return s.map((e=>this.listenerCount(e))).reduce(n)}_newPotentialLatest(e){var t=this._currentBlock;t&&o(e)<=o(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){var t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}},75012:function(e,t,r){var n=r(25108);const s=r(53786);r=r(55850);function o(e,t){return new Promise((r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()}))}e.exports=class extends r{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");var t=e.pollingInterval||2e4,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),this.getLatestBlock()}_start(){this._performSync().catch((e=>this.emit("error",e)))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await o(this._pollingInterval,!this._keepEventLoopActive)}catch(t){var e=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n"+t.stack);try{this.emit("error",e)}catch(t){n.error(e)}await o(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){var e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);var t=await s((t=>this._provider.sendAsync(e,t)))();if(t.error)throw new Error("PollingBlockTracker - encountered error fetching block:\n"+t.error);return t.result}}},59873:function(e,t,r){var n=r(23085).Buffer,s=r(50455).keccak_256,o=r(94742);function i(e){return e&&o.toUnicode(e,{useStd3ASCII:!0,transitional:!1})}t.hash=function(e){for(var t="",r=0;r<32;r++)t+="00";if(name=i(e)){var o=name.split(".");for(r=o.length-1;0<=r;r--){var a=s(o[r]);t=s(new n(t+a,"hex"))}}return"0x"+t},t.normalize=i},50455:function(e,t,r){var n=r(34155);!function(){"use strict";for(var t="object"==typeof window?window:{},s=!(t=!t.JS_SHA3_NO_NODE_JS&&"object"==typeof n&&n.versions&&n.versions.node?r.g:t).JS_SHA3_NO_COMMON_JS&&e.exports,o="0123456789abcdef".split(""),i=[0,8,16,24],a=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],l=function(e,t,r){return function(n){return new w(e,t,e).update(n)[r]()}},d=function(e,t,r){return function(n,s){return new w(e,t,s).update(n)[r]()}},h=function(e,t){var r=l(e,t,"hex");r.create=function(){return new w(e,t,e)},r.update=function(e){return r.create().update(e)};for(var n=0;n<u.length;++n){var s=u[n];r[s]=l(e,t,s)}return r},p=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:h},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:h},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var r=d(e,t,"hex");r.create=function(r){return new w(e,t,r)},r.update=function(e,t){return r.create(t).update(e)};for(var n=0;n<u.length;++n){var s=u[n];r[s]=d(e,t,s)}return r}}],f={},m=[],g=0;g<p.length;++g)for(var y=p[g],_=y.bits,v=0;v<_.length;++v){var b=y.name+"_"+_[v];m.push(b),f[b]=y.createMethod(_[v],y.padding)}function w(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}w.prototype.update=function(e){for(var t,r,n="string"!=typeof e,s=(e=n&&e.constructor===ArrayBuffer?new Uint8Array(e):e).length,o=this.blocks,a=this.byteCount,c=this.blockCount,u=0,l=this.s;u<s;){if(this.reset)for(this.reset=!1,o[0]=this.block,t=1;t<c+1;++t)o[t]=0;if(n)for(t=this.start;u<s&&t<a;++u)o[t>>2]|=e[u]<<i[3&t++];else for(t=this.start;u<s&&t<a;++u)(r=e.charCodeAt(u))<128?o[t>>2]|=r<<i[3&t++]:(r<2048?o[t>>2]|=(192|r>>6)<<i[3&t++]:(r<55296||57344<=r?o[t>>2]|=(224|r>>12)<<i[3&t++]:(r=65536+((1023&r)<<10|1023&e.charCodeAt(++u)),o[t>>2]|=(240|r>>18)<<i[3&t++],o[t>>2]|=(128|r>>12&63)<<i[3&t++]),o[t>>2]|=(128|r>>6&63)<<i[3&t++]),o[t>>2]|=(128|63&r)<<i[3&t++]);if(a<=(this.lastByteIndex=t)){for(this.start=t-a,this.block=o[c],t=0;t<c;++t)l[t]^=o[t];k(l),this.reset=!0}else this.start=t}return this},w.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];k(n)},w.prototype.toString=w.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,s=this.extraBytes,i=0,a=0,c="";a<n;){for(i=0;i<t&&a<n;++i,++a)e=r[i],c+=o[e>>4&15]+o[15&e]+o[e>>12&15]+o[e>>8&15]+o[e>>20&15]+o[e>>16&15]+o[e>>28&15]+o[e>>24&15];a%t==0&&(k(r),i=0)}return s&&(e=r[i],0<s&&(c+=o[e>>4&15]+o[15&e]),1<s&&(c+=o[e>>12&15]+o[e>>8&15]),2<s&&(c+=o[e>>20&15]+o[e>>16&15])),c},w.prototype.buffer=w.prototype.arrayBuffer=function(){this.finalize();for(var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,s=0,o=0,i=this.outputBits>>3,a=n?new ArrayBuffer(r+1<<2):new ArrayBuffer(i),c=new Uint32Array(a);o<r;){for(s=0;s<e&&o<r;++s,++o)c[o]=t[s];o%e==0&&k(t)}return n&&(c[s]=t[s],a=a.slice(0,i)),a},w.prototype.digest=w.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,s=this.outputBlocks,o=this.extraBytes,i=0,a=0,c=[];a<s;){for(i=0;i<r&&a<s;++i,++a)t=n[i],c[e=a<<2]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&k(n)}return o&&(e=a<<2,t=n[i],0<o&&(c[e]=255&t),1<o&&(c[e+1]=t>>8&255),2<o&&(c[e+2]=t>>16&255)),c};var k=function(e){for(var t,r,n,s,o,i,c,u,l,d,h,p,f,m,g,y,_,v,b,w,k,R,B,E,C,x,P,j,I,F,M,O,T,A,S,L,N,H,q,J,z,U,D,V,W,$,G,Q,K,X,Y=0;Y<48;Y+=2)I=e[0]^e[10]^e[20]^e[30]^e[40],F=e[1]^e[11]^e[21]^e[31]^e[41],r=e[2]^e[12]^e[22]^e[32]^e[42],t=e[3]^e[13]^e[23]^e[33]^e[43],A=e[4]^e[14]^e[24]^e[34]^e[44],T=e[5]^e[15]^e[25]^e[35]^e[45],Q=e[6]^e[16]^e[26]^e[36]^e[46],G=e[7]^e[17]^e[27]^e[37]^e[47],g=e[8]^e[18]^e[28]^e[38]^e[48],R=(y=e[9]^e[19]^e[29]^e[39]^e[49])^(t<<1|r>>>31),e[0]^=k=g^(r<<1|t>>>31),e[1]^=R,e[10]^=k,e[11]^=R,e[20]^=k,e[21]^=R,e[30]^=k,e[31]^=R,e[40]^=k,e[41]^=R,R=F^(T<<1|A>>>31),e[2]^=k=I^(A<<1|T>>>31),e[3]^=R,e[12]^=k,e[13]^=R,e[22]^=k,e[23]^=R,e[32]^=k,e[33]^=R,e[42]^=k,e[43]^=R,R=t^(G<<1|Q>>>31),e[4]^=k=r^(Q<<1|G>>>31),e[5]^=R,e[14]^=k,e[15]^=R,e[24]^=k,e[25]^=R,e[34]^=k,e[35]^=R,e[44]^=k,e[45]^=R,R=T^(y<<1|g>>>31),e[6]^=k=A^(g<<1|y>>>31),e[7]^=R,e[16]^=k,e[17]^=R,e[26]^=k,e[27]^=R,e[36]^=k,e[37]^=R,e[46]^=k,e[47]^=R,R=G^(F<<1|I>>>31),e[8]^=k=Q^(I<<1|F>>>31),e[9]^=R,e[18]^=k,e[19]^=R,e[28]^=k,e[29]^=R,e[38]^=k,e[39]^=R,e[48]^=k,e[49]^=R,t=e[0],r=e[1],T=e[11]<<4|e[10]>>>28,A=e[10]<<4|e[11]>>>28,g=e[20]<<3|e[21]>>>29,y=e[21]<<3|e[20]>>>29,G=e[31]<<9|e[30]>>>23,Q=e[30]<<9|e[31]>>>23,I=e[40]<<18|e[41]>>>14,F=e[41]<<18|e[40]>>>14,k=e[2]<<1|e[3]>>>31,R=e[3]<<1|e[2]>>>31,n=e[13]<<12|e[12]>>>20,s=e[12]<<12|e[13]>>>20,S=e[22]<<10|e[23]>>>22,L=e[23]<<10|e[22]>>>22,_=e[33]<<13|e[32]>>>19,v=e[32]<<13|e[33]>>>19,K=e[42]<<2|e[43]>>>30,X=e[43]<<2|e[42]>>>30,z=e[5]<<30|e[4]>>>2,U=e[4]<<30|e[5]>>>2,B=e[14]<<6|e[15]>>>26,E=e[15]<<6|e[14]>>>26,o=e[25]<<11|e[24]>>>21,i=e[24]<<11|e[25]>>>21,N=e[34]<<15|e[35]>>>17,H=e[35]<<15|e[34]>>>17,b=e[45]<<29|e[44]>>>3,w=e[44]<<29|e[45]>>>3,h=e[6]<<28|e[7]>>>4,p=e[7]<<28|e[6]>>>4,D=e[17]<<23|e[16]>>>9,V=e[16]<<23|e[17]>>>9,C=e[26]<<25|e[27]>>>7,x=e[27]<<25|e[26]>>>7,c=e[36]<<21|e[37]>>>11,u=e[37]<<21|e[36]>>>11,q=e[47]<<24|e[46]>>>8,J=e[46]<<24|e[47]>>>8,M=e[8]<<27|e[9]>>>5,O=e[9]<<27|e[8]>>>5,f=e[18]<<20|e[19]>>>12,m=e[19]<<20|e[18]>>>12,W=e[29]<<7|e[28]>>>25,$=e[28]<<7|e[29]>>>25,P=e[38]<<8|e[39]>>>24,j=e[39]<<8|e[38]>>>24,l=e[48]<<14|e[49]>>>18,d=e[49]<<14|e[48]>>>18,e[0]=t^~n&o,e[1]=r^~s&i,e[10]=h^~f&g,e[11]=p^~m&y,e[20]=k^~B&C,e[21]=R^~E&x,e[30]=M^~T&S,e[31]=O^~A&L,e[40]=z^~D&W,e[41]=U^~V&$,e[2]=n^~o&c,e[3]=s^~i&u,e[12]=f^~g&_,e[13]=m^~y&v,e[22]=B^~C&P,e[23]=E^~x&j,e[32]=T^~S&N,e[33]=A^~L&H,e[42]=D^~W&G,e[43]=V^~$&Q,e[4]=o^~c&l,e[5]=i^~u&d,e[14]=g^~_&b,e[15]=y^~v&w,e[24]=C^~P&I,e[25]=x^~j&F,e[34]=S^~N&q,e[35]=L^~H&J,e[44]=W^~G&K,e[45]=$^~Q&X,e[6]=c^~l&t,e[7]=u^~d&r,e[16]=_^~b&h,e[17]=v^~w&p,e[26]=P^~I&k,e[27]=j^~F&R,e[36]=N^~q&M,e[37]=H^~J&O,e[46]=G^~K&z,e[47]=Q^~X&U,e[8]=l^~t&n,e[9]=d^~r&s,e[18]=b^~h&f,e[19]=w^~p&m,e[28]=I^~k&B,e[29]=F^~R&E,e[38]=q^~M&T,e[39]=J^~O&A,e[48]=K^~z&D,e[49]=X^~U&V,e[0]^=a[Y],e[1]^=a[Y+1]};if(s)e.exports=f;else for(g=0;g<m.length;++g)t[m[g]]=f[m[g]]}()},23256:function(e,t,r){r=r(76622);e.exports=class extends r{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},76622:function(e,t,r){r=r(19394).default;e.exports=class extends r{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach((e=>this.emit("update",e)))}addInitialResults(e){}getChangesAndClear(){var e=this.updates;return this.updates=[],e}}},72785:function(e,t,r){var n=r(76622);const s=r(40207),o=r(98112).incrementHexInt;e.exports=class extends n{constructor({provider:e}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){e=o(e);e=(await s({provider:this.provider,fromBlock:e,toBlock:t})).map((e=>e.hash)),this.addResults(e)}}},40207:function(e){function t(e){return null==e?e:Number.parseInt(e,16)}function r(e){return null==e?e:"0x"+e.toString(16)}e.exports=async function({provider:e,fromBlock:n,toBlock:s}){const o=t(n=n||s),i=t(s),a=Array(i-o+1).fill().map(((e,t)=>o+t)).map(r),c=await Promise.all(a.map((t=>{var r=e,n=[t,!1];return new Promise(((e,t)=>{r.sendAsync({id:1,jsonrpc:"2.0",method:"eth_getBlockByNumber",params:n},((r,n)=>{if(r)return t(r);e(n.result)}))}))})));return c}},98112:function(e){function t(e){return e.sort(((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:r(e)-r(t)))}function r(e){return null==e?e:Number.parseInt(e,16)}function n(e){if(null==e)return e;let t=e.toString(16);return"0x"+((e=t.length%2)?"0"+t:t)}function s(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){return(e=t(e))[0]},maxBlockRef:function(...e){return(e=t(e))[e.length-1]},sortBlockRefs:t,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:r,incrementHexInt:function(e){return null==e?e:n((e=r(e))+1)},intToHex:n,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t=(t+=s())+s();return t}}},98406:function(e,t,r){var n=r(25108);const s=r(48125).WU,o=r(18320).createAsyncMiddleware,i=r(57688),a=r(81663),c=r(72785),u=r(25792),{intToHex:l,hexToInt:d}=r(98112);function h(e){return p((async(...t)=>(t=await e(...t),l(t.id))))}function p(e){return o((async(t,r)=>{t=await e.apply(null,t.params),r.result=t}))}function f(e){const t=[];for(var r in e)t.push(e[r]);return t}e.exports=function({blockTracker:e,provider:t}){let r=0,o={};const m=new s,g=function({mutex:e}){return t=>async(r,n,s,o)=>{(await e.acquire())(),t(r,n,s,o)}}({mutex:m}),y=i({eth_newFilter:g(h(v)),eth_newBlockFilter:g(h(b)),eth_newPendingTransactionFilter:g(h(w)),eth_uninstallFilter:g(p(B)),eth_getFilterChanges:g(p(k)),eth_getFilterLogs:g(p(R))}),_=async({oldBlock:e,newBlock:t})=>{if(0!==o.length){const r=await m.acquire();try{await Promise.all(f(o).map((async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(r){n.error(r)}})))}catch(e){n.error(e)}r()}};return y.newLogFilter=v,y.newBlockFilter=b,y.newPendingTransactionFilter=w,y.uninstallFilter=B,y.getFilterChanges=k,y.getFilterLogs=R,y.destroy=()=>{!async function(){var e=f(o).length;o={},C({prevFilterCount:e,newFilterCount:0})}()},y;async function v(e){return e=new a({provider:t,params:e}),await E(e),e}async function b(){var e=new c({provider:t});return await E(e),e}async function w(){var e=new u({provider:t});return await E(e),e}async function k(e){e=d(e);const t=o[e];if(!t)throw new Error(`No filter for index "${e}"`);return t.getChangesAndClear()}async function R(e){e=d(e);const t=o[e];if(!t)throw new Error(`No filter for index "${e}"`);return results="log"===t.type?t.getAllResults():[]}async function B(e){e=d(e);var t,r=o[e];return(r=Boolean(r))&&(e=e,t=f(o).length,delete o[e],e=f(o).length,await!C({prevFilterCount:t,newFilterCount:e})),r}async function E(t){var n=f(o).length,s=await e.getLatestBlock();return C({prevFilterCount:n,newFilterCount:s=(await t.initialize({currentBlock:s}),r++,(o[r]=t).id=r,t.idHex=l(r),f(o).length)}),r}function C({prevFilterCount:t,newFilterCount:r}){0===t&&0<r?e.on("sync",_):0<t&&0===r&&e.removeListener("sync",_)}}},81663:function(e,t,r){const n=r(75682),s=r(6417);var o=r(23256);const{hexToInt:i,incrementHexInt:a,minBlockRef:c,blockRefIsNumber:u}=r(98112);e.exports=class extends o{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map((e=>e.toLowerCase())))}async initialize({currentBlock:e}){let t=this.params.fromBlock;"earliest"===(t=["latest","pending"].includes(t)?e:t)&&(t="0x0"),this.params.fromBlock=t,e=c(this.params.toBlock,e),e=Object.assign({},this.params,{toBlock:e}),e=await this._fetchLogs(e),this.addInitialResults(e)}async update({oldBlock:e,newBlock:t}){var r=t;let n;n=e?a(e):t,e=Object.assign({},this.params,{fromBlock:n,toBlock:r});t=(await this._fetchLogs(e)).filter((e=>this.matchLog(e))),this.addResults(t)}async _fetchLogs(e){return await s((t=>this.ethQuery.getLogs(e,t)))()}matchLog(e){if(i(this.params.fromBlock)>=i(e.blockNumber))return!1;if(u(this.params.toBlock)&&i(this.params.toBlock)<=i(e.blockNumber))return!1;var t=e.address&&e.address.toLowerCase();return!(this.params.address&&t&&!this.params.address.includes(t))&&this.params.topics.every(((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let s=Array.isArray(t)?t:[t];return!!s.includes(null)||(s=s.map((e=>e.toLowerCase()))).includes(n)}))}}},25232:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(4445);class s extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}function o(e,t){if("[Circular]"!==t)return t}t.EthereumRpcError=s,t.EthereumProviderError=class extends s{constructor(e,t,r){if(n=e,!(Number.isInteger(n)&&1e3<=n&&n<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');var n;super(e,t,r)}}},14142:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},26339:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(25232),s=r(31299),o=r(14142);function i(e,t){var[t,r]=c(t);return new n.EthereumRpcError(e,t||s.getMessageFromCode(e),r)}function a(e,t){var[t,r]=c(t);return new n.EthereumProviderError(e,t||s.getMessageFromCode(e),r)}function c(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){var{message:e,data:t}=e;if(e&&"string"!=typeof e)throw new Error("Must specify string message.");return[e||void 0,t]}}return[]}t.ethErrors={rpc:{parse:e=>i(o.errorCodes.rpc.parse,e),invalidRequest:e=>i(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>i(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>i(o.errorCodes.rpc.methodNotFound,e),internal:e=>i(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||-32005<t||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return i(t,e)},invalidInput:e=>i(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>i(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>i(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>i(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>i(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>i(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var{code:e,message:t,data:r}=e;if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(e,t,r)}}}},69313:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(25232),s=(Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}}),r(31299)),o=(Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return s.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return s.getMessageFromCode}}),r(26339)),i=(Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}}),r(14142));Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})},31299:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(14142),s=r(25232),o={code:r=n.errorCodes.rpc.internal,message:i(r)};function i(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){var s=e.toString();if(l(n.errorValues,s))return n.errorValues[s].message;if(c(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function a(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!n.errorValues[t]||!!c(e)}function c(e){return-32099<=e&&e<=-32e3}function u(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=i,t.isValidCode=a,t.serializeError=function(e,{fallbackError:t=o,shouldIncludeStack:r=!1}={}){if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof s.EthereumRpcError)return e.serialize();const n={};e&&"object"==typeof e&&!Array.isArray(e)&&l(e,"code")&&a(e.code)?(c=e,n.code=c.code,c.message&&"string"==typeof c.message?(n.message=c.message,l(c,"data")&&(n.data=c.data)):(n.message=i(n.code),n.data={originalError:u(e)})):(n.code=t.code,c=null==e?void 0:e.message,n.message=c&&"string"==typeof c?c:t.message,n.data={originalError:u(e)});var c=null==e?void 0:e.stack;return r&&e&&c&&"string"==typeof c&&(n.stack=c),n}},36739:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0,n=n(r(19394));const s=r(69313);class o extends n.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[s,i,a]=await o._runAllMiddleware(e,t,this._middleware);return i?(await o._runReturnHandlers(a),n(s)):r((async e=>{try{await o._runReturnHandlers(a)}catch(t){return e(t)}return e()}))}catch(e){return n(e)}}}async _handleBatch(e,t){try{var r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise((t=>{this._handle(e,((e,r)=>{t(r)}))}))}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!=typeof e.method){const r=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r={id:(e=Object.assign({},e)).id,jsonrpc:e.jsonrpc};let n=null;try{await this._processRequest(e,r)}catch(e){n=e}return n&&(delete r.result,r.error||(r.error=s.serializeError(n))),t(n,r)}async _processRequest(e,t){var[r,n,s]=await o._runAllMiddleware(e,t,this._middleware);if(o._checkForCompletion(e,t,n),await o._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let s=null,i=!1;for(const a of r)if([s,i]=await o._runMiddleware(e,t,a,n),i)break;return[s,i,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise((o=>{const a=e=>{(e=e||t.error)&&(t.error=s.serializeError(e)),o([e,!0])};try{r(e,t,(r=>{t.error?a(t.error):(r&&("function"!=typeof r&&a(new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n`+i(e),{request:e})),n.push(r)),o([null,!1]))}),a)}catch(e){a(e)}}))}static async _runReturnHandlers(e){for(const t of e)await new Promise(((e,r)=>{t((t=>t?r(t):e()))}))}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new s.EthereumRpcError(s.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n"+i(e),{request:e});if(!r)throw new s.EthereumRpcError(s.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n"+i(e),{request:e})}}function i(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=o},1152:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,s)=>{let o;const i=new Promise((e=>{o=e}));let a=null,c=!1;try{await e(t,r,(async()=>{c=!0,n((e=>{a=e,o()})),await i})),c?(await i,a(null)):s(null)}catch(t){(a||s)(t)}}}},64980:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,s)=>{const o=e[t.method];return void 0===o?n():"function"==typeof o?o(t,r,n,s):(r.result=o,s())}}},51084:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;const r=4294967295;let n=Math.floor(Math.random()*r);t.getUniqueId=function(){return n=(n+1)%r}},28104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(51084);t.createIdRemapMiddleware=function(){return(e,t,r,s)=>{const o=e.id;var i=n.getUniqueId();e.id=i,t.id=i,r((r=>{e.id=o,t.id=o,r()}))}}},18320:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(28104),t),s(r(1152),t),s(r(64980),t),s(r(51084),t),s(r(36739),t),s(r(18175),t)},18175:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(36739);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach((e=>t.push(e))),t.asMiddleware()}},6417:function(e){"use strict";const t=(e,t,r,n)=>function(...s){return new(0,t.promiseModule)(((o,i)=>{t.multiArgs?s.push(((...e)=>{t.errorFirst?e[0]?i(e):(e.shift(),o(e)):o(e)})):t.errorFirst?s.push(((e,t)=>{e?i(e):o(t)})):s.push(o),Reflect.apply(e,this===r?n:this,s)}))},r=new WeakMap;e.exports=(e,n)=>{n={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...n};var s=typeof e;if(null===e||"object"!=s&&"function"!=s)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":s}\``);const o=new WeakMap,i=new Proxy(e,{apply(e,r,s){var a=o.get(e);return a||(a=n.excludeMain?e:t(e,n,i,e),o.set(e,a)),Reflect.apply(a,r,s)},get(e,s){var a=e[s];return((e,t)=>{let s=r.get(e);if(s||(s={},r.set(e,s)),t in s)return s[t];var o=e=>"string"==typeof e||"symbol"==typeof t?t===e:e.test(t);e=void 0===(e=Reflect.getOwnPropertyDescriptor(e,t))||e.writable||e.configurable,o=(n.include?n.include.some(o):!n.exclude.some(o))&&e;return s[t]=o})(e,s)&&a!==Function.prototype[s]?(s=o.get(a))||("function"==typeof a?(s=t(a,n,i,e),o.set(a,s),s):a):a}});return i}},68961:function(e,t,r){const n=r(19394).default,s=r(57688),o=r(18320).createAsyncMiddleware,i=r(98406),{unsafeRandomBytes:a,incrementHexInt:c}=r(98112),u=r(40207);function l(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){const r={},d=i({blockTracker:e,provider:t});let h=!1;const p=new n,f=s({eth_subscribe:o((async function(n,s){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const o=n.params[0],i=a(16);let p;switch(o){case"newHeads":p=function({subId:r}){const n={type:o,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{e=c(e);(await u({provider:t,fromBlock:e,toBlock:n})).map(l).forEach((e=>{m(r,e)}))}};return e.on("sync",n.update),n}({subId:i});break;case"logs":var f=n.params[1];p=function({subId:e,filter:t}){return t.on("update",(t=>m(e,t))),{type:o,destroy:async()=>d.uninstallFilter(t.idHex)}}({subId:i,filter:f=await d.newLogFilter(f)});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${o}"`)}r[i]=p,s.result=i})),eth_unsubscribe:o((async function(e,t){if(h)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],s=r[n];s?(delete r[n],await s.destroy(),t.result=!0):t.result=!1}))});return f.destroy=function(){p.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];h=!0},{events:p,middleware:f};function m(e,t){p.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},25792:function(e,t,r){var n=r(76622);const s=r(40207),o=r(98112).incrementHexInt;e.exports=class extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){var t=e;e=o(e);const r=[];for(const n of await s({provider:this.provider,fromBlock:e,toBlock:t}))r.push(...n.transactions);this.addResults(r)}}},37870:function(e,t,r){const n=r(91625),s=r(21497),o=[void 0,null,"<nil>"];e.exports=function(e={}){const t=e.blockTracker;if(!t)throw new Error("createBlockCacheMiddleware - No BlockTracker specified");const r=new i,o={perma:r,block:r,fork:r};return s((async(e,s,i)=>{if(e.skipCache)return i();var a=n.cacheTypeForPayload(e);const c=o[a];if(!c)return i();if(!c.canCacheRequest(e))return i();let u,l=n.blockTagForPayload(e);l=l||"latest",u="earliest"===l?"0x00":"latest"===l?(a=await t.getLatestBlock(),r.clearBefore(a),a):l,void 0===(a=await c.get(e,u))?(await i(),await c.set(e,u,s.result)):s.result=a}))};class i{constructor(){this.cache={}}getBlockCacheForPayload(e,t){t=Number.parseInt(t,16);let r=this.cache[t];return r||(this.cache[t]=t={},r=t),r}async get(e,t){if(t=this.getBlockCacheForPayload(e,t))return t[n.cacheIdentifierForPayload(e,!0)]}async set(e,t,r){if(this.canCacheResult(e,r)){this.getBlockCacheForPayload(e,t)[t=n.cacheIdentifierForPayload(e,!0)]=r}}canCacheRequest(e){return!!n.canCache(e)&&"pending"!==n.blockTagForPayload(e)}canCacheResult(e,t){if(!o.includes(t))return!!(!["eth_getTransactionByHash","eth_getTransactionReceipt"].includes(e.method)||t&&t.blockHash&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==t.blockHash)}clearBefore(e){const t=this,r=Number.parseInt(e,16);Object.keys(t.cache).map(Number).filter((e=>e<r)).forEach((e=>delete t.cache[e]))}}},91625:function(e,t,r){const n=r(67266);function s(e){return"never"!==a(e)}function o(e){var t=i(e);return t>=e.params.length?e.params:"eth_getBlockByNumber"===e.method?e.params.slice(1):e.params.slice(0,t)}function i(e){switch(e.method){case"eth_getStorageAt":return 2;case"eth_getBalance":case"eth_getCode":case"eth_getTransactionCount":case"eth_call":return 1;case"eth_getBlockByNumber":return 0;default:return}}function a(e){switch(e.method){case"web3_clientVersion":case"web3_sha3":case"eth_protocolVersion":case"eth_getBlockTransactionCountByHash":case"eth_getUncleCountByBlockHash":case"eth_getCode":case"eth_getBlockByHash":case"eth_getTransactionByHash":case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionReceipt":case"eth_getUncleByBlockHashAndIndex":case"eth_getCompilers":case"eth_compileLLL":case"eth_compileSolidity":case"eth_compileSerpent":case"shh_version":case"test_permaCache":return"perma";case"eth_getBlockByNumber":case"eth_getBlockTransactionCountByNumber":case"eth_getUncleCountByBlockNumber":case"eth_getTransactionByBlockNumberAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"test_forkCache":return"fork";case"eth_gasPrice":case"eth_blockNumber":case"eth_getBalance":case"eth_getStorageAt":case"eth_getTransactionCount":case"eth_call":case"eth_estimateGas":case"eth_getFilterLogs":case"eth_getLogs":case"test_blockCache":return"block";case"net_version":case"net_peerCount":case"net_listening":case"eth_syncing":case"eth_sign":case"eth_coinbase":case"eth_mining":case"eth_hashrate":case"eth_accounts":case"eth_sendTransaction":case"eth_sendRawTransaction":case"eth_newFilter":case"eth_newBlockFilter":case"eth_newPendingTransactionFilter":case"eth_uninstallFilter":case"eth_getFilterChanges":case"eth_getWork":case"eth_submitWork":case"eth_submitHashrate":case"db_putString":case"db_getString":case"db_putHex":case"db_getHex":case"shh_post":case"shh_newIdentity":case"shh_hasIdentity":case"shh_newGroup":case"shh_addToGroup":case"shh_newFilter":case"shh_uninstallFilter":case"shh_getFilterChanges":case"shh_getMessages":case"test_neverCache":return"never"}}e.exports={cacheIdentifierForPayload:function(e,t){return t=t?o(e):e.params,s(e)?e.method+":"+n(t):null},canCache:s,blockTagForPayload:function(e){var t=i(e);return t>=e.params.length?null:e.params[t]},paramsWithoutBlockTag:o,blockTagParamIndex:i,cacheTypeForPayload:a}},57688:function(e,t,r){e.exports=r(52121)}}]);